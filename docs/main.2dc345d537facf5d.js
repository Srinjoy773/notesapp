"use strict";(self.webpackChunkNotesApp=self.webpackChunkNotesApp||[]).push([[179],{757:()=>{function Se(n){return"function"==typeof n}function Ou(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const bd=Ou(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function jo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class On{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){e=s instanceof bd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{oS(s)}catch(o){e=e??[],o instanceof bd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new bd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)oS(e);else{if(e instanceof On){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&jo(t,e)}remove(e){const{_finalizers:t}=this;t&&jo(t,e),e instanceof On&&e._removeParent(this)}}On.EMPTY=(()=>{const n=new On;return n.closed=!0,n})();const iS=On.EMPTY;function sS(n){return n instanceof On||n&&"closed"in n&&Se(n.remove)&&Se(n.add)&&Se(n.unsubscribe)}function oS(n){Se(n)?n():n.unsubscribe()}const Ds={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Dd={setTimeout(n,e,...t){const{delegate:r}=Dd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Dd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function aS(n){Dd.setTimeout(()=>{const{onUnhandledError:e}=Ds;if(!e)throw n;e(n)})}function em(){}const zj=tm("C",void 0,void 0);function tm(n,e,t){return{kind:n,value:e,error:t}}let Ts=null;function Td(n){if(Ds.useDeprecatedSynchronousErrorHandling){const e=!Ts;if(e&&(Ts={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ts;if(Ts=null,t)throw r}}else n()}class nm extends On{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sS(e)&&e.add(this)):this.destination=Jj}static create(e,t,r){return new Fu(e,t,r)}next(e){this.isStopped?im(function Kj(n){return tm("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?im(function Wj(n){return tm("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?im(zj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Yj=Function.prototype.bind;function rm(n,e){return Yj.call(n,e)}class Zj{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Cd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Cd(r)}else Cd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Cd(t)}}}class Fu extends nm{constructor(e,t,r){let i;if(super(),Se(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ds.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rm(e.next,s),error:e.error&&rm(e.error,s),complete:e.complete&&rm(e.complete,s)}):i=e}this.destination=new Zj(i)}}function Cd(n){Ds.useDeprecatedSynchronousErrorHandling?function Qj(n){Ds.useDeprecatedSynchronousErrorHandling&&Ts&&(Ts.errorThrown=!0,Ts.error=n)}(n):aS(n)}function im(n,e){const{onStoppedNotification:t}=Ds;t&&Dd.setTimeout(()=>t(n,e))}const Jj={closed:!0,next:em,error:function Xj(n){throw n},complete:em},sm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cs(n){return n}function uS(n){return 0===n.length?Cs:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function nH(n){return n&&n instanceof nm||function tH(n){return n&&Se(n.next)&&Se(n.error)&&Se(n.complete)}(n)&&sS(n)}(t)?t:new Fu(t,r,i);return Td(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=lS(r))((i,s)=>{const o=new Fu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[sm](){return this}pipe(...t){return uS(t)(this)}toPromise(t){return new(t=lS(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function lS(n){var e;return null!==(e=n??Ds.Promise)&&void 0!==e?e:Promise}const rH=Ou(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let mr=(()=>{class n extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new cS(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new rH}next(t){Td(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Td(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Td(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?iS:(this.currentObservers=null,s.push(t),new On(()=>{this.currentObservers=null,jo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Be;return t.source=this,t}}return n.create=(e,t)=>new cS(e,t),n})();class cS extends mr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:iS}}function dS(n){return Se(n?.lift)}function ht(n){return e=>{if(dS(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(n,e,t,r,i){return new iH(n,e,t,r,i)}class iH extends nm{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function de(n,e){return ht((t,r)=>{let i=0;t.subscribe(st(r,s=>{r.next(n.call(e,s,i++))}))})}function fS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ss(n){return this instanceof Ss?(this.v=n,this):new Ss(n)}function aH(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ss?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function uH(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function gS(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const mS=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function yS(n){return Se(n?.then)}function _S(n){return Se(n[sm])}function vS(n){return Symbol.asyncIterator&&Se(n?.[Symbol.asyncIterator])}function wS(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ES=function cH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function IS(n){return Se(n?.[ES])}function bS(n){return aH(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ss(t.read());if(i)return yield Ss(void 0);yield yield Ss(r)}}finally{t.releaseLock()}})}function DS(n){return Se(n?.getReader)}function nr(n){if(n instanceof Be)return n;if(null!=n){if(_S(n))return function dH(n){return new Be(e=>{const t=n[sm]();if(Se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(mS(n))return function hH(n){return new Be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(yS(n))return function fH(n){return new Be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,aS)})}(n);if(vS(n))return TS(n);if(IS(n))return function pH(n){return new Be(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(DS(n))return function gH(n){return TS(bS(n))}(n)}throw wS(n)}function TS(n){return new Be(e=>{(function mH(n,e){var t,r,i,s;return function sH(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=uH(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ni(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Nt(n,e,t=1/0){return Se(e)?Nt((r,i)=>de((s,o)=>e(r,s,i,o))(nr(n(r,i))),t):("number"==typeof e&&(t=e),ht((r,i)=>function yH(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let m=!1;nr(t(g,c++)).subscribe(st(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;u.length&&l<r;){const v=u.shift();o?ni(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(st(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Ho(n=1/0){return Nt(Cs,n)}const ri=new Be(n=>n.complete());function am(n){return n[n.length-1]}function CS(n){return Se(am(n))?n.pop():void 0}function Lu(n){return function vH(n){return n&&Se(n.schedule)}(am(n))?n.pop():void 0}function Sd(n,e=0){return ht((t,r)=>{t.subscribe(st(r,i=>ni(r,n,()=>r.next(i),e),()=>ni(r,n,()=>r.complete(),e),i=>ni(r,n,()=>r.error(i),e)))})}function Ad(n,e=0){return ht((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function SS(n,e){if(!n)throw new Error("Iterable cannot be null");return new Be(t=>{ni(t,e,()=>{const r=n[Symbol.asyncIterator]();ni(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ot(n,e){return e?function CH(n,e){if(null!=n){if(_S(n))return function EH(n,e){return nr(n).pipe(Ad(e),Sd(e))}(n,e);if(mS(n))return function bH(n,e){return new Be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(yS(n))return function IH(n,e){return nr(n).pipe(Ad(e),Sd(e))}(n,e);if(vS(n))return SS(n,e);if(IS(n))return function DH(n,e){return new Be(t=>{let r;return ni(t,e,()=>{r=n[ES](),ni(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(n,e);if(DS(n))return function TH(n,e){return SS(bS(n),e)}(n,e)}throw wS(n)}(n,e):nr(n)}function um(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Fu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function lm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function cm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const MH=Te({__forward_ref__:Te});function Ae(n){return n.__forward_ref__=Ae,n.toString=function(){return Ce(this())},n}function Y(n){return dm(n)?n():n}function dm(n){return"function"==typeof n&&n.hasOwnProperty(MH)&&n.__forward_ref__===Ae}class b extends Error{constructor(e,t){super(function Md(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function xd(n,e){throw new b(-201,!1)}function Ln(n,e){null==n&&function we(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Nd(n){return AS(n,kd)||AS(n,xS)}function AS(n,e){return n.hasOwnProperty(e)?n[e]:null}function MS(n){return n&&(n.hasOwnProperty(hm)||n.hasOwnProperty(VH))?n[hm]:null}const kd=Te({\u0275prov:Te}),hm=Te({\u0275inj:Te}),xS=Te({ngInjectableDef:Te}),VH=Te({ngInjectorDef:Te});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let fm;function rr(n){const e=fm;return fm=n,e}function NS(n,e,t){const r=Nd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&q.Optional?null:void 0!==e?e:void xd(Ce(n))}function Hi(n){return{toString:n}.toString()}var yr=(()=>((yr=yr||{})[yr.OnPush=0]="OnPush",yr[yr.Default=1]="Default",yr))(),_r=(()=>{return(n=_r||(_r={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",_r;var n})();const Me=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Go={},ve=[],Rd=Te({\u0275cmp:Te}),pm=Te({\u0275dir:Te}),gm=Te({\u0275pipe:Te}),kS=Te({\u0275mod:Te}),si=Te({\u0275fac:Te}),Vu=Te({__NG_ELEMENT_ID__:Te});let BH=0;function qo(n){return Hi(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===yr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ve,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,id:"c"+BH++,styles:n.styles||ve,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=OS(n.inputs,r),i.outputs=OS(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(RS).filter(PS):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(on).filter(PS):null,i})}function RS(n){return Ee(n)||sn(n)}function PS(n){return null!==n}function Dn(n){return Hi(()=>({type:n.type,bootstrap:n.bootstrap||ve,declarations:n.declarations||ve,imports:n.imports||ve,exports:n.exports||ve,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function OS(n,e){if(null==n)return Go;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Z=qo;function rn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ee(n){return n[Rd]||null}function sn(n){return n[pm]||null}function on(n){return n[gm]||null}function Vn(n,e){const t=n[kS]||null;if(!t&&!0===e)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return t}function Tn(n){return Array.isArray(n)&&"object"==typeof n[1]}function wr(n){return Array.isArray(n)&&!0===n[1]}function _m(n){return 0!=(8&n.flags)}function Ld(n){return 2==(2&n.flags)}function Vd(n){return 1==(1&n.flags)}function Er(n){return null!==n.template}function zH(n){return 0!=(256&n[2])}function ks(n,e){return n.hasOwnProperty(si)?n[si]:null}class QH{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bn(){return VS}function VS(n){return n.type.prototype.ngOnChanges&&(n.setInput=ZH),YH}function YH(){const n=BS(this),e=n?.current;if(e){const t=n.previous;if(t===Go)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ZH(n,e,t,r){const i=BS(n)||function XH(n,e){return n[US]=e}(n,{previous:Go,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new QH(u&&u.currentValue,e,o===Go),n[r]=e}Bn.ngInherit=!0;const US="__ngSimpleChanges__";function BS(n){return n[US]||null}function at(n){for(;Array.isArray(n);)n=n[0];return n}function Ud(n,e){return at(e[n])}function or(n,e){return at(e[n.index])}function bm(n,e){return n.data[e]}function $n(n,e){const t=e[n];return Tn(t)?t:t[0]}function Bd(n){return 64==(64&n[2])}function Gi(n,e){return null==e?null:n[e]}function $S(n){n[18]=0}function Dm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const X={lFrame:ZS(null),bindingsEnabled:!0};function HS(){return X.bindingsEnabled}function T(){return X.lFrame.lView}function fe(){return X.lFrame.tView}function Tm(n){return X.lFrame.contextLView=n,n[8]}function Cm(n){return X.lFrame.contextLView=null,n}function ft(){let n=GS();for(;null!==n&&64===n.type;)n=n.parent;return n}function GS(){return X.lFrame.currentTNode}function Rr(n,e){const t=X.lFrame;t.currentTNode=n,t.isParent=e}function Sm(){return X.lFrame.isParent}function Am(){X.lFrame.isParent=!1}function Zo(){return X.lFrame.bindingIndex++}function ai(n){const e=X.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fG(n,e){const t=X.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mm(e)}function Mm(n){X.lFrame.currentDirectiveIndex=n}function KS(){return X.lFrame.currentQueryIndex}function Nm(n){X.lFrame.currentQueryIndex=n}function gG(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function QS(n,e,t){if(t&q.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&q.Host||(i=gG(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=X.lFrame=YS();return r.currentTNode=e,r.lView=n,!0}function km(n){const e=YS(),t=n[1];X.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function YS(){const n=X.lFrame,e=null===n?null:n.child;return null===e?ZS(n):e}function ZS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function XS(){const n=X.lFrame;return X.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const JS=XS;function Rm(){const n=XS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function un(){return X.lFrame.selectedIndex}function qi(n){X.lFrame.selectedIndex=n}function $d(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function jd(n,e,t){eA(n,e,3,t)}function Hd(n,e,t,r){(3&n[2])===t&&eA(n,e,t,r)}function Pm(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function eA(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(DG(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function DG(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Gu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Gd(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];nA(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function tA(n){return 3===n||4===n||6===n}function nA(n){return 64===n.charCodeAt(0)}function qd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||rA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function rA(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function iA(n){return-1!==n}function Xo(n){return 32767&n}function Jo(n,e){let t=function MG(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Fm=!0;function zd(n){const e=Fm;return Fm=n,e}let xG=0;const Pr={};function zu(n,e){const t=Vm(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Lm(r.data,n),Lm(e,null),Lm(r.blueprint,null));const i=Wd(n,e),s=n.injectorIndex;if(iA(i)){const o=Xo(i),a=Jo(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Lm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Vm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Wd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=fA(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Kd(n,e,t){!function NG(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vu)&&(r=t[Vu]),null==r&&(r=t[Vu]=xG++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function aA(n,e,t){if(t&q.Optional||void 0!==n)return n;xd()}function uA(n,e,t,r){if(t&q.Optional&&void 0===r&&(r=null),0==(t&(q.Self|q.Host))){const i=n[9],s=rr(void 0);try{return i?i.get(e,r,t&q.Optional):NS(e,r,t&q.Optional)}finally{rr(s)}}return aA(r,0,t)}function lA(n,e,t,r=q.Default,i){if(null!==n){if(1024&e[2]){const o=function FG(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=cA(s,o,t,r|q.Self,Pr);if(a!==Pr)return a;let u=s.parent;if(!u){const l=o[21];if(l){const c=l.get(t,Pr,r);if(c!==Pr)return c}u=fA(o),o=o[15]}s=u}return i}(n,e,t,r,Pr);if(o!==Pr)return o}const s=cA(n,e,t,r,Pr);if(s!==Pr)return s}return uA(e,t,r,i)}function cA(n,e,t,r,i){const s=function PG(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Vu)?n[Vu]:void 0;return"number"==typeof e?e>=0?255&e:OG:e}(t);if("function"==typeof s){if(!QS(e,n,r))return r&q.Host?aA(i,0,r):uA(e,t,r,i);try{const o=s(r);if(null!=o||r&q.Optional)return o;xd()}finally{JS()}}else if("number"==typeof s){let o=null,a=Vm(n,e),u=-1,l=r&q.Host?e[16][6]:null;for((-1===a||r&q.SkipSelf)&&(u=-1===a?Wd(n,e):e[a+8],-1!==u&&hA(r,!1)?(o=e[1],a=Xo(u),e=Jo(u,e)):a=-1);-1!==a;){const c=e[1];if(dA(s,a,c.data)){const d=RG(a,e,t,o,r,l);if(d!==Pr)return d}u=e[a+8],-1!==u&&hA(r,e[1].data[a+8]===l)&&dA(s,a,e)?(o=c,a=Xo(u),e=Jo(u,e)):a=-1}}return i}function RG(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=Qd(a,o,t,null==r?Ld(a)&&Fm:r!=o&&0!=(3&a.type),i&q.Host&&s===a);return null!==c?Wu(e,o,c,a):Pr}function Qd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&Er(f)&&f.type===t)return u}return null}function Wu(n,e,t,r){let i=n[t];const s=e.data;if(function TG(n){return n instanceof Gu}(i)){const o=i;o.resolving&&function xH(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new b(-200,`Circular dependency in DI detected for ${n}${t}`)}(function _e(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}(s[t]));const a=zd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?rr(o.injectImpl):null;QS(n,r,q.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function bG(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=VS(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&rr(u),zd(a),o.resolving=!1,JS()}}return i}function dA(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function hA(n,e){return!(n&q.Self||n&q.Host&&e)}class ea{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return lA(this._tNode,this._lView,e,r,t)}}function OG(){return new ea(ft(),T())}function Um(n){return dm(n)?()=>{const e=Um(Y(n));return e&&e()}:ks(n)}function fA(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const na="__parameters__";function ia(n,e,t){return Hi(()=>{const r=function Bm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(na)?u[na]:Object.defineProperty(u,na,{value:[]})[na];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class B{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),jn(r,e)):e!==n&&e.push(r)}return e}function ui(n,e){n.forEach(t=>Array.isArray(t)?ui(t,e):e(t))}function gA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Zu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Hn(n,e,t){let r=sa(n,e);return r>=0?n[1|r]=t:(r=~r,function BG(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function jm(n,e){const t=sa(n,e);if(t>=0)return n[1|t]}function sa(n,e){return function _A(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Xu={},Gm="__NG_DI_FLAG__",Xd="ngTempTokenPath",KG=/\n/gm,vA="__source";let Ju;function oa(n){const e=Ju;return Ju=n,e}function YG(n,e=q.Default){if(void 0===Ju)throw new b(-203,!1);return null===Ju?NS(n,void 0,e):Ju.get(n,e&q.Optional?null:void 0,e)}function F(n,e=q.Default){return(function UH(){return fm}()||YG)(Y(n),e)}function Xe(n,e=q.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),F(n,e)}function qm(n){const e=[];for(let t=0;t<n.length;t++){const r=Y(n[t]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=q.Default;for(let o=0;o<r.length;o++){const a=r[o],u=ZG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function el(n,e){return n[Gm]=e,n.prototype[Gm]=e,n}function ZG(n){return n[Gm]}const ln=el(ia("Optional"),8),tl=el(ia("SkipSelf"),4);let Wm,th,nh;function ua(n){return function Km(){if(void 0===th&&(th=null,Me.trustedTypes))try{th=Me.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return th}()?.createHTML(n)||n}function MA(n){return function Qm(){if(void 0===nh&&(nh=null,Me.trustedTypes))try{nh=Me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nh}()?.createHTML(n)||n}class Rs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hq extends Rs{getTypeName(){return"HTML"}}class fq extends Rs{getTypeName(){return"Style"}}class pq extends Rs{getTypeName(){return"Script"}}class gq extends Rs{getTypeName(){return"URL"}}class mq extends Rs{getTypeName(){return"ResourceURL"}}function Gn(n){return n instanceof Rs?n.changingThisBreaksApplicationSecurity:n}function Or(n,e){const t=function yq(n){return n instanceof Rs&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class bq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ua(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Dq{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ua(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=ua(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Cq=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function rh(n){return(n=String(n)).match(Cq)?n:"unsafe:"+n}function li(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function il(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const RA=li("area,br,col,hr,img,wbr"),PA=li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OA=li("rp,rt"),Ym=il(RA,il(PA,li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),il(OA,li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),il(OA,PA)),Zm=li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),FA=il(Zm,li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sq=li("script,style,template");class Aq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ym.hasOwnProperty(t))return this.sanitizedSomething=!0,!Sq.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!FA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Zm[a]&&(u=rh(u)),this.buf.push(" ",o,'="',LA(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ym.hasOwnProperty(t)&&!RA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(LA(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Mq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xq=/([^\#-~ |!])/g;function LA(n){return n.replace(/&/g,"&amp;").replace(Mq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(xq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ih;function VA(n,e){let t=null;try{ih=ih||function kA(n){const e=new Dq(n);return function Tq(){try{return!!(new window.DOMParser).parseFromString(ua(""),"text/html")}catch{return!1}}()?new bq(e):e}(n);let r=e?String(e):"";t=ih.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=ih.getInertBodyElement(r)}while(r!==s);return ua((new Aq).sanitizeChildren(Xm(t)||t))}finally{if(t){const r=Xm(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Xm(n){return"content"in n&&function Nq(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ne=(()=>((Ne=Ne||{})[Ne.NONE=0]="NONE",Ne[Ne.HTML=1]="HTML",Ne[Ne.STYLE=2]="STYLE",Ne[Ne.SCRIPT=3]="SCRIPT",Ne[Ne.URL=4]="URL",Ne[Ne.RESOURCE_URL=5]="RESOURCE_URL",Ne))();function UA(n){const e=function sl(){const n=T();return n&&n[12]}();return e?MA(e.sanitize(Ne.HTML,n)||""):Or(n,"HTML")?MA(Gn(n)):VA(function AA(){return void 0!==Wm?Wm:typeof document<"u"?document:void 0}(),te(n))}const ey=new B("ENVIRONMENT_INITIALIZER"),$A=new B("INJECTOR",-1),jA=new B("INJECTOR_DEF_TYPES");class HA{get(e,t=Xu){if(t===Xu){const r=new Error(`NullInjectorError: No provider for ${Ce(e)}!`);throw r.name="NullInjectorError",r}return t}}function Vq(...n){return{\u0275providers:GA(0,n)}}function GA(n,...e){const t=[],r=new Set;let i;return ui(e,s=>{const o=s;ty(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&qA(i,t),t}function qA(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];ui(i,s=>{e.push(s)})}}function ty(n,e,t,r){if(!(n=Y(n)))return!1;let i=null,s=MS(n);const o=!s&&Ee(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=MS(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)ty(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{ui(s.imports,c=>{ty(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&qA(l,e)}if(!a){const l=ks(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:ve},{provide:jA,useValue:i,multi:!0},{provide:ey,useValue:()=>F(i),multi:!0})}const u=s.providers;null==u||a||ui(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}const Uq=Te({provide:String,useValue:Te});function ny(n){return null!==n&&"object"==typeof n&&Uq in n}function Ps(n){return"function"==typeof n}const ry=new B("Set Injector scope."),sh={},$q={};let iy;function oh(){return void 0===iy&&(iy=new HA),iy}class Wi{}class KA extends Wi{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oy(e,o=>this.processProvider(o)),this.records.set($A,la(void 0,this)),i.has("environment")&&this.records.set(Wi,la(void 0,this));const s=this.records.get(ry);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jA.multi,ve,q.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=oa(this),r=rr(void 0);try{return e()}finally{oa(t),rr(r)}}get(e,t=Xu,r=q.Default){this.assertNotDestroyed();const i=oa(this),s=rr(void 0);try{if(!(r&q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function zq(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(e)&&Nd(e);a=u&&this.injectableDefInScope(u)?la(sy(e),sh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&q.Self?oh():this.parent).get(e,t=r&q.Optional&&t===Xu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Xd]=o[Xd]||[]).unshift(Ce(e)),i)throw o;return function XG(n,e,t,r){const i=n[Xd];throw e[vA]&&i.unshift(e[vA]),n.message=function JG(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ce(e);if(Array.isArray(e))i=e.map(Ce).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ce(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(KG,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Xd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{rr(s),oa(i)}}resolveInjectorInitializers(){const e=oa(this),t=rr(void 0);try{const r=this.get(ey.multi,ve,q.Self);for(const i of r)i()}finally{oa(e),rr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ce(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let t=Ps(e=Y(e))?e:Y(e&&e.provide);const r=function Hq(n){return ny(n)?la(void 0,n.useValue):la(QA(n),sh)}(e);if(Ps(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=la(void 0,sh,!0),i.factory=()=>qm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===sh&&(t.value=$q,t.value=t.factory()),"object"==typeof t.value&&t.value&&function qq(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Y(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function sy(n){const e=Nd(n),t=null!==e?e.factory:ks(n);if(null!==t)return t;if(n instanceof B)throw new b(204,!1);if(n instanceof Function)return function jq(n){const e=n.length;if(e>0)throw Zu(e,"?"),new b(204,!1);const t=function FH(n){const e=n&&(n[kd]||n[xS]);if(e){const t=function LH(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new b(204,!1)}function QA(n,e,t){let r;if(Ps(n)){const i=Y(n);return ks(i)||sy(i)}if(ny(n))r=()=>Y(n.useValue);else if(function WA(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...qm(n.deps||[]));else if(function zA(n){return!(!n||!n.useExisting)}(n))r=()=>F(Y(n.useExisting));else{const i=Y(n&&(n.useClass||n.provide));if(!function Gq(n){return!!n.deps}(n))return ks(i)||sy(i);r=()=>new i(...qm(n.deps))}return r}function la(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Wq(n){return!!n.\u0275providers}function oy(n,e){for(const t of n)Array.isArray(t)?oy(t,e):Wq(t)?oy(t.\u0275providers,e):e(t)}class YA{}class Yq{resolveComponentFactory(e){throw function Qq(n){const e=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ol=(()=>{class n{}return n.NULL=new Yq,n})();function Zq(){return ca(ft(),T())}function ca(n,e){return new Cn(or(n,e))}let Cn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Zq,n})();function Xq(n){return n instanceof Cn?n.nativeElement:n}class al{}let ci=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Jq(){const n=T(),t=$n(ft().index,n);return(Tn(t)?t:n)[11]}(),n})(),ez=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>null}),n})();class da{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const XA=new da("14.2.11"),ay={};function hy(n){return n.ngOriginalError}class ha{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hy(e);for(;t&&hy(t);)t=hy(t);return t||null}}const fy=new Map;let hz=0;const gy="__ngContext__";function Wt(n,e){Tn(e)?(n[gy]=e[20],function pz(n){fy.set(n[20],n)}(e)):n[gy]=e}function cM(n){return n.ownerDocument}function di(n){return n instanceof Function?n():n}var Sn=(()=>((Sn=Sn||{})[Sn.Important=1]="Important",Sn[Sn.DashCase=2]="DashCase",Sn))();function yy(n,e){return undefined(n,e)}function ll(n){const e=n[3];return wr(e)?e[3]:e}function _y(n){return fM(n[13])}function vy(n){return fM(n[4])}function fM(n){for(;null!==n&&!wr(n);)n=n[4];return n}function pa(n,e,t,r,i){if(null!=r){let s,o=!1;wr(r)?s=r:Tn(r)&&(o=!0,r=r[0]);const a=at(r);0===n&&null!==t?null==i?vM(e,t,a):Os(e,t,a,i||null,!0):1===n&&null!==t?Os(e,t,a,i||null,!0):2===n?function CM(n,e,t){const r=ah(n,e);r&&function Bz(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Hz(n,e,t,r,i){const s=t[7];s!==at(t)&&pa(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];cl(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Ey(n,e,t){return n.createElement(e,t)}function gM(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Dm(i,-1)),t.splice(r,1)}function Iy(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&gM(i,r),e>0&&(n[t-1][4]=r[4]);const s=Yd(n,10+e);!function kz(n,e){cl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function mM(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&cl(n,e,t,3,null,null),function Oz(n){let e=n[13];if(!e)return by(n[1],n);for(;e;){let t=null;if(Tn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Tn(e)&&by(e[1],e),e=e[3];null===e&&(e=n),Tn(e)&&by(e[1],e),t=e&&e[4]}e=t}}(e)}}function by(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function Uz(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Gu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function Vz(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):at(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&wr(e[3])){t!==e[3]&&gM(t,e);const r=e[19];null!==r&&r.detachView(n)}!function gz(n){fy.delete(n[20])}(e)}}function yM(n,e,t){return function _M(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===_r.None||i===_r.Emulated)return null}return or(r,t)}(n,e.parent,t)}function Os(n,e,t,r,i){n.insertBefore(e,t,r,i)}function vM(n,e,t){n.appendChild(e,t)}function wM(n,e,t,r,i){null!==r?Os(n,e,t,r,i):vM(n,e,t)}function ah(n,e){return n.parentNode(e)}function EM(n,e,t){return bM(n,e,t)}let bM=function IM(n,e,t){return 40&n.type?or(n,t):null};function uh(n,e,t,r){const i=yM(n,r,e),s=e[11],a=EM(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)wM(s,i,t[u],a,!1);else wM(s,i,t,a,!1)}function lh(n,e){if(null!==e){const t=e.type;if(3&t)return or(e,n);if(4&t)return Ty(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return lh(n,r);{const i=n[e.index];return wr(i)?Ty(-1,i):at(i)}}if(32&t)return yy(e,n)()||at(n[e.index]);{const r=TM(n,e);return null!==r?Array.isArray(r)?r[0]:lh(ll(n[16]),r):lh(n,e.next)}}return null}function TM(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Ty(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return lh(r,i)}return e[7]}function Cy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Wt(at(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Cy(n,e,t.child,r,i,s,!1),pa(e,n,i,a,s);else if(32&u){const l=yy(t,r);let c;for(;c=l();)pa(e,n,i,c,s);pa(e,n,i,a,s)}else 16&u?SM(n,e,r,t,i,s):pa(e,n,i,a,s);t=o?t.projectionNext:t.next}}function cl(n,e,t,r,i,s){Cy(t,r,n.firstChild,e,i,s,!1)}function SM(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)pa(e,n,i,u[l],s);else Cy(n,e,u,o[3],i,s,!0)}function AM(n,e,t){n.setAttribute(e,"style",t)}function Sy(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function MM(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const xM="ng-template";function qz(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==MM(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function NM(n){return 4===n.type&&n.value!==xM}function zz(n,e,t){return e===(4!==n.type||t?n.value:xM)}function Wz(n,e,t){let r=4;const i=n.attrs||[],s=function Yz(n){for(let e=0;e<n.length;e++)if(tA(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!zz(n,u,t)||""===u&&1===e.length){if(Ir(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!qz(n.attrs,l,t)){if(Ir(r))return!1;o=!0}continue}const d=Kz(8&r?"class":u,i,NM(n),t);if(-1===d){if(Ir(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==MM(f,l,0)||2&r&&l!==h){if(Ir(r))return!1;o=!0}}}}else{if(!o&&!Ir(r)&&!Ir(u))return!1;if(o&&Ir(u))continue;o=!1,r=u|1&r}}return Ir(r)||o}function Ir(n){return 0==(1&n)}function Kz(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Zz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function kM(n,e,t=!1){for(let r=0;r<e.length;r++)if(Wz(n,e[r],t))return!0;return!1}function Xz(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function RM(n,e){return n?":not("+e.trim()+")":e}function Jz(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ir(o)&&(e+=RM(s,i),i=""),r=o,s=s||!Ir(r);t++}return""!==i&&(e+=RM(s,i)),e}const ne={};function qn(n){PM(fe(),T(),un()+n,!1)}function PM(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&jd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Hd(e,s,0,t)}qi(t)}function VM(n,e=null,t=null,r){const i=UM(n,e,t,r);return i.resolveInjectorInitializers(),i}function UM(n,e=null,t=null,r,i=new Set){const s=[t||ve,Vq(n)];return r=r||("object"==typeof n?void 0:Ce(n)),new KA(s,e||oh(),r||null,i)}let dn=(()=>{class n{static create(t,r){if(Array.isArray(t))return VM({name:""},r,t,"");{const i=t.name??"";return VM({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Xu,n.NULL=new HA,n.\u0275prov=H({token:n,providedIn:"any",factory:()=>F($A)}),n.__NG_ELEMENT_ID__=-1,n})();function D(n,e=q.Default){const t=T();return null===t?F(n,e):lA(ft(),t,Y(n),e)}function ky(){throw new Error("invalid")}function dh(n,e){return n<<17|e<<2}function br(n){return n>>17&32767}function Ry(n){return 2|n}function hi(n){return(131068&n)>>2}function Py(n,e){return-131069&n|e<<2}function Oy(n){return 1|n}function nx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Nm(i),o.contentQueries(2,e[s],s)}}}function ph(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),$S(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=s,d[20]=function fz(){return hz++}(),d[21]=c,d[16]=2==e.type?n[16]:d,d}function ma(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Hy(n,e,t,r,i){const s=GS(),o=Sm(),u=n.data[e]=function OW(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function hG(){return X.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Hu(){const n=X.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Rr(s,!0),s}function ya(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Gy(n,e,t){km(e);try{const r=n.viewQuery;null!==r&&Xy(1,r,t);const i=n.template;null!==i&&rx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&nx(n,e),n.staticViewQueries&&Xy(2,n.viewQuery,t);const s=n.components;null!==s&&function kW(n,e){for(let t=0;t<e.length;t++)ZW(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Rm()}}function gh(n,e,t,r){const i=e[2];if(128!=(128&i)){km(e);try{$S(e),function zS(n){return X.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&rx(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&jd(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Hd(e,l,0,null),Pm(e,0)}if(function QW(n){for(let e=_y(n);null!==e;e=vy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&Dm(s,1),i[2]|=512}}}(e),function KW(n){for(let e=_y(n);null!==e;e=vy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Bd(r)&&gh(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&nx(n,e),o){const l=n.contentCheckHooks;null!==l&&jd(e,l)}else{const l=n.contentHooks;null!==l&&Hd(e,l,1),Pm(e,1)}!function xW(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)qi(~i);else{const s=i,o=t[++r],a=t[++r];fG(o,s),a(2,e[s])}}}finally{qi(-1)}}(n,e);const a=n.components;null!==a&&function NW(n,e){for(let t=0;t<e.length;t++)YW(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Xy(2,u,r),o){const l=n.viewCheckHooks;null!==l&&jd(e,l)}else{const l=n.viewHooks;null!==l&&Hd(e,l,2),Pm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Dm(e[3],-1))}finally{Rm()}}}function rx(n,e,t,r,i){const s=un(),o=2&r;try{qi(-1),o&&e.length>22&&PM(n,e,22,!1),t(r,i)}finally{qi(s)}}function qy(n,e,t){!HS()||(function BW(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||zu(t,e),Wt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=Er(u);l&&qW(e,t,u);const c=Wu(e,n,a,t);Wt(c,e),null!==o&&zW(0,a-i,c,u,0,o),l&&($n(t.index,e)[8]=c)}}(n,e,t,or(t,e)),128==(128&t.flags)&&function $W(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function pG(){return X.lFrame.currentDirectiveIndex}();try{qi(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];Mm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&dx(u,l)}}finally{qi(-1),Mm(o)}}(n,e,t))}function zy(n,e,t=or){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function sx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Wy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Wy(n,e,t,r,i,s,o,a,u,l){const c=22+r,d=c+i,h=function RW(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ne);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ox(n,e,t,r){const i=mx(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&yx(n).push(r,i.length-1))}function ax(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function ux(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||NM(e)?null:WW(d,s);o.push(h),a=ax(d,l,a),u=ax(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function lx(n,e){const t=$n(e,n);16&t[2]||(t[2]|=32)}function Ky(n,e,t,r){let i=!1;if(HS()){const s=function jW(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];kM(t,o.selectors,!1)&&(i||(i=[]),Kd(zu(t,e),n,o.type),Er(o)?(hx(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,fx(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=ya(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=qd(t.mergedAttrs,d.hostAttrs),px(n,t,e,l,d),GW(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}ux(n,t)}o&&function HW(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=qd(t.mergedAttrs,t.attrs),i}function cx(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function UW(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function dx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function hx(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function GW(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Er(e)&&(t[""]=n)}}function fx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function px(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ks(i.type)),o=new Gu(s,Er(i),D);n.blueprint[r]=o,t[r]=o,cx(n,e,0,r,ya(n,t,i.hostVars,ne),i)}function qW(n,e,t){const r=or(e,n),i=sx(t),s=n[10],o=mh(n,ph(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function zW(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function WW(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function gx(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function YW(n,e){const t=$n(e,n);if(Bd(t)){const r=t[1];48&t[2]?gh(r,t,r.template,t[8]):t[5]>0&&Yy(t)}}function Yy(n){for(let r=_y(n);null!==r;r=vy(r))for(let i=10;i<r.length;i++){const s=r[i];if(Bd(s))if(512&s[2]){const o=s[1];gh(o,s,o.template,s[8])}else s[5]>0&&Yy(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=$n(t[r],n);Bd(i)&&i[5]>0&&Yy(i)}}function ZW(n,e){const t=$n(e,n),r=t[1];(function XW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Gy(r,t,t[8])}function mh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Zy(n){for(;n;){n[2]|=32;const e=ll(n);if(zH(n)&&!e)return n;n=e}return null}function yh(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{gh(n,e,n.template,t)}catch(o){throw r&&vx(e,o),o}finally{i.end&&i.end()}}function Xy(n,e,t){Nm(0),e(n,t)}function mx(n){return n[7]||(n[7]=[])}function yx(n){return n.cleanup||(n.cleanup=[])}function vx(n,e){const t=n[9],r=t?t.get(ha,null):null;r&&r.handleError(e)}function Jy(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function _h(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=cm(i,a):2==s&&(r=cm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function vh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(at(s)),wr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&vh(u[1],u,l,r)}const o=t.type;if(8&o)vh(n,e,t.child,r);else if(32&o){const a=yy(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=TM(e,t);if(Array.isArray(a))r.push(...a);else{const u=ll(e[16]);vh(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class dl{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return vh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(wr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Iy(e,r),Yd(t,r))}this._attachedToViewContainer=!1}mM(this._lView[1],this._lView)}onDestroy(e){ox(this._lView[1],this._lView,null,e)}markForCheck(){Zy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pz(n,e){cl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class JW extends dl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;yh(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class e_ extends ol{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ee(e);return new hl(t,this.ngModule)}}function wx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class t3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,ay,r);return i!==ay||t===ay?i:this.parentInjector.get(e,t,r)}}class hl extends YA{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function eW(n){return n.map(Jz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return wx(this.componentDef.inputs)}get outputs(){return wx(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Wi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new t3(e,s):e,a=o.get(al,null);if(null===a)throw new b(407,!1);const u=o.get(ez,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function PW(n,e,t){return n.selectRootElement(e,t===_r.ShadowDom)}(l,r,this.componentDef.encapsulation):Ey(l,c,function e3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=Wy(0,null,null,1,0,null,null,null,null,null),p=ph(null,f,null,h,null,null,a,l,u,o,null);let g,m;km(p);try{const v=function i3(n,e,t,r,i,s){const o=t[1];t[22]=n;const u=ma(o,22,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(_h(u,l,!0),null!==n&&(Gd(i,n,l),null!==u.classes&&Sy(i,n,u.classes),null!==u.styles&&AM(i,n,u.styles)));const c=r.createRenderer(n,e),d=ph(t,sx(e),null,e.onPush?32:16,t[22],u,r,c,s||null,null,null);return o.firstCreatePass&&(Kd(zu(u,t),o,e.type),hx(o,u),fx(u,t.length,1)),mh(t,d),t[22]=d}(d,this.componentDef,p,a,l);if(d)if(r)Gd(l,d,["ng-version",XA.full]);else{const{attrs:I,classes:_}=function tW(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ir(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);I&&Gd(l,d,I),_&&_.length>0&&Sy(l,d,_.join(" "))}if(m=bm(f,22),void 0!==t){const I=m.projection=[];for(let _=0;_<this.ngContentSelectors.length;_++){const C=t[_];I.push(null!=C?Array.from(C):null)}}g=function s3(n,e,t,r){const i=t[1],s=function VW(n,e,t){const r=ft();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),px(n,r,e,ya(n,e,1,null),t),ux(n,r));const i=Wu(e,n,r.directiveStart,r);Wt(i,e);const s=or(r,e);return s&&Wt(s,e),i}(i,t,e);if(n[8]=t[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=ft();e.contentQueries(1,s,a.directiveStart)}const o=ft();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(qi(o.index),cx(t[1],o,0,o.directiveStart,o.directiveEnd,e),dx(e,s)),s}(v,this.componentDef,p,[o3]),Gy(f,p,null)}finally{Rm()}return new r3(this.componentType,g,ca(m,p),p,m)}}class r3 extends class Kq{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new JW(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Jy(s[1],s,i,e,t),lx(s,this._tNode.index)}}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function o3(){const n=ft();$d(T()[1],n)}function Ie(n){let e=function Ex(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Er(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=t_(n.inputs),o.declaredInputs=t_(n.declaredInputs),o.outputs=t_(n.outputs);const a=i.hostBindings;a&&c3(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&u3(n,u),l&&l3(n,l),lm(n.inputs,i.inputs),lm(n.declaredInputs,i.declaredInputs),lm(n.outputs,i.outputs),Er(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ie&&(t=!1)}}e=Object.getPrototypeOf(e)}!function a3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qd(i.hostAttrs,t=qd(t,i.hostAttrs))}}(r)}function t_(n){return n===Go?{}:n===ve?[]:n}function u3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function l3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function c3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let wh=null;function Fs(){if(!wh){const n=Me.Symbol;if(n&&n.iterator)wh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(wh=r)}}}return wh}function fl(n){return!!function n_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fs()in n)}function Kt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Sa(n,e,t,r,i,s,o,a){const u=T(),l=fe(),c=n+22,d=l.firstCreatePass?function _3(n,e,t,r,i,s,o,a,u){const l=e.consts,c=ma(e,n,4,o||null,Gi(l,a));Ky(e,t,c,Gi(l,u)),$d(e,c);const d=c.tViews=Wy(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];Rr(d,!1);const h=u[11].createComment("");uh(l,u,h,d),Wt(h,u),mh(u,u[c]=gx(h,u,h,d)),Vd(d)&&qy(l,u,d),null!=o&&zy(u,d,a)}function hn(n,e,t){const r=T();return Kt(r,Zo(),e)&&function zn(n,e,t,r,i,s,o,a){const u=or(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Jy(n,t,c,r,i),Ld(e)&&lx(t,e.index)):3&e.type&&(r=function FW(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(fe(),function ze(){const n=X.lFrame;return bm(n.tView,n.selectedIndex)}(),r,n,e,r[11],t,!1),hn}function r_(n,e,t,r,i){const o=i?"class":"style";Jy(n,t,e.inputs[o],o,r)}function $e(n,e,t,r){const i=T(),s=fe(),o=22+n,a=i[11],u=i[o]=Ey(a,e,function IG(){return X.lFrame.currentNamespace}()),l=s.firstCreatePass?function E3(n,e,t,r,i,s,o){const a=e.consts,l=ma(e,n,2,i,Gi(a,s));return Ky(e,t,l,Gi(a,o)),null!==l.attrs&&_h(l,l.attrs,!1),null!==l.mergedAttrs&&_h(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];Rr(l,!0);const c=l.mergedAttrs;null!==c&&Gd(a,u,c);const d=l.classes;null!==d&&Sy(a,u,d);const h=l.styles;return null!==h&&AM(a,u,h),64!=(64&l.flags)&&uh(s,i,u,l),0===function oG(){return X.lFrame.elementDepthCount}()&&Wt(u,i),function aG(){X.lFrame.elementDepthCount++}(),Vd(l)&&(qy(s,i,l),function ix(n,e,t){if(_m(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,l,i)),null!==r&&zy(i,l),$e}function be(){let n=ft();Sm()?Am():(n=n.parent,Rr(n,!1));const e=n;!function uG(){X.lFrame.elementDepthCount--}();const t=fe();return t.firstCreatePass&&($d(t,n),_m(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function SG(n){return 0!=(16&n.flags)}(e)&&r_(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function AG(n){return 0!=(32&n.flags)}(e)&&r_(t,e,T(),e.stylesWithoutHost,!1),be}function Wn(n,e,t,r){return $e(n,e,t,r),be(),Wn}function gl(n){return!!n&&"function"==typeof n.then}const o_=function Rx(n){return!!n&&"function"==typeof n.subscribe};function It(n,e,t,r){const i=T(),s=fe(),o=ft();return function Ox(n,e,t,r,i,s,o,a){const u=Vd(r),c=n.firstCreatePass&&yx(n),d=e[8],h=mx(e);let f=!0;if(3&r.type||a){const m=or(r,e),v=a?a(m):m,I=h.length,_=a?x=>a(at(x[r.index])):r.index;let C=null;if(!a&&u&&(C=function b3(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1;else{s=Lx(r,e,d,s,!1);const x=t.listen(v,i,s);h.push(s,x),c&&c.push(i,_,I,I+1)}}else s=Lx(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let v=0;v<m;v+=2){const P=e[g[v]][g[v+1]].subscribe(s),re=h.length;h.push(s,P),c&&c.push(i,r.index,re,-(re+1))}}}(s,i,i[11],o,n,e,0,r),It}function Fx(n,e,t,r){try{return!1!==t(r)}catch(i){return vx(n,i),!1}}function Lx(n,e,t,r,i){return function s(o){if(o===Function)return r;Zy(2&n.flags?$n(n.index,e):e);let u=Fx(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=Fx(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Aa(n=1){return function mG(n){return(X.lFrame.contextLView=function yG(n,e){for(;n>0;)e=e[15],n--;return e}(n,X.lFrame.contextLView))[8]}(n)}function D3(n,e){let t=null;const r=function Qz(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?kM(n,s,!0):Xz(r,s))return i}else t=i}return t}function Qx(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?br(s):hi(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];S3(n[a],e)&&(u=!0,n[a+1]=r?Oy(c):Ry(c)),a=r?br(c):hi(c)}u&&(n[t+1]=r?Ry(s):Oy(s))}function S3(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&sa(n,e)>=0}const gt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yx(n){return n.substring(gt.key,gt.keyEnd)}function Zx(n,e){const t=gt.textEnd;return t===e?-1:(e=gt.keyEnd=function N3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,gt.key=e,t),Ma(n,e,t))}function Ma(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ml(n,e,t){return Dr(n,e,t,!1),ml}function Ih(n,e){return Dr(n,e,null,!0),Ih}function nN(n){!function Tr(n,e,t,r){const i=fe(),s=ai(2);i.firstUpdatePass&&iN(i,null,s,r);const o=T();if(t!==ne&&Kt(o,s,t)){const a=i.data[un()];if(uN(a,r)&&!rN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=cm(u,t||"")),r_(i,a,o,t,r)}else!function B3(n,e,t,r,i,s,o,a){i===ne&&(i=ve);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;c===d?(u+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(u+=2,p=c):(l+=2,p=d,g=f),null!==p&&oN(n,e,t,r,p,g,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function U3(n,e,t){if(null==t||""===t)return ve;const r=[],i=Gn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(Hn,Br,n,!0)}function Br(n,e){for(let t=function M3(n){return function Jx(n){gt.key=0,gt.keyEnd=0,gt.value=0,gt.valueEnd=0,gt.textEnd=n.length}(n),Zx(n,Ma(n,0,gt.textEnd))}(e);t>=0;t=Zx(e,t))Hn(n,Yx(e),!0)}function Dr(n,e,t,r){const i=T(),s=fe(),o=ai(2);s.firstUpdatePass&&iN(s,n,o,r),e!==ne&&Kt(i,o,e)&&oN(s,s.data[un()],i,i[11],n,i[o+1]=function $3(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ce(Gn(n)))),n}(e,t),r,o)}function rN(n,e){return e>=n.expandoStartIndex}function iN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[un()],o=rN(n,t);uN(s,r)&&null===e&&!o&&(e=!1),e=function O3(n,e,t,r){const i=function xm(n){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=yl(t=u_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=u_(i,n,e,t,r),null===s){let u=function F3(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==hi(r))return n[br(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=u_(null,n,e,u[1],r),u=yl(u,e.attrs,r),function L3(n,e,t,r){n[br(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function V3(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=yl(r,n[s].hostAttrs,t);return yl(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function T3(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=br(o),u=hi(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||sa(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=br(n[a+1]);n[r+1]=dh(h,a),0!==h&&(n[h+1]=Py(n[h+1],r)),n[a+1]=function wW(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=dh(a,0),0!==a&&(n[a+1]=Py(n[a+1],r)),a=r;else n[r+1]=dh(u,0),0===a?a=r:n[u+1]=Py(n[u+1],r),u=r;l&&(n[r+1]=Ry(n[r+1])),Qx(n,c,r,!0),Qx(n,c,r,!1),function C3(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&sa(s,e)>=0&&(t[r+1]=Oy(t[r+1]))}(e,c,n,r,s),o=dh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function u_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=yl(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function yl(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Hn(n,o,!!t||e[++s]))}return void 0===n?null:n}function oN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];bh(function KM(n){return 1==(1&n)}(l)?aN(u,e,t,i,hi(l),o):void 0)||(bh(s)||function WM(n){return 2==(2&n)}(l)&&(s=aN(u,null,t,i,a,o)),function Gz(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Sn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Sn.Important),n.setStyle(t,r,i,s))}}(r,o,Ud(un(),t),i,s))}function aN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===ne&&(h=d?ve:void 0);let f=d?jm(h,r):c===r?h:void 0;if(l&&!bh(f)&&(f=jm(u,r)),bh(f)&&(a=f,o))return a;const p=n[i+1];i=o?br(p):hi(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=jm(u,r))}return a}function bh(n){return void 0!==n}function uN(n,e){return 0!=(n.flags&(e?16:32))}function fn(n,e=""){const t=T(),r=fe(),i=n+22,s=r.firstCreatePass?ma(r,i,1,e,null):r.data[i],o=t[i]=function wy(n,e){return n.createText(e)}(t[11],e);uh(r,t,o,s),Rr(s,!1)}function Dh(n){return l_("",n,""),Dh}function l_(n,e,t){const r=T(),i=function va(n,e,t,r){return Kt(n,Zo(),t)?e+te(t)+r:ne}(r,n,e,t);return i!==ne&&function fi(n,e,t){const r=Ud(e,n);!function pM(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,un(),i),l_}const Na="en-US";let xN=Na;function h_(n,e,t,r,i){if(n=Y(n),Array.isArray(n))for(let s=0;s<n.length;s++)h_(n[s],e,t,r,i);else{const s=fe(),o=T();let a=Ps(n)?n:Y(n.provide),u=QA(n);const l=ft(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Ps(n)||!n.multi){const f=new Gu(u,i,D),p=p_(a,e,i?c:c+h,d);-1===p?(Kd(zu(l,o),s,a),f_(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=p_(a,e,c+h,d),p=p_(a,e,c,c+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){Kd(zu(l,o),s,a);const v=function sK(n,e,t,r,i){const s=new Gu(n,t,D);return s.multi=[],s.index=e,s.componentProviders=0,tk(s,i,r&&!t),s}(i?iK:rK,t.length,i,r,u);!i&&m&&(t[p].providerFactory=v),f_(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(v),o.push(v)}else f_(s,n,f>-1?f:p,tk(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function f_(n,e,t,r){const i=Ps(e),s=function Bq(n){return!!n.useClass}(e);if(i||s){const u=(s?Y(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function tk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function p_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function rK(n,e,t,r){return g_(this.multi,[])}function iK(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Wu(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),g_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],g_(i,s);return s}function g_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Fe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function nK(n,e,t){const r=fe();if(r.firstCreatePass){const i=Er(n);h_(t,r.data,r.blueprint,i,!0),h_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Us{}class nk{}class rk extends Us{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new e_(this);const r=Vn(e);this._bootstrapComponents=di(r.bootstrap),this._r3Injector=UM(e,t,[{provide:Us,useValue:this},{provide:ol,useValue:this.componentFactoryResolver}],Ce(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class m_ extends nk{constructor(e){super(),this.moduleType=e}create(e){return new rk(this.moduleType,e)}}class aK extends Us{constructor(e,t,r){super(),this.componentFactoryResolver=new e_(this),this.instance=null;const i=new KA([...e,{provide:Us,useValue:this},{provide:ol,useValue:this.componentFactoryResolver}],t||oh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Mh(n,e,t=null){return new aK(n,e,t).injector}let uK=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=GA(0,t.type),i=r.length>0?Mh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(F(Wi))}),n})();function ik(n){n.getStandaloneInjector=e=>e.get(uK).getOrCreateStandaloneInjector(n)}function dk(n,e,t,r,i,s){const o=e+t;return Kt(n,o,i)?function Lr(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function bl(n,e){const t=n[e];return t===ne?void 0:t}(n,o+1)}function yk(n,e,t){const r=n+22,i=T(),s=function Yo(n,e){return n[e]}(i,r);return function Dl(n,e){return n[1].data[e].pure}(i,r)?dk(i,function an(){const n=X.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function __(n){return e=>{setTimeout(n,void 0,e)}}const Ke=class kK extends mr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=__(s),i&&(i=__(i)),o&&(o=__(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof On&&e.add(a),a}};function RK(){return this._results[Fs()]()}class v_{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Fs(),r=v_.prototype;r[t]||(r[t]=RK)}get changes(){return this._changes||(this._changes=new Ke)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=jn(e);(this._changesDetected=!function VG(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=FK,n})();const PK=pi,OK=class extends PK{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=ph(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Gy(r,i,e),new dl(i)}};function FK(){return xh(ft(),T())}function xh(n,e){return 4&n.type?new OK(e,n,ca(n,e)):null}let Cr=(()=>{class n{}return n.__NG_ELEMENT_ID__=LK,n})();function LK(){return wk(ft(),T())}const VK=Cr,_k=class extends VK{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ca(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const e=Wd(this._hostTNode,this._hostLView);if(iA(e)){const t=Jo(e,this._hostLView),r=Xo(e);return new ea(t[1].data[r+8],t)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=vk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Yu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new hl(Ee(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(Wi,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function sG(n){return wr(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new _k(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function Fz(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],gA(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function Lz(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Ty(s,o),u=r[11],l=ah(u,o[7]);return null!==l&&function Rz(n,e,t,r,i,s){r[0]=i,r[6]=e,cl(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),gA(w_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=vk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Iy(this._lContainer,t);r&&(Yd(w_(this._lContainer),t),mM(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Iy(this._lContainer,t);return r&&null!=Yd(w_(this._lContainer),t)?new dl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function vk(n){return n[8]}function w_(n){return n[8]||(n[8]=[])}function wk(n,e){let t;const r=e[n.index];if(wr(r))t=r;else{let i;if(8&n.type)i=at(r);else{const s=e[11];i=s.createComment("");const o=or(n,e);Os(s,ah(s,o),i,function $z(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=gx(r,e,i,n),mh(e,t)}return new _k(t,n,e)}class E_{constructor(e){this.queryList=e,this.matches=null}clone(){return new E_(this.queryList)}setDirty(){this.queryList.setDirty()}}class I_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new I_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ck(e,t).matches&&this.queries[t].setDirty()}}class Ek{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class b_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new b_(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class D_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new D_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,$K(t,s)),this.matchTNodeWithReadOption(e,t,Qd(t,e,s,!1,!1))}else r===pi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Cn||i===Cr||i===pi&&4&t.type)this.addMatch(t.index,-2);else{const s=Qd(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function $K(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function HK(n,e,t,r){return-1===t?function jK(n,e){return 11&n.type?ca(n,e):4&n.type?xh(n,e):null}(e,n):-2===t?function GK(n,e,t){return t===Cn?ca(e,n):t===pi?xh(e,n):t===Cr?wk(e,n):void 0}(n,e,r):Wu(n,n[1],t,e)}function Ik(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:HK(e,s[l],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function T_(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Ik(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],c=e[-u];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&T_(h[1],h,l,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];T_(f[1],f,l,r)}}}}}return r}function Nh(n){const e=T(),t=fe(),r=KS();Nm(r+1);const i=Ck(t,r);if(n.dirty&&function iG(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?T_(t,e,r,[]):Ik(t,e,i,r);n.reset(s,Xq),n.notifyOnChanges()}return!0}return!1}function bk(n,e,t){const r=fe();r.firstCreatePass&&(function Tk(n,e,t){null===n.queries&&(n.queries=new b_),n.queries.track(new D_(e,t))}(r,new Ek(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function Dk(n,e,t){const r=new v_(4==(4&t));ox(n,e,r,r.destroy),null===e[19]&&(e[19]=new I_),e[19].queries.push(new E_(r))}(r,T(),e)}function Ck(n,e){return n.queries.getByIndex(e)}function Ph(...n){}const Oh=new B("Application Initializer");let Fh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Ph,this.reject=Ph,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(gl(s))t.push(s);else if(o_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(F(Oh,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cl=new B("AppId",{providedIn:"root",factory:function qk(){return`${N_()}${N_()}${N_()}`}});function N_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zk=new B("Platform Initializer"),Lh=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wk=new B("appBootstrapListener"),Kk=new B("AnimationModuleType");let f8=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const gi=new B("LocaleId",{providedIn:"root",factory:()=>Xe(gi,q.Optional|q.SkipSelf)||function p8(){return typeof $localize<"u"&&$localize.locale||Na}()});class m8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let k_=(()=>{class n{compileModuleSync(t){return new m_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=di(Vn(t).declarations).reduce((o,a)=>{const u=Ee(a);return u&&o.push(new hl(u)),o},[]);return new m8(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v8=(()=>Promise.resolve(0))();function R_(n){typeof Zone>"u"?v8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Le{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function w8(){let n=Me.requestAnimationFrame,e=Me.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function b8(n){const e=()=>{!function I8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Me,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,O_(n),n.isCheckStableRunning=!0,P_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),O_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return Zk(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),Xk(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return Zk(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),Xk(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,O_(n),P_(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new b(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,E8,Ph,Ph);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const E8={};function P_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function O_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Zk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Xk(n){n._nesting--,P_(n)}class D8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Jk=new B(""),Vh=new B("");let V_,F_=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,V_||(function T8(n){V_=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),R_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())R_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(F(Le),F(L_),F(Vh))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),L_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return V_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Yi=null;const eR=new B("AllowMultipleToken"),U_=new B("PlatformDestroyListeners");class tR{constructor(e,t){this.name=e,this.token=t}}function rR(n,e,t=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=B_();if(!o||o.injector.get(eR,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function A8(n){if(Yi&&!Yi.get(eR,!1))throw new b(400,!1);Yi=n;const e=n.get(sR);(function nR(n){const e=n.get(zk,null);e&&e.forEach(t=>t())})(n)}(function iR(n=[],e){return dn.create({name:e,providers:[{provide:ry,useValue:"platform"},{provide:U_,useValue:new Set([()=>Yi=null])},...n]})}(a,r))}return function x8(n){const e=B_();if(!e)throw new b(401,!1);return e}()}}function B_(){return Yi?.get(sR)??null}let sR=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function aR(n,e){let t;return t="noop"===n?new D8:("zone.js"===n?void 0:n)||new Le(e),t}(r?.ngZone,function oR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Le,useValue:i}];return i.run(()=>{const o=dn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(ha,null);if(!u)throw new b(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{Uh(this._modules,a),l.unsubscribe()})}),function uR(n,e,t){try{const r=t();return gl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(Fh);return l.runInitializers(),l.donePromise.then(()=>(function NN(n){Ln(n,"Expected localeId to be defined"),"string"==typeof n&&(xN=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(gi,Na)||Na),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=lR({},r);return function C8(n,e,t){const r=new m_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Sl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new b(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(U_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(F(dn))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function lR(n,e){return Array.isArray(e)?e.reduce(lR,n):{...n,...e}}let Sl=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Be(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Be(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),R_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=function SH(...n){const e=Lu(n),t=function wH(n,e){return"number"==typeof am(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?nr(r[0]):Ho(t)(ot(r,e)):ri}(s,o.pipe(function AH(n={}){const{connector:e=(()=>new mr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ht((g,m)=>{l++,!d&&!c&&h();const v=u=u??e();m.add(()=>{l--,0===l&&!d&&!c&&(a=um(p,i))}),v.subscribe(m),!o&&l>0&&(o=new Fu({next:I=>v.next(I),error:I=>{d=!0,h(),a=um(f,t,I),v.error(I)},complete:()=>{c=!0,h(),a=um(f,r),v.complete()}}),nr(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof YA;if(!this._injector.get(Fh).done)throw!i&&function zo(n){const e=Ee(n)||sn(n)||on(n);return null!==e&&e.standalone}(t),new b(405,false);let o;o=i?t:this._injector.get(ol).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function S8(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Us),l=o.create(dn.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(Jk,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),Uh(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Uh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Wk,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Uh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new b(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(F(Le),F(Wi),F(ha))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let dR=!0,Al=(()=>{class n{}return n.__NG_ELEMENT_ID__=R8,n})();function R8(n){return function P8(n,e,t){if(Ld(n)&&!t){const r=$n(n.index,e);return new dl(r,r)}return 47&n.type?new dl(e[16],e):null}(ft(),T(),16==(16&n))}class mR{constructor(){}supports(e){return fl(e)}create(e){return new B8(e)}}const U8=(n,e)=>e;class B8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||U8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<_R(r,i,s)?t:r,a=_R(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!fl(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function g3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Fs()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new $8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new yR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class j8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class yR{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new j8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _R(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function wR(){return new jh([new mR])}let jh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||wR()),deps:[[n,new tl,new ln]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new b(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:wR}),n})();const W8=rR(null,"core",[]);let K8=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(F(Sl))},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({}),n})(),Hh=null;function $r(){return Hh}const bt=new B("DocumentToken");let q_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return function X8(){return F(IR)}()},providedIn:"platform"}),n})();const J8=new B("Location Initialized");let IR=(()=>{class n extends q_{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $r().getBaseHref(this._doc)}onPopState(t){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){bR()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){bR()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(F(bt))},n.\u0275prov=H({token:n,factory:function(){return function e6(){return new IR(F(bt))}()},providedIn:"platform"}),n})();function bR(){return!!window.history.pushState}function z_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function DR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _i(n){return n&&"?"!==n[0]?"?"+n:n}let $s=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return Xe(CR)},providedIn:"root"}),n})();const TR=new B("appBaseHref");let CR=(()=>{class n extends $s{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Xe(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_i(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(F(q_),F(TR,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t6=(()=>{class n extends $s{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=z_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(F(q_),F(TR,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),W_=(()=>{class n{constructor(t){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=DR(SR(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_i(r))}normalize(t){return n.stripTrailingSlash(function r6(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,SR(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=_i,n.joinWithSlash=z_,n.stripTrailingSlash=DR,n.\u0275fac=function(t){return new(t||n)(F($s))},n.\u0275prov=H({token:n,factory:function(){return function n6(){return new W_(F($s))}()},providedIn:"root"}),n})();function SR(n){return n.replace(/\/index.html$/,"")}class H6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rv=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new H6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),VR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{VR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(D(Cr),D(pi),D(jh))},n.\u0275dir=Z({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function VR(n,e){n.context.$implicit=e.item}let UR=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new q6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){BR("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){BR("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(D(Cr),D(pi))},n.\u0275dir=Z({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class q6{constructor(){this.$implicit=null,this.ngIf=null}}function BR(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ce(e)}'.`)}let HR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({}),n})();let E5=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>new I5(F(bt),window)}),n})();class I5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function b5(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qR(this.window.history)||qR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cv extends class j5 extends class Z8{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Y8(n){Hh||(Hh=n)}(new cv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function H5(){return Rl=Rl||document.querySelector("base"),Rl?Rl.getAttribute("href"):null}();return null==t?null:function G5(n){ef=ef||document.createElement("a"),ef.setAttribute("href",n);const e=ef.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function B6(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ef,Rl=null;const QR=new B("TRANSITION_ID"),z5=[{provide:Oh,useFactory:function q5(n,e,t){return()=>{t.get(Fh).donePromise.then(()=>{const r=$r(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[QR,bt,dn],multi:!0}];let K5=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const tf=new B("EventManagerPlugins");let nf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(F(tf),F(Le))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class YR{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=$r().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ZR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Pl=(()=>{class n extends ZR{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(XR),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(XR))}}return n.\u0275fac=function(t){return new(t||n)(F(bt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function XR(n){$r().remove(n)}const dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hv=/%COMP%/g;function rf(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rf(n,i,t):(i=i.replace(hv,n),t.push(i))}return t}function t1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let sf=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new fv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case _r.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new e7(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case _r.ShadowDom:return new t7(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=rf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(F(nf),F(Pl),F(Cl))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class fv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(dv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(r1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(r1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=dv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=dv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(t,r,i&Sn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Sn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,t1(r)):this.eventManager.addEventListener(e,t,t1(r))}}function r1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class e7 extends fv{constructor(e,t,r,i){super(e),this.component=r;const s=rf(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Z5(n){return"_ngcontent-%COMP%".replace(hv,n)}(i+"-"+r.id),this.hostAttr=function X5(n){return"_nghost-%COMP%".replace(hv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class t7 extends fv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=rf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let n7=(()=>{class n extends YR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(F(bt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const i1=["alt","control","meta","shift"],r7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},i7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let s7=(()=>{class n extends YR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$r().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),i1.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=r7[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),i1.forEach(o=>{o!==i&&(0,i7[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(F(bt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const o1=[{provide:Lh,useValue:"browser"},{provide:zk,useValue:function o7(){cv.makeCurrent()},multi:!0},{provide:bt,useFactory:function u7(){return function lq(n){Wm=n}(document),document},deps:[]}],l7=rR(W8,"browser",o1),a1=new B(""),u1=[{provide:Vh,useClass:class W5{addToWindow(e){Me.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Me.getAllAngularTestabilities=()=>e.getAllTestabilities(),Me.getAllAngularRootElements=()=>e.getAllRootElements(),Me.frameworkStabilizers||(Me.frameworkStabilizers=[]),Me.frameworkStabilizers.push(r=>{const i=Me.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?$r().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Jk,useClass:F_,deps:[Le,L_,Vh]},{provide:F_,useClass:F_,deps:[Le,L_,Vh]}],l1=[{provide:ry,useValue:"root"},{provide:ha,useFactory:function a7(){return new ha},deps:[]},{provide:tf,useClass:n7,multi:!0,deps:[bt,Le,Lh]},{provide:tf,useClass:s7,multi:!0,deps:[bt]},{provide:sf,useClass:sf,deps:[nf,Pl,Cl]},{provide:al,useExisting:sf},{provide:ZR,useExisting:Pl},{provide:Pl,useClass:Pl,deps:[bt]},{provide:nf,useClass:nf,deps:[tf,Le]},{provide:class D5{},useClass:K5,deps:[]},[]];let c1=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Cl,useValue:t.appId},{provide:QR,useExisting:Cl},z5]}}}return n.\u0275fac=function(t){return new(t||n)(F(a1,12))},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({providers:[...l1,...u1],imports:[HR,K8]}),n})(),d1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(F(bt))},n.\u0275prov=H({token:n,factory:function(t){let r=null;return r=t?new t:function d7(){return new d1(F(bt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let p1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(t){let r=null;return r=t?new(t||n):F(g1),r},providedIn:"root"}),n})(),g1=(()=>{class n extends p1{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Ne.NONE:return r;case Ne.HTML:return Or(r,"HTML")?Gn(r):VA(this._doc,String(r)).toString();case Ne.STYLE:return Or(r,"Style")?Gn(r):r;case Ne.SCRIPT:if(Or(r,"Script"))return Gn(r);throw new Error("unsafe value used in a script context");case Ne.URL:return Or(r,"URL")?Gn(r):rh(String(r));case Ne.RESOURCE_URL:if(Or(r,"ResourceURL"))return Gn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function _q(n){return new hq(n)}(t)}bypassSecurityTrustStyle(t){return function vq(n){return new fq(n)}(t)}bypassSecurityTrustScript(t){return function wq(n){return new pq(n)}(t)}bypassSecurityTrustUrl(t){return function Eq(n){return new gq(n)}(t)}bypassSecurityTrustResourceUrl(t){return function Iq(n){return new mq(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(F(bt))},n.\u0275prov=H({token:n,factory:function(t){let r=null;return r=t?new t:function _7(n){return new g1(n.get(bt))}(F(dn)),r},providedIn:"root"}),n})();class m1{}const wi="*";function w7(n,e){return{type:7,name:n,definitions:e,options:{}}}function y1(n,e=null){return{type:4,styles:e,timings:n}}function _1(n,e=null){return{type:2,steps:n,options:e}}function Ol(n){return{type:6,styles:n,offset:null}}function E7(n,e,t){return{type:0,name:n,styles:e,options:t}}function v1(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function w1(n){Promise.resolve().then(n)}class Fl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){w1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class E1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?w1(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function I1(n){return new b(3e3,!1)}function nQ(){return typeof window<"u"&&typeof window.document<"u"}function yv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Xi(n){switch(n.length){case 0:return new Fl;case 1:return n[0];default:return new E1(n)}}function b1(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.get("offset"),h=d==u,f=h&&l||new Map;c.forEach((p,g)=>{let m=g,v=p;if("offset"!==g)switch(m=e.normalizePropertyName(m,o),v){case"!":v=i.get(g);break;case wi:v=s.get(g);break;default:v=e.normalizeStyleValue(g,m,v,o)}f.set(m,v)}),h||a.push(f),l=f,u=d}),o.length)throw function G7(n){return new b(3502,!1)}();return a}function _v(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&vv(t,"start",n)));break;case"done":n.onDone(()=>r(t&&vv(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&vv(t,"destroy",n)))}}function vv(n,e,t){const s=wv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function wv(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Kn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function D1(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Ev=(n,e)=>!1,T1=(n,e,t)=>[],C1=null;function Iv(n){const e=n.parentNode||n.host;return e===C1?null:e}(yv()||typeof Element<"u")&&(nQ()?(C1=(()=>document.documentElement)(),Ev=(n,e)=>{for(;e;){if(e===n)return!0;e=Iv(e)}return!1}):Ev=(n,e)=>n.contains(e),T1=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let js=null,S1=!1;const A1=Ev,M1=T1;let x1=(()=>{class n{validateStyleProperty(t){return function iQ(n){js||(js=function sQ(){return typeof document<"u"?document.body:null}()||{},S1=!!js.style&&"WebkitAppearance"in js.style);let e=!0;return js.style&&!function rQ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in js.style,!e&&S1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in js.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return A1(t,r)}getParentElement(t){return Iv(t)}query(t,r,i){return M1(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new Fl(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),bv=(()=>{class n{}return n.NOOP=new x1,n})();const Dv="ng-enter",af="ng-leave",uf="ng-trigger",lf=".ng-trigger",k1="ng-animating",Tv=".ng-animating";function Ei(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Cv(parseFloat(e[1]),e[2])}function Cv(n,e){return"s"===e?1e3*n:n}function cf(n,e,t){return n.hasOwnProperty("duration")?n:function uQ(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(I1()),{duration:0,delay:0,easing:""};i=Cv(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=Cv(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function I7(){return new b(3100,!1)}()),a=!0),s<0&&(e.push(function b7(){return new b(3101,!1)}()),a=!0),a&&e.splice(u,0,I1())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Ll(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function R1(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ji(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function O1(n,e,t){return t?e+":"+t+";":""}function F1(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=O1(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=O1(0,hQ(t),n.style[t]));n.setAttribute("style",e)}function jr(n,e,t){n.style&&(e.forEach((r,i)=>{const s=Av(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),yv()&&F1(n))}function Hs(n,e){n.style&&(e.forEach((t,r)=>{const i=Av(r);n.style[i]=""}),yv()&&F1(n))}function Vl(n){return Array.isArray(n)?1==n.length?n[0]:_1(n):n}const Sv=new RegExp("{{\\s*(.+?)\\s*}}","g");function L1(n){let e=[];if("string"==typeof n){let t;for(;t=Sv.exec(n);)e.push(t[1]);Sv.lastIndex=0}return e}function Ul(n,e,t){const r=n.toString(),i=r.replace(Sv,(s,o)=>{let a=e[o];return null==a&&(t.push(function T7(n){return new b(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function df(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const dQ=/-+([a-z0-9])/g;function Av(n){return n.replace(dQ,(...e)=>e[1].toUpperCase())}function hQ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function C7(n){return new b(3004,!1)}()}}function V1(n,e){return window.getComputedStyle(n)[e]}function _Q(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function vQ(n,e,t){if(":"==n[0]){const u=function wQ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function B7(n){return new b(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function U7(n){return new b(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(U1(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(U1(o,i))}(r,t,e)):t.push(n),t}const gf=new Set(["true","1"]),mf=new Set(["false","0"]);function U1(n,e){const t=gf.has(n)||mf.has(n),r=gf.has(e)||mf.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?gf.has(n):mf.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?gf.has(e):mf.has(e)),o&&a}}const EQ=new RegExp("s*:selfs*,?","g");function Mv(n,e,t,r){return new IQ(n).build(e,t,r)}class IQ{constructor(e){this._driver=e}build(e,t,r){const i=new TQ(t);return this._resetContextStyleTimingState(i),Qn(this,Vl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function A7(){return new b(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function M7(){return new b(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{L1(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(df(s.values()),t.errors.push(function x7(n,e){return new b(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Qn(this,Vl(e.animation),t);return{type:1,matchers:_Q(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Gs(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Qn(this,r,t)),options:Gs(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Qn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Gs(e.options)}}visitAnimate(e,t){const r=function SQ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return xv(cf(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=xv(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=cf(t,e);return xv(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ol({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=Ol(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===wi?r.push(a):t.errors.push(new b(3002,!1)):r.push(R1(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=t.collectedStyles.get(t.currentQuerySelector),c=l.get(u);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function k7(n,e,t,r,i){return new b(3010,!1)}()),d=!1),s=c.startTime),d&&l.set(u,{startTime:s,endTime:i}),t.options&&function cQ(n,e,t){const r=e.params||{},i=L1(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function D7(n){return new b(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function R7(){return new b(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(v=>{const I=this._makeStyleAst(v,t);let _=null!=I.offset?I.offset:function CQ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),C=0;return null!=_&&(s++,C=I.offset=_),u=u||C<0||C>1,a=a||C<l,l=C,o.push(C),I});u&&t.errors.push(function P7(){return new b(3012,!1)}()),a&&t.errors.push(function O7(){return new b(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function F7(){return new b(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((v,I)=>{const _=h>0?I==f?1:h*I:o[I],C=_*m;t.currentTime=p+g.delay+C,g.duration=C,this._validateStyleAst(v,t),v.offset=_,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:Qn(this,Vl(e.animation),t),options:Gs(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Gs(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Gs(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function bQ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(EQ,"")),n=n.replace(/@\*/g,lf).replace(/@\w+/g,t=>lf+"-"+t.slice(1)).replace(/:animating/g,Tv),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Kn(t.collectedStyles,t.currentQuerySelector,new Map);const a=Qn(this,Vl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Gs(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function L7(){return new b(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:cf(e.timings,t.errors,!0);return{type:12,animation:Qn(this,Vl(e.animation),t),timings:r,options:null}}}class TQ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gs(n){return n?(n=Ll(n)).params&&(n.params=function DQ(n){return n?Ll(n):null}(n.params)):n={},n}function xv(n,e,t){return{duration:n,delay:e,easing:t}}function Nv(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class yf{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const xQ=new RegExp(":enter","g"),kQ=new RegExp(":leave","g");function kv(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return(new RQ).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class RQ{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new yf;const d=new Rv(e,t,l,i,s,c,[]);d.options=u;const h=u.delay?Ei(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),Qn(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[Nv(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Ei(Ul(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Ei(r.duration):null,a=null!=r.delay?Ei(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Qn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_f);const o=Ei(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Qn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ei(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Qn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return cf(t.params?Ul(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ei(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_f);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),Qn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;Qn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const _f={};class Rv{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_f,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new vf(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ei(r.duration)),null!=r.delay&&(i.delay=Ei(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Ul(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new Rv(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=_f,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new PQ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(xQ,"."+this._enterClassName)).replace(kQ,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function V7(n){return new b(3014,!1)}()),a}}class vf{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new vf(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||wi),this._currentKeyframe.set(t,wi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function OQ(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,wi)}else Ji(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=Ul(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??wi),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Ji(a,new Map,this._backFill);l.forEach((c,d)=>{"!"===c?e.add(d):c===wi&&t.add(d)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?df(e.values()):[],o=t.size?df(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return Nv(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class PQ extends vf{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Ji(e[0]);u.set("offset",0),s.push(u);const l=Ji(e[0]);l.set("offset",j1(a)),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=Ji(e[d]);const f=h.get("offset");h.set("offset",j1((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return Nv(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function j1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Pv{}const FQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class LQ extends Pv{normalizePropertyName(e,t){return Av(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(FQ.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function S7(n,e){return new b(3005,!1)}())}return o+s}}function H1(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const Ov={};class G1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function VQ(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||Ov,p=this.buildStyles(r,a&&a.params||Ov,d),g=u&&u.params||Ov,m=this.buildStyles(i,g,d),v=new Set,I=new Map,_=new Map,C="void"===i,x={params:UQ(g,h),delay:this.ast.options?.delay},P=c?[]:kv(e,t,this.ast.animation,s,o,p,m,x,l,d);let re=0;if(P.forEach(Ht=>{re=Math.max(Ht.duration+Ht.delay,re)}),d.length)return H1(t,this._triggerName,r,i,C,p,m,[],[],I,_,re,d);P.forEach(Ht=>{const bn=Ht.element,ku=Kn(I,bn,new Set);Ht.preStyleProps.forEach(kr=>ku.add(kr));const ji=Kn(_,bn,new Set);Ht.postStyleProps.forEach(kr=>ji.add(kr)),bn!==t&&v.add(bn)});const it=df(v.values());return H1(t,this._triggerName,r,i,C,p,m,P,it,I,_,re)}}function UQ(n,e){const t=Ll(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class BQ{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Ll(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Ul(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(u,o)})}),r}}class jQ{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new BQ(i.style,i.options&&i.options.params||{},r))}),q1(this.states,"true","1"),q1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new G1(e,i,this.states))}),this.fallbackTransition=function HQ(n,e,t){return new G1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function q1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const GQ=new yf;class qQ{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=Mv(this._driver,t,r,[]);if(r.length)throw function q7(n){return new b(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=b1(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=kv(this._driver,t,s,Dv,af,new Map,new Map,r,GQ,i),o.forEach(c=>{const d=Kn(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function z7(){return new b(3300,!1)}()),o=[]),i.length)throw function W7(n){return new b(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,wi))})});const l=Xi(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function K7(n){return new b(3301,!1)}();return t}listen(e,t,r,i){const s=wv(t,"","","");return _v(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const z1="ng-animate-queued",Fv="ng-animate-disabled",YQ=[],W1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cr="__ng_removed";class Lv{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function t9(n){return n??null}(r?e.value:e),r){const s=Ll(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Bl="void",Vv=new Lv(Bl);class XQ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,dr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Q7(n,e){return new b(3302,!1)}();if(null==r||0==r.length)throw function Y7(n){return new b(3303,!1)}();if(!function n9(n){return"start"==n||"done"==n}(r))throw function Z7(n,e){return new b(3400,!1)}();const s=Kn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Kn(this._engine.statesByElement,e,new Map);return a.has(t)||(dr(e,uf),dr(e,uf+"-"+t),a.set(t,Vv)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function X7(n){return new b(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new Uv(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(dr(e,uf),dr(e,uf+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const l=new Lv(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=Vv),l.value!==Bl&&u.value===l.value){if(!function s9(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],m=s.matchStyles(u.value,u.params,g),v=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Hs(e,m),jr(e,v)})}return}const h=Kn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(dr(e,z1),o.onStart(()=>{Pa(e,z1)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,lf,!0);r.forEach(i=>{if(i[cr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const c=this.trigger(e,l,Bl,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Xi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||Vv,c=new Lv(Bl),d=new Uv(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[cr];(!s||s===W1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){dr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=wv(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,_v(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class JQ{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new XQ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(wf(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!wf(t))return;const s=t[cr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),dr(e,Fv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pa(e,Fv))}removeNode(e,t,r,i){if(wf(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[cr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return wf(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,lf,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Tv,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[cr];if(t&&t.setForRemoval){if(e[cr]=W1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Fv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)dr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Xi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function J7(n){return new b(3402,!1)}()}_flushAnimations(e,t){const r=new yf,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(L=>{c.add(L);const $=this.driver.query(L,".ng-animate-queued",!0);for(let Q=0;Q<$.length;Q++)c.add($[Q])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Y1(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((L,$)=>{const Q=Dv+g++;p.set($,Q),L.forEach(ye=>dr(ye,Q))});const m=[],v=new Set,I=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){const $=this.collectedLeaveElements[L],Q=$[cr];Q&&Q.setForRemoval&&(m.push($),v.add($),Q.hasAnimation?this.driver.query($,".ng-star-inserted",!0).forEach(ye=>v.add(ye)):I.add($))}const _=new Map,C=Y1(h,Array.from(v));C.forEach((L,$)=>{const Q=af+g++;_.set($,Q),L.forEach(ye=>dr(ye,Q))}),e.push(()=>{f.forEach((L,$)=>{const Q=p.get($);L.forEach(ye=>Pa(ye,Q))}),C.forEach((L,$)=>{const Q=_.get($);L.forEach(ye=>Pa(ye,Q))}),m.forEach(L=>{this.processLeaveNode(L)})});const x=[],P=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(t).forEach(Q=>{const ye=Q.player,xt=Q.element;if(x.push(ye),this.collectedEnterElements.length){const tn=xt[cr];if(tn&&tn.setForMove){if(tn.previousTriggersValues&&tn.previousTriggersValues.has(Q.triggerName)){const $o=tn.previousTriggersValues.get(Q.triggerName),gr=this.statesByElement.get(Q.element);if(gr&&gr.has(Q.triggerName)){const Jg=gr.get(Q.triggerName);Jg.value=$o,gr.set(Q.triggerName,Jg)}}return void ye.destroy()}}const ti=!d||!this.driver.containsElement(d,xt),tr=_.get(xt),bs=p.get(xt),Ge=this._buildInstruction(Q,r,bs,tr,ti);if(Ge.errors&&Ge.errors.length)return void P.push(Ge);if(ti)return ye.onStart(()=>Hs(xt,Ge.fromStyles)),ye.onDestroy(()=>jr(xt,Ge.toStyles)),void i.push(ye);if(Q.isFallbackTransition)return ye.onStart(()=>Hs(xt,Ge.fromStyles)),ye.onDestroy(()=>jr(xt,Ge.toStyles)),void i.push(ye);const qj=[];Ge.timelines.forEach(tn=>{tn.stretchStartingKeyframe=!0,this.disabledNodes.has(tn.element)||qj.push(tn)}),Ge.timelines=qj,r.append(xt,Ge.timelines),o.push({instruction:Ge,player:ye,element:xt}),Ge.queriedElements.forEach(tn=>Kn(a,tn,[]).push(ye)),Ge.preStyleProps.forEach((tn,$o)=>{if(tn.size){let gr=u.get($o);gr||u.set($o,gr=new Set),tn.forEach((Jg,rS)=>gr.add(rS))}}),Ge.postStyleProps.forEach((tn,$o)=>{let gr=l.get($o);gr||l.set($o,gr=new Set),tn.forEach((Jg,rS)=>gr.add(rS))})});if(P.length){const L=[];P.forEach($=>{L.push(function eQ(n,e){return new b(3505,!1)}())}),x.forEach($=>$.destroy()),this.reportError(L)}const re=new Map,it=new Map;o.forEach(L=>{const $=L.element;r.has($)&&(it.set($,$),this._beforeAnimationBuild(L.player.namespaceId,L.instruction,re))}),i.forEach(L=>{const $=L.element;this._getPreviousPlayers($,!1,L.namespaceId,L.triggerName,null).forEach(ye=>{Kn(re,$,[]).push(ye),ye.destroy()})});const Ht=m.filter(L=>X1(L,u,l)),bn=new Map;Q1(bn,this.driver,I,l,wi).forEach(L=>{X1(L,u,l)&&Ht.push(L)});const ji=new Map;f.forEach((L,$)=>{Q1(ji,this.driver,new Set(L),u,"!")}),Ht.forEach(L=>{const $=bn.get(L),Q=ji.get(L);bn.set(L,new Map([...Array.from($?.entries()??[]),...Array.from(Q?.entries()??[])]))});const kr=[],Ru=[],Pu={};o.forEach(L=>{const{element:$,player:Q,instruction:ye}=L;if(r.has($)){if(c.has($))return Q.onDestroy(()=>jr($,ye.toStyles)),Q.disabled=!0,Q.overrideTotalTime(ye.totalTime),void i.push(Q);let xt=Pu;if(it.size>1){let tr=$;const bs=[];for(;tr=tr.parentNode;){const Ge=it.get(tr);if(Ge){xt=Ge;break}bs.push(tr)}bs.forEach(Ge=>it.set(Ge,xt))}const ti=this._buildAnimation(Q.namespaceId,ye,re,s,ji,bn);if(Q.setRealPlayer(ti),xt===Pu)kr.push(Q);else{const tr=this.playersByElement.get(xt);tr&&tr.length&&(Q.parentPlayer=Xi(tr)),i.push(Q)}}else Hs($,ye.fromStyles),Q.onDestroy(()=>jr($,ye.toStyles)),Ru.push(Q),c.has($)&&i.push(Q)}),Ru.forEach(L=>{const $=s.get(L.element);if($&&$.length){const Q=Xi($);L.setRealPlayer(Q)}}),i.forEach(L=>{L.parentPlayer?L.syncPlayerEvents(L.parentPlayer):L.destroy()});for(let L=0;L<m.length;L++){const $=m[L],Q=$[cr];if(Pa($,af),Q&&Q.hasAnimation)continue;let ye=[];if(a.size){let ti=a.get($);ti&&ti.length&&ye.push(...ti);let tr=this.driver.query($,Tv,!0);for(let bs=0;bs<tr.length;bs++){let Ge=a.get(tr[bs]);Ge&&Ge.length&&ye.push(...Ge)}}const xt=ye.filter(ti=>!ti.destroyed);xt.length?r9(this,$,xt):this.processLeaveNode($)}return m.length=0,kr.forEach(L=>{this.players.push(L),L.onDone(()=>{L.destroy();const $=this.players.indexOf(L);this.players.splice($,1)}),L.play()}),kr}elementContainsData(e,t){let r=!1;const i=t[cr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Bl;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=Kn(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Hs(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const m=g[cr];if(m&&m.removedBeforeQueried)return new Fl(p.duration,p.delay);const v=g!==u,I=function i9(n){const e=[];return Z1(n,e),e}((r.get(g)||YQ).map(re=>re.getRealPlayer())).filter(re=>!!re.element&&re.element===g),_=s.get(g),C=o.get(g),x=b1(0,this._normalizer,0,p.keyframes,_,C),P=this._buildPlayer(p,x,I);if(p.subTimeline&&i&&d.add(g),v){const re=new Uv(e,a,g);re.setRealPlayer(P),l.push(re)}return P});l.forEach(p=>{Kn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function e9(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>dr(p,k1));const f=Xi(h);return f.onDestroy(()=>{c.forEach(p=>Pa(p,k1)),jr(u,t.toStyles)}),d.forEach(p=>{Kn(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Fl(e.duration,e.delay)}}class Uv{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Fl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>_v(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Kn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function wf(n){return n&&1===n.nodeType}function K1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Q1(n,e,t,r,i){const s=[];t.forEach(u=>s.push(K1(u)));const o=[];r.forEach((u,l)=>{const c=new Map;u.forEach(d=>{const h=e.computeStyle(l,d,i);c.set(d,h),(!h||0==h.length)&&(l[cr]=ZQ,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>K1(u,s[a++])),o}function Y1(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function dr(n,e){n.classList?.add(e)}function Pa(n,e){n.classList?.remove(e)}function r9(n,e,t){Xi(t).onDone(()=>n.processLeaveNode(e))}function Z1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof E1?Z1(r.players,e):e.push(r)}}function X1(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Ef{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new JQ(e,t,r),this._timelineEngine=new qQ(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=Mv(this._driver,s,u,[]);if(u.length)throw function H7(n,e){return new b(3404,!1)}();a=function $Q(n,e,t){return new jQ(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=D1(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=D1(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let a9=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&jr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jr(this._element,this._initialStyles),this._endStyles&&(jr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hs(this._element,this._endStyles),this._endStyles=null),jr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Bv(n){let e=null;return n.forEach((t,r)=>{(function u9(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class J1{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:V1(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class l9{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return A1(e,t)}getParentElement(e){return Iv(e)}query(e,t,r){return M1(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,c=o.filter(f=>f instanceof J1);(function fQ(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function lQ(n){return n.length?n[0]instanceof Map?n:n.map(e=>R1(e)):[]}(t).map(f=>Ji(f));d=function pQ(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,V1(n,a)))}}return e}(e,d,l);const h=function o9(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Bv(e[0]),e.length>1&&(r=Bv(e[e.length-1]))):e instanceof Map&&(t=Bv(e)),t||r?new a9(n,t,r):null}(e,d);return new J1(e,d,u,h)}}let c9=(()=>{class n extends m1{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:_r.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?_1(t):t;return eP(this._renderer,null,r,"register",[i]),new d9(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(F(al),F(bt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class d9 extends class v7{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new h9(this._id,e,t||{},this._renderer)}}class h9{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return eP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const tP="@.disabled";let f9=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new nP("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new p9(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(F(al),F(Ef),F(Le))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class nP{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==tP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class p9 extends nP{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==tP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function g9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function m9(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let y9=(()=>{class n extends Ef{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(F(bt),F(bv),F(Pv),F(Sl))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const rP=[{provide:m1,useClass:c9},{provide:Pv,useFactory:function _9(){return new LQ}},{provide:Ef,useClass:y9},{provide:al,useFactory:function v9(n,e,t){return new f9(n,e,t)},deps:[sf,Ef,Le]}],$v=[{provide:bv,useFactory:()=>new l9},{provide:Kk,useValue:"BrowserAnimations"},...rP],iP=[{provide:bv,useClass:x1},{provide:Kk,useValue:"NoopAnimations"},...rP];let w9=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?iP:$v}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({providers:$v,imports:[c1]}),n})();class hr extends mr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Ii(n,e){return ht((t,r)=>{let i=0;t.subscribe(st(r,s=>n.call(e,s,i++)&&r.next(s)))})}const I9=["overlay"];function b9(n,e){1&n&&Wn(0,"div")}function D9(n,e){if(1&n&&($e(0,"div"),Sa(1,b9,1,0,"div",6),be()),2&n){const t=Aa(2);nN(t.spinner.class),ml("color",t.spinner.color),qn(1),hn("ngForOf",t.spinner.divArray)}}function T9(n,e){1&n&&(Wn(0,"div",7),function mk(n,e){const t=fe();let r;const i=n+22;t.firstCreatePass?(r=function SK(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=ks(r.type)),o=rr(D);try{const a=zd(!1),u=s();return zd(a),function v3(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,T(),i,u),u}finally{rr(o)}}(1,"safeHtml")),2&n&&hn("innerHTML",yk(1,1,Aa(2).template),UA)}function C9(n,e){if(1&n&&($e(0,"div",1,2),Sa(2,D9,2,5,"div",3),Sa(3,T9,2,3,"div",4),$e(4,"div",5),function Ux(n,e=0,t){const r=T(),i=fe(),s=ma(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),Am(),64!=(64&s.flags)&&function jz(n,e,t){SM(e[11],0,e,t,yM(n,t,e),EM(t.parent||e[6],t,e))}(i,r,s)}(5),be()()),2&n){const t=Aa();ml("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),hn("@.disabled",t.disableAnimation)("@fadeIn","in"),qn(2),hn("ngIf",!t.template),qn(1),hn("ngIf",t.template),qn(1),ml("z-index",t.spinner.zIndex)}}const S9=["*"],A9={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Hv="primary";class qs{constructor(e){Object.assign(this,e)}static create(e){return(null==e?.type||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new qs(e)}}let sP=(()=>{class n{constructor(){this.spinnerObservable=new hr(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(Ii(r=>r&&r.name===t))}show(t=Hv,r){return new Promise((i,s)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new qs({...r,show:!0})),i(!0)):(this.spinnerObservable.next(new qs({name:t,show:!0})),i(!0))},10)})}hide(t=Hv,r=10){return new Promise((i,s)=>{setTimeout(()=>{this.spinnerObservable.next(new qs({name:t,show:!1})),i(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oP=new B("NGX_SPINNER_CONFIG");let M9=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(D(p1,16))},n.\u0275pipe=rn({name:"safeHtml",type:n,pure:!0}),n})(),x9=(()=>{class n{constructor(t,r,i,s){this.spinnerService=t,this.changeDetector=r,this.elementRef=i,this.globalConfig=s,this.disableAnimation=!1,this.spinner=new qs,this.ngUnsubscribe=new mr,this.setDefaultOptions=()=>{const{type:o}=this.globalConfig??{};this.spinner=qs.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??o,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Hv,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(function E9(n){return ht((e,t)=>{nr(n).subscribe(st(t,()=>t.complete(),em)),!t.closed&&e.subscribe(t)})}(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const r in t)if(r){const i=t[r];if(i.isFirstChange())return;typeof i.currentValue<"u"&&i.currentValue!==i.previousValue&&""!==i.currentValue&&(this.spinner[r]=i.currentValue,"showSpinner"===r&&(i.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(t,r){this.spinner.divCount=A9[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,o)=>o);let i="";switch(r.toLowerCase()){case"small":i="la-sm";break;case"medium":i="la-2x";break;case"large":i="la-3x"}return"la-"+t+" "+i}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(D(sP),D(Al),D(Cn),D(oP,8))},n.\u0275cmp=qo({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,r){if(1&t&&bk(I9,5),2&t){let i;Nh(i=function kh(){return function qK(n,e){return n[19].queries[e].queryList}(T(),KS())}())&&(r.spinnerDOM=i.first)}},hostBindings:function(t,r){1&t&&It("keydown",function(s){return r.handleKeyboardEvent(s)},0,cM)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[Bn],ngContentSelectors:S9,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,r){1&t&&(function Vx(n){const e=T()[16][6];if(!e.projection){const r=e.projection=Zu(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?D3(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),Sa(0,C9,6,12,"div",0)),2&t&&hn("ngIf",r.spinner.show)},dependencies:[rv,UR,M9],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[w7("fadeIn",[E7("in",Ol({opacity:1})),v1(":enter",[Ol({opacity:0}),y1(300)]),v1(":leave",y1(200,Ol({opacity:0})))])]},changeDetection:0}),n})(),N9=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:oP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({imports:[HR]}),n})();function j(...n){return ot(n,Lu(n))}const bf=Ou(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:k9}=Array,{getPrototypeOf:R9,prototype:P9,keys:O9}=Object;function aP(n){if(1===n.length){const e=n[0];if(k9(e))return{args:e,keys:null};if(function F9(n){return n&&"object"==typeof n&&R9(n)===P9}(e)){const t=O9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:L9}=Array;function uP(n){return de(e=>function V9(n,e){return L9(e)?n(...e):n(e)}(n,e))}function lP(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function cP(...n){const e=Lu(n),t=CS(n),{args:r,keys:i}=aP(n);if(0===r.length)return ot([],e);const s=new Be(function U9(n,e,t=Cs){return r=>{dP(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)dP(e,()=>{const l=ot(n[u],e);let c=!1;l.subscribe(st(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>lP(i,o):Cs));return t?s.pipe(uP(t)):s}function dP(n,e,t){n?ni(t,n,e):e()}function Gv(...n){return function B9(){return Ho(1)}()(ot(n,Lu(n)))}function hP(n){return new Be(e=>{nr(n()).subscribe(e)})}function $l(n,e){const t=Se(n)?n:()=>n,r=i=>i.error(t());return new Be(e?i=>e.schedule(r,0,i):r)}function qv(){return ht((n,e)=>{let t=null;n._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class fP extends Be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,dS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new On;const t=this.getSubject();e.add(this.source.subscribe(st(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=On.EMPTY)}return e}refCount(){return qv()(this)}}function Hr(n,e){return ht((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(st(r,u=>{i?.unsubscribe();let l=0;const c=s++;nr(n(u,c)).subscribe(i=st(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function jl(n){return n<=0?()=>ri:ht((e,t)=>{let r=0;e.subscribe(st(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Df(n){return ht((e,t)=>{let r=!1;e.subscribe(st(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pP(n=j9){return ht((e,t)=>{let r=!1;e.subscribe(st(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function j9(){return new bf}function es(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ii((i,s)=>n(i,s,r)):Cs,jl(1),t?Df(e):pP(()=>new bf))}function zs(n,e){return Se(e)?Nt(n,e,1):Nt(n,1)}function kt(n,e,t){const r=Se(n)||e||t?{next:n,error:e,complete:t}:n;return r?ht((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(st(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Cs}function ts(n){return ht((e,t)=>{let s,r=null,i=!1;r=e.subscribe(st(t,void 0,void 0,o=>{s=nr(n(o,ts(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function H9(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(st(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function gP(n,e){return ht(H9(n,e,arguments.length>=2,!0))}function zv(n){return n<=0?()=>ri:ht((e,t)=>{let r=[];e.subscribe(st(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ii((i,s)=>n(i,s,r)):Cs,zv(1),t?Df(e):pP(()=>new bf))}function Wv(n){return ht((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ue="primary",Hl=Symbol("RouteTitle");class z9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Oa(n){return new z9(n)}function W9(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Gr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!yP(n[i],e[i]))return!1;return!0}function yP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function _P(n){return Array.prototype.concat.apply([],n)}function vP(n){return n.length>0?n[n.length-1]:null}function Rt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ns(n){return o_(n)?n:gl(n)?ot(Promise.resolve(n)):j(n)}const Y9={exact:function IP(n,e,t){if(!Ks(n.segments,e.segments)||!Tf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!IP(n.children[r],e.children[r],t))return!1;return!0},subset:bP},wP={exact:function Z9(n,e){return Gr(n,e)},subset:function X9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yP(n[t],e[t]))},ignored:()=>!0};function EP(n,e,t){return Y9[t.paths](n.root,e.root,t.matrixParams)&&wP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bP(n,e,t){return DP(n,e,e.segments,t)}function DP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ks(i,t)||e.hasChildren()||!Tf(i,t,r))}if(n.segments.length===t.length){if(!Ks(n.segments,t)||!Tf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!bP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ks(n.segments,i)&&Tf(n.segments,i,r)&&n.children[ue])&&DP(n.children[ue],e,s,r)}}function Tf(n,e,t){return e.every((r,i)=>wP[t](n[i].parameters,r.parameters))}class Ws{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return tY.serialize(this)}}class le{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Rt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cf(this)}}class Gl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Oa(this.parameters)),this._parameterMap}toString(){return AP(this)}}function Ks(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let TP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return new Qv},providedIn:"root"}),n})();class Qv{parse(e){const t=new cY(e);return new Ws(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ql(e.root,!0)}`,r=function iY(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Sf(t)}=${Sf(i)}`).join("&"):`${Sf(t)}=${Sf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function nY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const tY=new Qv;function Cf(n){return n.segments.map(e=>AP(e)).join("/")}function ql(n,e){if(!n.hasChildren())return Cf(n);if(e){const t=n.children[ue]?ql(n.children[ue],!1):"",r=[];return Rt(n.children,(i,s)=>{s!==ue&&r.push(`${s}:${ql(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function eY(n,e){let t=[];return Rt(n.children,(r,i)=>{i===ue&&(t=t.concat(e(r,i)))}),Rt(n.children,(r,i)=>{i!==ue&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ue?[ql(n.children[ue],!1)]:[`${i}:${ql(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${Cf(n)}/${t[0]}`:`${Cf(n)}/(${t.join("//")})`}}function CP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sf(n){return CP(n).replace(/%3B/gi,";")}function Yv(n){return CP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Af(n){return decodeURIComponent(n)}function SP(n){return Af(n.replace(/\+/g,"%20"))}function AP(n){return`${Yv(n.path)}${function rY(n){return Object.keys(n).map(e=>`;${Yv(e)}=${Yv(n[e])}`).join("")}(n.parameters)}`}const sY=/^[^\/()?;=#]+/;function Mf(n){const e=n.match(sY);return e?e[0]:""}const oY=/^[^=?&#]+/,uY=/^[^&#]+/;class cY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new le(e,t)),r}parseSegment(){const e=Mf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Gl(Af(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Mf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Mf(this.remaining);i&&(r=i,this.capture(r))}e[Af(t)]=Af(r)}parseQueryParam(e){const t=function aY(n){const e=n.match(oY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function lY(n){const e=n.match(uY);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=SP(t),s=SP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Mf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ue]:new le([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function Zv(n){return n.segments.length>0?new le([],{[ue]:n}):n}function xf(n){const e={};for(const r of Object.keys(n.children)){const s=xf(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function dY(n){if(1===n.numberOfChildren&&n.children[ue]){const e=n.children[ue];return new le(n.segments.concat(e.segments),e.children)}return n}(new le(n.segments,e))}function Qs(n){return n instanceof Ws}function pY(n,e,t,r,i){if(0===t.length)return Fa(e.root,e.root,e.root,r,i);const s=function NP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Rt(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new xP(t,e,r)}(t);return s.toRoot()?Fa(e.root,e.root,new le([],{}),r,i):function o(u){const l=function mY(n,e,t,r){if(n.isAbsolute)return new La(e.root,!0,0);if(-1===r)return new La(t,t===e.root,0);return function kP(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new La(r,!1,i-s)}(t,r+(zl(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),c=l.processChildren?Kl(l.segmentGroup,l.index,s.commands):Jv(l.segmentGroup,l.index,s.commands);return Fa(e.root,l.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}function zl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Wl(n){return"object"==typeof n&&null!=n&&n.outlets}function Fa(n,e,t,r,i){let o,s={};r&&Rt(r,(u,l)=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=n===e?t:MP(n,e,t);const a=Zv(xf(o));return new Ws(a,s,i)}function MP(n,e,t){const r={};return Rt(n.children,(i,s)=>{r[s]=i===e?t:MP(i,e,t)}),new le(n.segments,r)}class xP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zl(r[0]))throw new b(4003,!1);const i=r.find(Wl);if(i&&i!==vP(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class La{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Jv(n,e,t){if(n||(n=new le([],{})),0===n.segments.length&&n.hasChildren())return Kl(n,e,t);const r=function _Y(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Wl(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!PP(u,l,o))return s;r+=2}else{if(!PP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new le(n.segments.slice(0,r.pathIndex),{});return s.children[ue]=new le(n.segments.slice(r.pathIndex),n.children),Kl(s,0,i)}return r.match&&0===i.length?new le(n.segments,{}):r.match&&!n.hasChildren()?ew(n,e,t):r.match?Kl(n,0,i):ew(n,e,t)}function Kl(n,e,t){if(0===t.length)return new le(n.segments,{});{const r=function yY(n){return Wl(n[0])?n[0].outlets:{[ue]:n}}(t),i={};return Rt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Jv(n.children[o],e,s))}),Rt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new le(n.segments,i)}}function ew(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Wl(s)){const u=vY(s.outlets);return new le(r,u)}if(0===i&&zl(t[0])){r.push(new Gl(n.segments[e].path,RP(t[0]))),i++;continue}const o=Wl(s)?s.outlets[ue]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&zl(a)?(r.push(new Gl(o,RP(a))),i+=2):(r.push(new Gl(o,{})),i++)}return new le(r,{})}function vY(n){const e={};return Rt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ew(new le([],{}),0,t))}),e}function RP(n){const e={};return Rt(n,(t,r)=>e[r]=`${t}`),e}function PP(n,e,t){return n==t.path&&Gr(e,t.parameters)}class bi{constructor(e,t){this.id=e,this.url=t}}class tw extends bi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends bi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nf extends bi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class OP extends bi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wY extends bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EY extends bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IY extends bi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bY extends bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DY extends bi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class CY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class SY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=nw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=rw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return rw(e,this._root).map(t=>t.value)}}function nw(n,e){if(n===e.value)return e;for(const t of e.children){const r=nw(n,t);if(r)return r}return null}function rw(n,e){if(n===e.value)return[e];for(const t of e.children){const r=rw(n,t);if(r.length)return r.unshift(e),r}return[]}class Di{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Va(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class VP extends LP{constructor(e,t){super(e),this.snapshot=t,iw(this,e)}toString(){return this.snapshot.toString()}}function UP(n,e){const t=function kY(n,e){const o=new kf([],{},{},"",{},ue,e,null,n.root,-1,{});return new $P("",new Di(o,[]))}(n,e),r=new hr([new Gl("",{})]),i=new hr({}),s=new hr({}),o=new hr({}),a=new hr(""),u=new Zs(r,i,o,a,s,ue,e,t.root);return u.snapshot=t.root,new VP(new Di(u,[]),t)}class Zs{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(de(l=>l[Hl]))??j(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(e=>Oa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(e=>Oa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function BP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function RY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class kf{constructor(e,t,r,i,s,o,a,u,l,c,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Hl],this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $P extends LP{constructor(e,t){super(t),this.url=e,iw(this,t)}toString(){return jP(this._root)}}function iw(n,e){e.value._routerState=n,e.children.forEach(t=>iw(n,t))}function jP(n){const e=n.children.length>0?` { ${n.children.map(jP).join(", ")} } `:"";return`${n.value}${e}`}function sw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gr(e.params,t.params)||n.params.next(t.params),function K9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ow(n,e){const t=Gr(n.params,e.params)&&function J9(n,e){return Ks(n,e)&&n.every((t,r)=>Gr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ow(n.parent,e.parent))}function Ql(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function OY(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ql(n,r,i);return Ql(n,r)})}(n,e,t);return new Di(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ql(n,a)),o}}const r=function FY(n){return new Zs(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ql(n,s));return new Di(r,i)}}const aw="ngNavigationCancelingError";function HP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function GP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[aw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function qP(n){return zP(n)&&Qs(n.url)}function zP(n){return n&&n[aw]}class LY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yl,this.attachRef=null}}let Yl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new LY,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rf=!1;let WP=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.name=i||ue,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,Rf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,Rf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,Rf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new b(4013,Rf);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new VY(t,a,i.injector);if(r&&function UY(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(D(Yl),D(Cr),function Ku(n){return function kG(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(tA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(ft(),n)}("name"),D(Al),D(Wi))},n.\u0275dir=Z({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class VY{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Zs?this.route:e===Yl?this.childContexts:this.parent.get(e,t)}}let uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qo({type:n,selectors:[["ng-component"]],standalone:!0,features:[ik],decls:1,vars:0,template:function(t,r){1&t&&Wn(0,"router-outlet")},dependencies:[WP],encapsulation:2}),n})();function KP(n,e){return n.providers&&!n._injector&&(n._injector=Mh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function cw(n){const e=n.children&&n.children.map(cw),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=uw),t}function fr(n){return n.outlet||ue}function QP(n,e){const t=n.filter(r=>fr(r)===e);return t.push(...n.filter(r=>fr(r)!==e)),t}function Zl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class GY{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),sw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Va(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Rt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Va(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new AY(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(sw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Zl(i.snapshot),u=a?.get(ol)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class YP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pf{constructor(e,t){this.component=e,this.route=t}}function qY(n,e,t){const r=n._root;return Xl(r,e?e._root:null,t,[r.value])}function Ua(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function OH(n){return null!==Nd(n)}(n)?e.get(n):n:r}function Xl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Va(e);return n.children.forEach(o=>{(function WY(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function KY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ks(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ks(n.url,e.url)||!Gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ow(n,e)||!Gr(n.queryParams,e.queryParams);default:return!ow(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new YP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Xl(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pf(a.outlet.component,o))}else o&&Jl(e,a,i),i.canActivateChecks.push(new YP(r)),Xl(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Rt(s,(o,a)=>Jl(o,t.getContext(a),i)),i}function Jl(n,e,t){const r=Va(n),i=n.value;Rt(r,(s,o)=>{Jl(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Pf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ec(n){return"function"==typeof n}function dw(n){return n instanceof bf||"EmptyError"===n?.name}const Of=Symbol("INITIAL_VALUE");function Ba(){return Hr(n=>cP(n.map(e=>e.pipe(jl(1),function $9(...n){const e=Lu(n);return ht((t,r)=>{(e?Gv(n,t,e):Gv(n,t)).subscribe(r)})}(Of)))).pipe(de(e=>{for(const t of e)if(!0!==t){if(t===Of)return Of;if(!1===t||t instanceof Ws)return t}return!0}),Ii(e=>e!==Of),jl(1)))}function ZP(n){return function eH(...n){return uS(n)}(kt(e=>{if(Qs(e))throw HP(0,e)}),de(e=>!0===e))}const hw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XP(n,e,t,r,i){const s=fw(n,e,t);return s.matched?function dZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?j(i.map(o=>{const a=Ua(o,n);return ns(function eZ(n){return n&&ec(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ba(),ZP()):j(!0)}(r=KP(e,r),e,t).pipe(de(o=>!0===o?s:{...hw})):j(s)}function fw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...hw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||W9)(t,n,e);if(!i)return{...hw};const s={};Rt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Ff(n,e,t,r,i="corrected"){if(t.length>0&&function pZ(n,e,t){return t.some(r=>Lf(n,e,r)&&fr(r)!==ue)}(n,t,r)){const o=new le(e,function fZ(n,e,t,r){const i={};i[ue]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&fr(s)!==ue){const o=new le([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[fr(s)]=o}return i}(n,e,r,new le(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function gZ(n,e,t){return t.some(r=>Lf(n,e,r))}(n,t,r)){const o=new le(n.segments,function hZ(n,e,t,r,i,s){const o={};for(const a of r)if(Lf(n,t,a)&&!i[fr(a)]){const u=new le([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[fr(a)]=u}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new le(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Lf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function JP(n,e,t,r){return!!(fr(n)===r||r!==ue&&Lf(e,t,n))&&("**"===n.path||fw(e,n,t).matched)}function eO(n,e,t){return 0===e.length&&!n.children[t]}const Vf=!1;class Uf{constructor(e){this.segmentGroup=e||null}}class tO{constructor(e){this.urlTree=e}}function tc(n){return $l(new Uf(n))}function nO(n){return $l(new tO(n))}class vZ{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Ff(this.urlTree.root,[],[],this.config).segmentGroup,t=new le(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ue).pipe(de(s=>this.createUrlTree(xf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ts(s=>{if(s instanceof tO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Uf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ue).pipe(de(i=>this.createUrlTree(xf(i),e.queryParams,e.fragment))).pipe(ts(i=>{throw i instanceof Uf?this.noMatchError(i):i}))}noMatchError(e){return new b(4002,Vf)}createUrlTree(e,t,r){const i=Zv(e);return new Ws(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(de(s=>new le([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ot(i).pipe(zs(s=>{const o=r.children[s],a=QP(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(de(u=>({segment:u,outlet:s})))}),gP((s,o)=>(s[o.outlet]=o.segment,s),{}),mP())}expandSegment(e,t,r,i,s,o){return ot(r).pipe(zs(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ts(l=>{if(l instanceof Uf)return j(null);throw l}))),es(a=>!!a),ts((a,u)=>{if(dw(a))return eO(t,i,s)?j(new le([],{})):tc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return JP(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):tc(t):tc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nO(s):this.lineralizeSegments(r,s).pipe(Nt(o=>{const a=new le(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=fw(t,i,s);if(!a)return tc(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?nO(d):this.lineralizeSegments(i,d).pipe(Nt(h=>this.expandSegment(e,t,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=KP(r,e),r.loadChildren?(r._loadedRoutes?j({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(de(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new le(i,{})))):j(new le(i,{}))):XP(t,r,i,e).pipe(Hr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Nt(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=Ff(t,a,u,h),g=new le(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(de(_=>new le(a,_)));if(0===h.length&&0===p.length)return j(new le(a,{}));const m=fr(r)===s;return this.expandSegment(d,g,h,p,m?ue:s,!0).pipe(de(I=>new le(a.concat(I.segments),I.children)))})):tc(t)))}getChildConfig(e,t,r){return t.children?j({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?j({routes:t._loadedRoutes,injector:t._loadedInjector}):function cZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?j(!0):j(i.map(o=>{const a=Ua(o,n);return ns(function YY(n){return n&&ec(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ba(),ZP())}(e,t,r).pipe(Nt(i=>i?this.configLoader.loadChildren(e,t).pipe(kt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function yZ(n){return $l(GP(Vf,3))}())):j({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return j(r);if(i.numberOfChildren>1||!i.children[ue])return $l(new b(4e3,Vf));i=i.children[ue]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ws(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Rt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Rt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new le(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new b(4001,Vf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class EZ{}class DZ{constructor(e,t,r,i,s,o,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=Ff(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(de(t=>{if(null===t)return null;const r=new kf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Di(r,t),s=new $P(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=BP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ot(Object.keys(r.children)).pipe(zs(i=>{const s=r.children[i],o=QP(t,i);return this.processSegmentGroup(e,o,s,i)}),gP((i,s)=>i&&s?(i.push(...s),i):null),function G9(n,e=!1){return ht((t,r)=>{let i=0;t.subscribe(st(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Df(null),mP(),de(i=>{if(null===i)return null;const s=rO(i);return function TZ(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ot(t).pipe(zs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),es(o=>!!o),ts(o=>{if(dw(o))return eO(r,i,s)?j([]):j(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!JP(t,r,i,s))return j(null);let o;if("**"===t.path){const a=i.length>0?vP(i).parameters:{},u=sO(r)+i.length;o=j({snapshot:new kf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aO(t),fr(t),t.component??t._loadedComponent??null,t,iO(r),u,uO(t),u),consumedSegments:[],remainingSegments:[]})}else o=XP(r,t,i,e).pipe(de(({matched:a,consumedSegments:u,remainingSegments:l,parameters:c})=>{if(!a)return null;const d=sO(r)+u.length;return{snapshot:new kf(u,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aO(t),fr(t),t.component??t._loadedComponent??null,t,iO(r),d,uO(t),d),consumedSegments:u,remainingSegments:l}}));return o.pipe(Hr(a=>{if(null===a)return j(null);const{snapshot:u,consumedSegments:l,remainingSegments:c}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function CZ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Ff(r,l,c,h.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(de(m=>null===m?null:[new Di(u,m)]));if(0===h.length&&0===p.length)return j([new Di(u,[])]);const g=fr(t)===s;return this.processSegment(d,h,f,p,g?ue:s).pipe(de(m=>null===m?null:[new Di(u,m)]))}))}}function SZ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rO(n){const e=[],t=new Set;for(const r of n){if(!SZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=rO(r.children);e.push(new Di(r.value,i))}return e.filter(r=>!t.has(r))}function iO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sO(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function aO(n){return n.data||{}}function uO(n){return n.resolve||{}}function lO(n){return"string"==typeof n.title||null===n.title}function pw(n){return Hr(e=>{const t=n(e);return t?ot(t).pipe(de(()=>e)):j(e)})}let cO=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Hl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return Xe(dO)},providedIn:"root"}),n})(),dO=(()=>{class n extends cO{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(F(d1))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OZ{}class LZ extends class FZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $f=new B("",{providedIn:"root",factory:()=>({})}),gw=new B("ROUTES");let mw=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return j(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ns(t.loadComponent()).pipe(kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Wv(()=>{this.componentLoaders.delete(t)})),i=new fP(r,()=>new mr).pipe(qv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(de(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,c=!1;Array.isArray(a)?l=a:(u=a.create(t).injector,l=_P(u.get(gw,[],q.Self|q.Optional)));return{routes:l.map(cw),injector:u}}),Wv(()=>{this.childrenLoaders.delete(r)})),o=new fP(s,()=>new mr).pipe(qv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ns(t()).pipe(Nt(r=>r instanceof nk||Array.isArray(r)?j(r):ot(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(F(dn),F(k_))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UZ{}class BZ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function $Z(n){throw n}function jZ(n,e,t){return e.parse("/")}const HZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fO(){const n=Xe(TP),e=Xe(Yl),t=Xe(W_),r=Xe(dn),i=Xe(k_),s=Xe(gw,{optional:!0})??[],o=Xe($f,{optional:!0})??{},a=Xe(dO),u=Xe(cO,{optional:!0}),l=Xe(UZ,{optional:!0}),c=Xe(OZ,{optional:!0}),d=new Pt(null,n,e,t,r,i,_P(s));return l&&(d.urlHandlingStrategy=l),c&&(d.routeReuseStrategy=c),d.titleStrategy=u??a,function qZ(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let Pt=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new mr,this.errorHandler=$Z,this.malformedUriErrorHandler=jZ,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>j(void 0),this.urlHandlingStrategy=new BZ,this.routeReuseStrategy=new LZ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(mw),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new CY(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new TY(h)),this.ngModule=o.get(Us),this.console=o.get(f8);const d=o.get(Le);this.isNgZoneEnabled=d instanceof Le&&Le.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function Q9(){return new Ws(new le([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UP(this.currentUrlTree,this.rootComponentType),this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ii(i=>0!==i.id),de(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Hr(i=>{let s=!1,o=!1;return j(i).pipe(kt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hr(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pO(a.source)&&(this.browserUrlTree=a.extractedUrl),j(a).pipe(Hr(d=>{const h=this.transitions.getValue();return r.next(new tw(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ri:Promise.resolve(d)}),function wZ(n,e,t,r){return Hr(i=>function _Z(n,e,t,r,i){return new vZ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(de(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),kt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function MZ(n,e,t,r,i,s){return Nt(o=>function bZ(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new DZ(n,e,t,r,i,o,a,s).recognize().pipe(Hr(u=>null===u?function IZ(n){return new Be(e=>e.error(n))}(new EZ):j(u)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(de(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),kt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new wY(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,v=new tw(h,this.serializeUrl(f),p,g);r.next(v);const I=UP(f,this.rootComponentType).snapshot;return j(i={...a,targetSnapshot:I,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ri}),kt(a=>{const u=new EY(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),de(a=>i={...a,guards:qY(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function nZ(n,e){return Nt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?j({...t,guardsResult:!0}):function rZ(n,e,t,r){return ot(n).pipe(Nt(i=>function lZ(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?j(s.map(a=>{const u=Zl(e)??i,l=Ua(a,u);return ns(function JY(n){return n&&ec(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(es())})).pipe(Ba()):j(!0)}(i.component,i.route,t,e,r)),es(i=>!0!==i,!0))}(o,r,i,n).pipe(Nt(a=>a&&function QY(n){return"boolean"==typeof n}(a)?function iZ(n,e,t,r){return ot(e).pipe(zs(i=>Gv(function oZ(n,e){return null!==n&&e&&e(new SY(n)),j(!0)}(i.route.parent,r),function sZ(n,e){return null!==n&&e&&e(new MY(n)),j(!0)}(i.route,r),function uZ(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function zY(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>hP(()=>j(o.guards.map(u=>{const l=Zl(o.node)??t,c=Ua(u,l);return ns(function XY(n){return n&&ec(n.canActivateChild)}(c)?c.canActivateChild(r,n):l.runInContext(()=>c(r,n))).pipe(es())})).pipe(Ba())));return j(s).pipe(Ba())}(n,i.path,t),function aZ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return j(!0);const i=r.map(s=>hP(()=>{const o=Zl(e)??t,a=Ua(s,o);return ns(function ZY(n){return n&&ec(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(es())}));return j(i).pipe(Ba())}(n,i.route,t))),es(i=>!0!==i,!0))}(r,s,n,e):j(a)),de(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),kt(a=>{if(i.guardsResult=a.guardsResult,Qs(a.guardsResult))throw HP(0,a.guardsResult);const u=new IY(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Ii(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),pw(a=>{if(a.guards.canActivateChecks.length)return j(a).pipe(kt(u=>{const l=new bY(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),Hr(u=>{let l=!1;return j(u).pipe(function xZ(n,e){return Nt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return j(t);let s=0;return ot(i).pipe(zs(o=>function NZ(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!lO(i)&&(s[Hl]=i.title),function kZ(n,e,t,r){const i=function RZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return j({});const s={};return ot(i).pipe(Nt(o=>function PZ(n,e,t,r){const i=Zl(e)??r,s=Ua(n,i);return ns(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(es(),kt(a=>{s[o]=a}))),zv(1),function q9(n){return de(()=>n)}(s),ts(o=>dw(o)?ri:$l(o)))}(s,n,e,r).pipe(de(o=>(n._resolvedData=o,n.data=BP(n,t).resolve,i&&lO(i)&&(n.data[Hl]=i.title),null)))}(o.route,r,n,e)),kt(()=>s++),zv(1),Nt(o=>s===i.length?j(t):ri))})}(this.paramsInheritanceStrategy,this.ngModule.injector),kt({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),kt(u=>{const l=new DY(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),pw(a=>{const u=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(kt(d=>{l.component=d}),de(()=>{})));for(const d of l.children)c.push(...u(d));return c};return cP(u(a.targetSnapshot.root)).pipe(Df(),jl(1))}),pw(()=>this.afterPreactivation()),de(a=>{const u=function PY(n,e,t){const r=Ql(n,e._root,t?t._root:void 0);return new VP(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),kt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>de(r=>(new GY(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),kt({next(){s=!0},complete(){s=!0}}),Wv(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ts(a=>{if(o=!0,zP(a)){qP(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new Nf(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),qP(a)){const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pO(i.source)};this.scheduleNavigation(l,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new OP(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return ri}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(cw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),pY(l,this.currentUrlTree,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Qs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function zZ(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new b(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...HZ}:!1===r?{...GZ}:r,Qs(t))return EP(this.currentUrlTree,t,i);const s=this.parseUrl(t);return EP(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ys(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((h,f)=>{a=h,u=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new Nf(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){ky()},n.\u0275prov=H({token:n,factory:function(){return fO()},providedIn:"root"}),n})();function pO(n){return"imperative"!==n}class gO{}let QZ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(t=>t instanceof Ys),zs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Mh(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ot(i).pipe(Ho())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):j(null);const s=i.pipe(Nt(o=>null===o?j(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ot([s,this.loader.loadComponent(r)]).pipe(Ho()):s})}}return n.\u0275fac=function(t){return new(t||n)(F(Pt),F(k_),F(Wi),F(gO),F(mw))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vw=new B("");let mO=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ys&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof FP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new FP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){ky()},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function $a(n,e){return{\u0275kind:n,\u0275providers:e}}function ww(n){return[{provide:gw,multi:!0,useValue:n}]}function _O(){const n=Xe(dn);return e=>{const t=n.get(Sl);if(e!==t.components[0])return;const r=n.get(Pt),i=n.get(vO);1===n.get(Ew)&&r.initialNavigation(),n.get(wO,null,q.Optional)?.setUpPreloading(),n.get(vw,null,q.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const vO=new B("",{factory:()=>new mr}),Ew=new B("",{providedIn:"root",factory:()=>1});const wO=new B("");function JZ(n){return $a(0,[{provide:wO,useExisting:QZ},{provide:gO,useExisting:n}])}const EO=new B("ROUTER_FORROOT_GUARD"),eX=[W_,{provide:TP,useClass:Qv},{provide:Pt,useFactory:fO},Yl,{provide:Zs,useFactory:function yO(n){return n.routerState.root},deps:[Pt]},mw];function tX(){return new tR("Router",Pt)}let IO=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[eX,[],ww(t),{provide:EO,useFactory:sX,deps:[[Pt,new ln,new tl]]},{provide:$f,useValue:r||{}},r?.useHash?{provide:$s,useClass:t6}:{provide:$s,useClass:CR},{provide:vw,useFactory:()=>{const n=Xe(Pt),e=Xe(E5),t=Xe($f);return t.scrollOffset&&e.setOffset(t.scrollOffset),new mO(n,e,t)}},r?.preloadingStrategy?JZ(r.preloadingStrategy).\u0275providers:[],{provide:tR,multi:!0,useFactory:tX},r?.initialNavigation?oX(r):[],[{provide:bO,useFactory:_O},{provide:Wk,multi:!0,useExisting:bO}]]}}static forChild(t){return{ngModule:n,providers:[ww(t)]}}}return n.\u0275fac=function(t){return new(t||n)(F(EO,8))},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({imports:[uw]}),n})();function sX(n){return"guarded"}function oX(n){return["disabled"===n.initialNavigation?$a(3,[{provide:Oh,multi:!0,useFactory:()=>{const e=Xe(Pt);return()=>{e.setUpLocationChangeListener()}}},{provide:Ew,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$a(2,[{provide:Ew,useValue:0},{provide:Oh,multi:!0,deps:[dn],useFactory:e=>{const t=e.get(J8,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(Pt),a=e.get(vO);(function i(s){e.get(Pt).events.pipe(Ii(a=>a instanceof Ys||a instanceof Nf||a instanceof OP),de(a=>a instanceof Ys||a instanceof Nf&&(0===a.code||1===a.code)&&null),Ii(a=>null!==a),jl(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?j(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const bO=new B(""),uX=[];let lX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({imports:[IO.forRoot(uX),IO]}),n})(),DO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(D(ci),D(Cn))},n.\u0275dir=Z({type:n}),n})(),Xs=(()=>{class n extends DO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function zt(n){return Hi(()=>{const e=n.prototype.constructor,t=e[si]||Um(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[si]||Um(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275dir=Z({type:n,features:[Ie]}),n})();const qr=new B("NgValueAccessor"),hX={provide:qr,useExisting:Ae(()=>qf),multi:!0},pX=new B("CompositionEventMode");let qf=(()=>{class n extends DO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fX(){const n=$r()?$r().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(D(ci),D(Cn),D(pX,8))},n.\u0275dir=Z({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&It("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Fe([hX]),Ie]}),n})();function rs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function CO(n){return null!=n&&"number"==typeof n.length}const Yt=new B("NgValidators"),is=new B("NgAsyncValidators"),mX=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zf{static min(e){return function SO(n){return e=>{if(rs(e.value)||rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function AO(n){return e=>{if(rs(e.value)||rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function MO(n){return rs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function xO(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function NO(n){return rs(n.value)||mX.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function kO(n){return e=>rs(e.value)||!CO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function RO(n){return e=>CO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function PO(n){if(!n)return Wf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(rs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return BO(e)}static composeAsync(e){return $O(e)}}function Wf(n){return null}function OO(n){return null!=n}function FO(n){return gl(n)?ot(n):n}function LO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function VO(n,e){return e.map(t=>t(n))}function UO(n){return n.map(e=>function yX(n){return!n.validate}(e)?e:t=>e.validate(t))}function BO(n){if(!n)return null;const e=n.filter(OO);return 0==e.length?null:function(t){return LO(VO(t,e))}}function Iw(n){return null!=n?BO(UO(n)):null}function $O(n){if(!n)return null;const e=n.filter(OO);return 0==e.length?null:function(t){return function cX(...n){const e=CS(n),{args:t,keys:r}=aP(n),i=new Be(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;nr(t[c]).subscribe(st(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?lP(r,a):a),s.complete())}))}});return e?i.pipe(uP(e)):i}(VO(t,e).map(FO)).pipe(de(LO))}}function bw(n){return null!=n?$O(UO(n)):null}function jO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function HO(n){return n._rawValidators}function GO(n){return n._rawAsyncValidators}function Dw(n){return n?Array.isArray(n)?n:[n]:[]}function Kf(n,e){return Array.isArray(n)?n.includes(e):n===e}function qO(n,e){const t=Dw(e);return Dw(n).forEach(i=>{Kf(t,i)||t.push(i)}),t}function zO(n,e){return Dw(e).filter(t=>!Kf(n,t))}class WO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Iw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class mn extends WO{get formDirective(){return null}get path(){return null}}class ss extends WO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let QO=(()=>{class n extends KO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(D(ss,2))},n.\u0275dir=Z({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ih("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ie]}),n})(),YO=(()=>{class n extends KO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(D(mn,10))},n.\u0275dir=Z({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ih("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ie]}),n})();const nc="VALID",Yf="INVALID",ja="PENDING",rc="DISABLED";function Aw(n){return(Zf(n)?n.validators:n)||null}function XO(n){return Array.isArray(n)?Iw(n):n||null}function Mw(n,e){return(Zf(e)?e.asyncValidators:n)||null}function JO(n){return Array.isArray(n)?bw(n):n||null}function Zf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function eF(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[t])throw new b(1001,"")}function tF(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new b(1002,"")})}class Xf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=XO(this._rawValidators),this._composedAsyncValidatorFn=JO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===nc}get invalid(){return this.status===Yf}get pending(){return this.status==ja}get disabled(){return this.status===rc}get enabled(){return this.status!==rc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=XO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=JO(e)}addValidators(e){this.setValidators(qO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zO(e,this._rawAsyncValidators))}hasValidator(e){return Kf(this._rawValidators,e)}hasAsyncValidator(e){return Kf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ja,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nc||this.status===ja)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rc:nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ja,this._hasOwnPendingAsyncValidator=!0;const t=FO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?rc:this.errors?Yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ja)?ja:this._anyControlsHaveStatus(Yf)?Yf:nc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class ic extends Xf{constructor(e,t,r){super(Aw(t),Mw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){tF(this,0,e),Object.keys(e).forEach(r=>{eF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class nF extends ic{}function sc(n,e){xw(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function TX(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rF(n,e)})}(n,e),function SX(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function CX(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function DX(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ep(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),np(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xw(n,e){const t=HO(n);null!==e.validator?n.setValidators(jO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=GO(n);null!==e.asyncValidator?n.setAsyncValidators(jO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();tp(e._rawValidators,i),tp(e._rawAsyncValidators,i)}function np(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=HO(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=GO(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return tp(e._rawValidators,r),tp(e._rawAsyncValidators,r),t}function rF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function uF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ac=class extends Xf{constructor(e=null,t,r){super(Aw(t),Mw(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=uF(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let fF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Z({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({}),n})();const Pw=new B("NgModelWithFormControlWarning"),$X={provide:mn,useExisting:Ae(()=>rp)};let rp=(()=>{class n extends mn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return sc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ep(t.control||null,t,!1),function NX(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function oF(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ep(r||null,t),(n=>n instanceof ac)(i)&&(sc(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function iF(n,e){xw(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function AX(n,e){return np(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xw(this.form,this),this._oldForm&&np(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(D(Yt,10),D(is,10))},n.\u0275dir=Z({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&It("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fe([$X]),Ie,Bn]}),n})();const GX={provide:ss,useExisting:Ae(()=>Lw)};let Lw=(()=>{class n extends ss{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ke,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function kw(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===qf?t=s:function xX(n){return Object.getPrototypeOf(n.constructor)===Xs}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Nw(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Jf(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(D(mn,13),D(Yt,10),D(is,10),D(qr,10),D(Pw,8))},n.\u0275dir=Z({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fe([GX]),Ie,Bn]}),n})(),sJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({imports:[gF]}),n})(),NF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pw,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({imports:[sJ]}),n})();class kF extends Xf{constructor(e,t,r){super(Aw(t),Mw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){tF(this,0,e),e.forEach((r,i)=>{eF(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function RF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let oJ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return RF(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new ic(i,s)}record(t,r=null){const i=this._reduceControls(t);return new nF(i,r)}control(t,r,i){let s={};return this.useNonNullable?(RF(r)?s=r:(s.validators=r,s.asyncValidators=i),new ac(t,{...s,nonNullable:!0})):new ac(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new kF(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof ac||t instanceof Xf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:NF}),n})();function PF(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){PF(s,r,i,o,a,"next",u)}function a(u){PF(s,r,i,o,a,"throw",u)}o(void 0)})}}const OF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(OF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ip=function(n){return function(n){const e=OF(n);return jw.encodeByteArray(e,!0)}(n).replace(/\./g,"")},sp=function(n){try{return jw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Hw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function eo(){return"object"==typeof indexedDB}function uc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Gw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const qw=()=>{try{return function gJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&sp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};class op{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}class xr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}}class zr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function TJ(n,e){return n.replace(CJ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new xr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const CJ=/\{\$([^}]+)}/g;function zw(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(VF(s)&&VF(o)){if(!zw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function VF(n){return null!==n&&"object"==typeof n}function UF(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class AJ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function MJ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Ww),void 0===i.error&&(i.error=Ww),void 0===i.complete&&(i.complete=Ww);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ww(){}function Qw(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function yn(n){return n&&n._delegate?n._delegate:n}class Zt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const to="[DEFAULT]";class OJ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new op;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function LJ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===to?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class VJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OJ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yw=[];var pe=(()=>{return(n=pe||(pe={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",pe;var n})();const BF={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},UJ=pe.INFO,BJ={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},$J=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=BJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Ha{constructor(e){this.name=e,this._logLevel=UJ,this._logHandler=$J,this._userLogHandler=null,Yw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?BF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}let $F,jF;const HF=new WeakMap,Zw=new WeakMap,GF=new WeakMap,Xw=new WeakMap,Jw=new WeakMap;let eE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Zw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||GF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ti(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function QJ(n){return"function"==typeof n?function KJ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function GJ(){return jF||(jF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(tE(this),e),Ti(HF.get(this))}:function(...e){return Ti(n.apply(tE(this),e))}:function(e,...t){const r=n.call(tE(this),e,...t);return GF.set(r,e.sort?e.sort():[e]),Ti(r)}}(n):(n instanceof IDBTransaction&&function zJ(n){if(Zw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Zw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function HJ(){return $F||($F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,eE):n)}function Ti(n){if(n instanceof IDBRequest)return function qJ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ti(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&HF.set(t,n)}).catch(()=>{}),Jw.set(e,n),e}(n);if(Xw.has(n))return Xw.get(n);const e=QJ(n);return e!==n&&(Xw.set(n,e),Jw.set(e,n)),e}const tE=n=>Jw.get(n);function up(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ti(o.result),u.oldVersion,u.newVersion,Ti(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function nE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Ti(t).then(()=>{})}const YJ=["get","getKey","getAll","getAllKeys","count"],ZJ=["put","add","delete","clear"],rE=new Map;function qF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(rE.get(e))return rE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ZJ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!YJ.includes(t))return;const s=function(){var o=y(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return rE.set(e,s),s}!function WJ(n){eE=n(eE)}(n=>({...n,get:(e,t,r)=>qF(e,t)||n.get(e,t,r),has:(e,t)=>!!qF(e,t)||n.has(e,t)}));class XJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function JJ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const iE="@firebase/app",no=new Ha("@firebase/app"),lp="[DEFAULT]",Tee={[iE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ro=new Map,cp=new Map;function Cee(n,e){try{n.container.addComponent(e)}catch(t){no.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _n(n){const e=n.name;if(cp.has(e))return no.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,n);for(const t of ro.values())Cee(t,n);return!0}function dp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ci=new zr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Aee{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}const hp="9.14.0";function WF(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:lp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ci.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=qw())||void 0===n?void 0:n.config})()),!t)throw Ci.create("no-options");const s=ro.get(i);if(s){if(zw(t,s.options)&&zw(r,s.config))return s;throw Ci.create("duplicate-app",{appName:i})}const o=new VJ(i);for(const u of cp.values())o.addComponent(u);const a=new Aee(t,r,o);return ro.set(i,a),a}function KF(n=lp){const e=ro.get(n);if(!e&&n===lp)return WF();if(!e)throw Ci.create("no-app",{appName:n});return e}function QF(){return Array.from(ro.values())}function et(n,e,t){var r;let i=null!==(r=Tee[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void no.warn(a.join(" "))}_n(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const lc="firebase-heartbeat-store";let oE=null;function YF(){return oE||(oE=up("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(lc)}}).catch(n=>{throw Ci.create("idb-open",{originalErrorMessage:n.message})})),oE}function aE(){return(aE=y(function*(n){var e;try{return(yield YF()).transaction(lc).objectStore(lc).get(XF(n))}catch(t){if(t instanceof xr)no.warn(t.message);else{const r=Ci.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});no.warn(r.message)}}})).apply(this,arguments)}function ZF(n,e){return uE.apply(this,arguments)}function uE(){return(uE=y(function*(n,e){var t;try{const i=(yield YF()).transaction(lc,"readwrite");return yield i.objectStore(lc).put(e,XF(n)),i.done}catch(r){if(r instanceof xr)no.warn(r.message);else{const i=Ci.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});no.warn(i.message)}}})).apply(this,arguments)}function XF(n){return`${n.name}!${n.options.appId}`}class Pee{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fee(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=JF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=JF(),{heartbeatsToSend:r,unsentEntries:i}=function Oee(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eL(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),eL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ip(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function JF(){return(new Date).toISOString().substring(0,10)}class Fee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!eo()&&uc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Nee(n){return aE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return ZF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return ZF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function eL(n){return ip(JSON.stringify({version:2,heartbeats:n})).length}!function Lee(n){_n(new Zt("platform-logger",e=>new XJ(e),"PRIVATE")),_n(new Zt("heartbeat",e=>new Pee(e),"PRIVATE")),et(iE,"0.8.4",n),et(iE,"0.8.4","esm2017"),et("fire-js","")}(""),et("firebase","9.14.0","app");const tL="@firebase/installations",lE="0.5.16",rL=`w:${lE}`,iL="FIS_v2",Si=new zr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function sL(n){return n instanceof xr&&n.code.includes("request-failed")}function cE({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function oL(n){return{token:n.token,requestStatus:2,expiresIn:qee(n.expiresIn),creationTime:Date.now()}}function dE(n,e){return hE.apply(this,arguments)}function hE(){return(hE=y(function*(n,e){const r=(yield e.json()).error;return Si.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function aL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function uL(n,{refreshToken:e}){const t=aL(n);return t.append("Authorization",function zee(n){return`${iL} ${n}`}(e)),t}function fE(n){return pE.apply(this,arguments)}function pE(){return(pE=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function qee(n){return Number(n.replace("s","000"))}function Wee(n,e){return gE.apply(this,arguments)}function gE(){return(gE=y(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=cE(n),i=aL(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:iL,appId:n.appId,sdkVersion:rL})},u=yield fE(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:oL(l.authToken)}}throw yield dE("Create Installation",u)})).apply(this,arguments)}function lL(n){return new Promise(e=>{setTimeout(e,n)})}const Qee=/^[cdef][\w-]{21}$/;function Yee(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Zee(n){return function Kee(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Qee.test(t)?t:""}catch{return""}}function Ga(n){return`${n.appName}!${n.appId}`}const qa=new Map;function cL(n,e){const t=Ga(n);dL(t,e),function ete(n,e){const t=function hL(){return!io&&"BroadcastChannel"in self&&(io=new BroadcastChannel("[Firebase] FID Change"),io.onmessage=n=>{dL(n.data.key,n.data.fid)}),io}();t&&t.postMessage({key:n,fid:e}),function fL(){0===qa.size&&io&&(io.close(),io=null)}()}(t,e)}function dL(n,e){const t=qa.get(n);if(t)for(const r of t)r(e)}let io=null;const so="firebase-installations-store";let yE=null;function _E(){return yE||(yE=up("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(so)}})),yE}function fp(n,e){return vE.apply(this,arguments)}function vE(){return(vE=y(function*(n,e){const t=Ga(n),i=(yield _E()).transaction(so,"readwrite"),s=i.objectStore(so),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&cL(n,e.fid),e})).apply(this,arguments)}function wE(n){return EE.apply(this,arguments)}function EE(){return(EE=y(function*(n){const e=Ga(n),r=(yield _E()).transaction(so,"readwrite");yield r.objectStore(so).delete(e),yield r.done})).apply(this,arguments)}function cc(n,e){return IE.apply(this,arguments)}function IE(){return(IE=y(function*(n,e){const t=Ga(n),i=(yield _E()).transaction(so,"readwrite"),s=i.objectStore(so),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&cL(n,a.fid),a})).apply(this,arguments)}function bE(n){return DE.apply(this,arguments)}function DE(){return(DE=y(function*(n){let e;const t=yield cc(n.appConfig,r=>{const i=rte(r),s=ite(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function rte(n){return gL(n||{fid:Yee(),registrationStatus:0})}function ite(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Si.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function ste(n,e){return TE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ote(n)}:{installationEntry:e}}function TE(){return(TE=y(function*(n,e){try{const t=yield Wee(n,e);return fp(n.appConfig,t)}catch(t){throw sL(t)&&409===t.customData.serverCode?yield wE(n.appConfig):yield fp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function ote(n){return CE.apply(this,arguments)}function CE(){return(CE=y(function*(n){let e=yield pL(n.appConfig);for(;1===e.registrationStatus;)yield lL(100),e=yield pL(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield bE(n);return r||t}return e})).apply(this,arguments)}function pL(n){return cc(n,e=>{if(!e)throw Si.create("installation-not-found");return gL(e)})}function gL(n){return function ate(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function ute(n,e){return SE.apply(this,arguments)}function SE(){return(SE=y(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=lte(n,t),i=uL(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:rL,appId:n.appId}})},u=yield fE(()=>fetch(r,a));if(u.ok)return oL(yield u.json());throw yield dE("Generate Auth Token",u)})).apply(this,arguments)}function lte(n,{fid:e}){return`${cE(n)}/${e}/authTokens:generate`}function AE(n){return ME.apply(this,arguments)}function ME(){return(ME=y(function*(n,e=!1){let t;const r=yield cc(n.appConfig,s=>{if(!yL(s))throw Si.create("not-registered");const o=s.authToken;if(!e&&hte(o))return s;if(1===o.requestStatus)return t=cte(n,e),s;{if(!navigator.onLine)throw Si.create("app-offline");const a=pte(s);return t=dte(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function cte(n,e){return xE.apply(this,arguments)}function xE(){return(xE=y(function*(n,e){let t=yield mL(n.appConfig);for(;1===t.authToken.requestStatus;)yield lL(100),t=yield mL(n.appConfig);const r=t.authToken;return 0===r.requestStatus?AE(n,e):r})).apply(this,arguments)}function mL(n){return cc(n,e=>{if(!yL(e))throw Si.create("not-registered");return function gte(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function dte(n,e){return NE.apply(this,arguments)}function NE(){return(NE=y(function*(n,e){try{const t=yield ute(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield fp(n.appConfig,r),t}catch(t){if(!sL(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield fp(n.appConfig,r)}else yield wE(n.appConfig);throw t}})).apply(this,arguments)}function yL(n){return void 0!==n&&2===n.registrationStatus}function hte(n){return 2===n.requestStatus&&!function fte(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function pte(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function kE(){return(kE=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield bE(e);return r?r.catch(console.error):AE(e).catch(console.error),t.fid})).apply(this,arguments)}function RE(){return(RE=y(function*(n,e=!1){const t=n;return yield _te(t),(yield AE(t,e)).token})).apply(this,arguments)}function _te(n){return PE.apply(this,arguments)}function PE(){return(PE=y(function*(n){const{registrationPromise:e}=yield bE(n);e&&(yield e)})).apply(this,arguments)}function LE(n){return Si.create("missing-app-config-values",{valueName:n})}const _L="installations",bte=n=>{const e=n.getProvider("app").getImmediate(),t=function Ete(n){if(!n||!n.options)throw LE("App Configuration");if(!n.name)throw LE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw LE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:dp(e,"heartbeat"),_delete:()=>Promise.resolve()}},Dte=n=>{const t=dp(n.getProvider("app").getImmediate(),_L).getImmediate();return{getId:()=>function mte(n){return kE.apply(this,arguments)}(t),getToken:i=>function yte(n){return RE.apply(this,arguments)}(t,i)}};(function Tte(){_n(new Zt(_L,bte,"PUBLIC")),_n(new Zt("installations-internal",Dte,"PRIVATE"))})(),et(tL,lE),et(tL,lE,"esm2017");const VE="@firebase/remote-config",Mn=new zr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fte{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Lte(n=navigator){return n.languages&&n.languages[0]||n.language}class Vte{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:Lte()},h={method:"POST",headers:c,body:JSON.stringify(d)},f=fetch(l,h),p=new Promise((C,x)=>{e.signal.addEventListener(()=>{const P=new Error("The operation was aborted.");P.name="AbortError",x(P)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(C){let x="fetch-client-network";throw"AbortError"===(null===(r=C)||void 0===r?void 0:r.name)&&(x="fetch-timeout"),Mn.create(x,{originalErrorMessage:null===(i=C)||void 0===i?void 0:i.message})}let m=g.status;const v=g.headers.get("ETag")||void 0;let I,_;if(200===g.status){let C;try{C=yield g.json()}catch(x){throw Mn.create("fetch-client-parse",{originalErrorMessage:null===(s=x)||void 0===s?void 0:s.message})}I=C.entries,_=C.state}if("INSTANCE_STATE_UNSPECIFIED"===_?m=500:"NO_CHANGE"===_?m=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(I={}),304!==m&&200!==m)throw Mn.create("fetch-status",{httpStatus:m});return{status:m,eTag:v,config:I}})()}}class $te{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function Ute(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Bte(n){if(!(n instanceof xr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Qw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Gte{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gp(n,e){var t;const r=n.target.error||void 0;return Mn.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const oo="app_namespace_store";class Kte{constructor(e,t,r,i=function Wte(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(gp(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(oo,{keyPath:"compositeKey"})}}catch(r){e(Mn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([oo],"readonly").objectStore(oo),l=t.createCompositeKey(e);try{const c=u.get(l);c.onerror=d=>{s(gp(d,"storage-get"))},c.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(c){s(Mn.create("storage-get",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const l=i.transaction([oo],"readwrite").objectStore(oo),c=r.createCompositeKey(e);try{const d=l.put({compositeKey:c,value:t});d.onerror=h=>{o(gp(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Mn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([oo],"readwrite").objectStore(oo),l=t.createCompositeKey(e);try{const c=u.delete(l);c.onerror=d=>{s(gp(d,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Mn.create("storage-delete",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Qte{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Zte(){return HE.apply(this,arguments)}function HE(){return(HE=y(function*(){if(!eo())return!1;try{return yield uc()}catch{return!1}})).apply(this,arguments)}!function Yte(){_n(new Zt("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mn.create("registration-window");if(!eo())throw Mn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Mn.create("registration-project-id");if(!o)throw Mn.create("registration-api-key");if(!a)throw Mn.create("registration-app-id");const u=new Kte(a,r.name,t=t||"firebase"),l=new Qte(u),c=new Ha(VE);c.logLevel=pe.ERROR;const d=new Vte(i,hp,t,s,o,a),h=new $te(d,u),f=new Fte(h,u,l,c),p=new Gte(r,f,l,u,c);return function Rte(n){const e=yn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),et(VE,"0.3.15"),et(VE,"0.3.15","esm2017")}();const Xte="/firebase-messaging-sw.js",Jte="/firebase-cloud-messaging-push-scope",IL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bL="google.c.a.c_id",tne="google.c.a.c_l",nne="google.c.a.ts",rne="google.c.a.e";var za=(()=>{return(n=za||(za={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",za;var n})();function Ai(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ine(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const GE="fcm_token_details_db",DL="fcm_token_object_Store";function one(n){return qE.apply(this,arguments)}function qE(){return qE=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(GE))return null;let e=null;return(yield up(GE,5,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(DL))return;const l=a.objectStore(DL),c=yield l.index("fcmSenderId").get(n);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ai(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ai(d.auth),p256dh:Ai(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ai(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ai(d.auth),p256dh:Ai(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ai(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield nE(GE),yield nE("fcm_vapid_details_db"),yield nE("undefined"),ane(e)?e:null;var r}),qE.apply(this,arguments)}function ane(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ao="firebase-messaging-store";let zE=null;function WE(){return zE||(zE=up("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ao)}})),zE}function TL(n){return KE.apply(this,arguments)}function KE(){return(KE=y(function*(n){const e=XE(n),r=yield(yield WE()).transaction(ao).objectStore(ao).get(e);if(r)return r;{const i=yield one(n.appConfig.senderId);if(i)return yield QE(n,i),i}})).apply(this,arguments)}function QE(n,e){return YE.apply(this,arguments)}function YE(){return(YE=y(function*(n,e){const t=XE(n),i=(yield WE()).transaction(ao,"readwrite");return yield i.objectStore(ao).put(e,t),yield i.done,e})).apply(this,arguments)}function cne(n){return ZE.apply(this,arguments)}function ZE(){return(ZE=y(function*(n){const e=XE(n),r=(yield WE()).transaction(ao,"readwrite");yield r.objectStore(ao).delete(e),yield r.done})).apply(this,arguments)}function XE({appConfig:n}){return n.appId}const Ot=new zr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hne(n,e){return JE.apply(this,arguments)}function JE(){return(JE=y(function*(n,e){var t;const r=yield rI(n),i=SL(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(nI(n.appConfig),s)).json()}catch(a){throw Ot.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Ot.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Ot.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function fne(n,e){return eI.apply(this,arguments)}function eI(){return(eI=y(function*(n,e){var t;const r=yield rI(n),i=SL(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${nI(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw Ot.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Ot.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Ot.create("token-update-no-token");return o.token})).apply(this,arguments)}function CL(n,e){return tI.apply(this,arguments)}function tI(){return(tI=y(function*(n,e){var t;const i={method:"DELETE",headers:yield rI(n)};try{const o=yield(yield fetch(`${nI(n.appConfig)}/${e}`,i)).json();if(o.error)throw Ot.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw Ot.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function nI({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function rI(n){return iI.apply(this,arguments)}function iI(){return(iI=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function SL({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==IL&&(i.web.applicationPubKey=r),i}function gne(n){return sI.apply(this,arguments)}function sI(){return(sI=y(function*(n){const e=yield yne(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ai(e.getKey("auth")),p256dh:Ai(e.getKey("p256dh"))},r=yield TL(n.firebaseDependencies);if(r){if(_ne(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?mne(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield CL(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ML(n.firebaseDependencies,t)}return ML(n.firebaseDependencies,t)})).apply(this,arguments)}function AL(n){return oI.apply(this,arguments)}function oI(){return(oI=y(function*(n){const e=yield TL(n.firebaseDependencies);e&&(yield CL(n.firebaseDependencies,e.token),yield cne(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function mne(n,e){return aI.apply(this,arguments)}function aI(){return(aI=y(function*(n,e){try{const t=yield fne(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield QE(n.firebaseDependencies,r),t}catch(t){throw yield AL(n),t}})).apply(this,arguments)}function ML(n,e){return uI.apply(this,arguments)}function uI(){return(uI=y(function*(n,e){const r={token:yield hne(n,e),createTime:Date.now(),subscriptionOptions:e};return yield QE(n,r),r.token})).apply(this,arguments)}function yne(n,e){return lI.apply(this,arguments)}function lI(){return(lI=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ine(e)})})).apply(this,arguments)}function _ne(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function xL(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function vne(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function wne(n,e){!e.data||(n.data=e.data)}(e,n),function Ene(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function Ine(n){return"object"==typeof n&&!!n&&bL in n}function NL(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function cI(n){return Ot.create("missing-app-config-values",{valueName:n})}NL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),NL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dne{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function bne(n){if(!n||!n.options)throw cI("App Configuration Object");if(!n.name)throw cI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw cI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function kL(n){return dI.apply(this,arguments)}function dI(){return(dI=y(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(Xte,{scope:Jte}),n.swRegistration.update().catch(()=>{})}catch(t){throw Ot.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function Tne(n,e){return hI.apply(this,arguments)}function hI(){return(hI=y(function*(n,e){if(!e&&!n.swRegistration&&(yield kL(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ot.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Cne(n,e){return fI.apply(this,arguments)}function fI(){return(fI=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=IL)})).apply(this,arguments)}function pI(){return(pI=y(function*(n,e){if(!navigator)throw Ot.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ot.create("permission-blocked");return yield Cne(n,e?.vapidKey),yield Tne(n,e?.serviceWorkerRegistration),gne(n)})).apply(this,arguments)}function Sne(n,e,t){return gI.apply(this,arguments)}function gI(){return(gI=y(function*(n,e,t){const r=Ane(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[bL],message_name:t[tne],message_time:t[nne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ane(n){switch(n){case za.NOTIFICATION_CLICKED:return"notification_open";case za.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mI(){return(mI=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===za.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(xL(t)):n.onMessageHandler.next(xL(t)));const r=t.data;Ine(r)&&"1"===r[rne]&&(yield Sne(n,t.messageType,r))})).apply(this,arguments)}const PL="@firebase/messaging",xne=n=>{const e=new Dne(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Mne(n,e){return mI.apply(this,arguments)}(e,t)),e},Nne=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function RL(n,e){return pI.apply(this,arguments)}(e,r)}};function FL(){return yI.apply(this,arguments)}function yI(){return(yI=y(function*(){try{yield uc()}catch{return!1}return typeof window<"u"&&eo()&&Gw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kne(){_n(new Zt("messaging",xne,"PUBLIC")),_n(new Zt("messaging-internal",Nne,"PRIVATE")),et(PL,"0.11.0"),et(PL,"0.11.0","esm2017")}();const mp="analytics",One="firebase_id",Vne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",LL="https://www.googletagmanager.com/gtag/js",Ft=new Ha("@firebase/analytics");function VL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Une(n,e){const t=document.createElement("script");t.src=`${LL}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function $ne(n,e,t,r,i,s){return wI.apply(this,arguments)}function wI(){return(wI=y(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield VL(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ft.error(a)}n("config",i,s)})).apply(this,arguments)}function jne(n,e,t,r,i){return EI.apply(this,arguments)}function EI(){return(EI=y(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield VL(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Ft.error(s)}})).apply(this,arguments)}function qne(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(LL)&&t.src.includes(n))return t;return null}const Zn=new zr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),UL=new class Qne{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Yne(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Zne(n){return II.apply(this,arguments)}function II(){return(II=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Yne(r)},s=Vne.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Xne(n){return bI.apply(this,arguments)}function bI(){return(bI=y(function*(n,e=UL,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Zn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Zn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new tre;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:6e4),BL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function BL(n,e,t){return DI.apply(this,arguments)}function DI(){return(DI=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=UL){var s,o;const{appId:a,measurementId:u}=n;try{yield Jne(r,e)}catch(l){if(u)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=l)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw l}try{const l=yield Zne(n);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!ere(c)){if(i.deleteThrottleMetadata(a),u)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:u};throw l}const d=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Qw(t,i.intervalMillis,30):Qw(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(a,h),Ft.debug(`Calling attemptFetch again in ${d} millis`),BL(n,h,r,i)}})).apply(this,arguments)}function Jne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ere(n){if(!(n instanceof xr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class tre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let TI,NI;function CI(){return(CI=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function $L(n){NI=n}function jL(n){TI=n}function are(){return kI.apply(this,arguments)}function kI(){return(kI=y(function*(){var n;if(!eo())return Ft.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield uc()}catch(e){return Ft.warn(Zn.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function RI(){return(RI=y(function*(n,e,t,r,i,s,o){var a;const u=Xne(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ft.error(f)),e.push(u);const l=are().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);qne(s)||Une(s,c.measurementId),NI&&(i("consent","default",NI),$L(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[One]=d),i("config",c.measurementId,h),TI&&(i("set",TI),jL(void 0)),c.measurementId})).apply(this,arguments)}class lre{constructor(e){this.app=e}_delete(){return delete Mi[this.app.options.appId],Promise.resolve()}}let Mi={},HL=[];const GL={};let zL,xi,yp="dataLayer",PI=!1;function dre(n,e,t){!function cre(){const n=[];if(Hw()&&n.push("This is a browser extension environment."),Gw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Zn.create("invalid-analytics-context",{errorInfo:e});Ft.warn(t.message)}}();const r=n.options.appId;if(!r)throw Zn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Zn.create("no-api-key");Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mi[r])throw Zn.create("already-exists",{id:r});if(!PI){!function Bne(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(yp);const{wrappedGtag:s,gtagCore:o}=function Gne(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Hne(n,e,t,r){function s(){return(s=y(function*(o,a,u){try{"event"===o?yield jne(n,e,t,a,u):"config"===o?yield $ne(n,e,t,r,a,u):"consent"===o?n("consent","update",u):n("set",a)}catch(l){Ft.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Mi,HL,GL,yp,"gtag");xi=s,zL=o,PI=!0}return Mi[r]=function ure(n,e,t,r,i,s,o){return RI.apply(this,arguments)}(n,HL,GL,e,zL,yp,t),new lre(n)}function fre(){return OI.apply(this,arguments)}function OI(){return(OI=y(function*(){if(Hw()||!Gw()||!eo())return!1;try{return yield uc()}catch{return!1}})).apply(this,arguments)}const WL="@firebase/analytics";!function gre(){_n(new Zt(mp,(e,{options:t})=>dre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),_n(new Zt("analytics-internal",function n(e){try{const t=e.getProvider(mp).getImmediate();return{logEvent:(r,i,s)=>function pre(n,e,t,r){n=yn(n),function nre(n,e,t,r,i){return CI.apply(this,arguments)}(xi,Mi[n.app.options.appId],e,t,r).catch(i=>Ft.error(i))}(t,r,i,s)}}catch(t){throw Zn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),et(WL,"0.8.4"),et(WL,"0.8.4","esm2017")}();class mre extends On{constructor(e,t){super()}schedule(e,t=0){return this}}const _p={setInterval(n,e,...t){const{delegate:r}=_p;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=_p;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class QL extends mre{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return _p.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&_p.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,jo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const YL={now:()=>(YL.delegate||Date).now(),delegate:void 0};class dc{constructor(e,t=dc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}dc.now=YL.now;class ZL extends dc{constructor(e,t=dc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const vre=new class _re extends ZL{}(class yre extends QL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),wre=new ZL(QL),FI=new da("7.4.1"),LI="__angularfire_symbol__analyticsIsSupportedValue",VI="__angularfire_symbol__analyticsIsSupported",UI="__angularfire_symbol__remoteConfigIsSupportedValue",BI="__angularfire_symbol__remoteConfigIsSupported",$I="__angularfire_symbol__messagingIsSupportedValue",jI="__angularfire_symbol__messagingIsSupported";globalThis[VI]||(globalThis[VI]=fre().then(n=>globalThis[LI]=n).catch(()=>globalThis[LI]=!1)),globalThis[jI]||(globalThis[jI]=FL().then(n=>globalThis[$I]=n).catch(()=>globalThis[$I]=!1)),globalThis[BI]||(globalThis[BI]=Zte().then(n=>globalThis[UI]=n).catch(()=>globalThis[UI]=!1));const qI=(n,e)=>{const t=e?[e]:QF(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Wa(){}class XL{constructor(e,t=vre){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Ere{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wa,{},Wa,Wa)),t.pipe(kt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let JL=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new XL(Zone.current)),this.insideAngular=t.run(()=>new XL(Zone.current,wre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(F(Le))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uo(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ire(n){return uo().ngZone.runOutsideAngular(()=>n())}function lo(n){return uo().ngZone.run(()=>n())}function bre(n){return uo(),function Dre(n){return function(t){return(t=t.lift(new Ere(n.ngZone))).pipe(Ad(n.outsideAngular),Sd(n.insideAngular))}}(uo())(n)}const Tre=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),lo(()=>n.apply(void 0,r))},co=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wa,{},Wa,Wa)))),r[s]=Tre(r[s],t));const i=Ire(()=>n.apply(this,r));if(!e){if(i instanceof Be){const s=uo();return i.pipe(Ad(s.outsideAngular),Sd(s.insideAngular))}return lo(()=>i)}return i instanceof Be?i.pipe(bre):i instanceof Promise?lo(()=>new Promise((s,o)=>i.then(a=>lo(()=>s(a)),a=>lo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:lo(()=>i)};class Ka{constructor(e){return e}}class eV{constructor(){return QF()}}const zI=new B("angularfire2._apps"),Sre={provide:Ka,useFactory:function Cre(n){return n&&1===n.length?n[0]:new Ka(KF())},deps:[[new ln,zI]]},Are={provide:eV,deps:[[new ln,zI]]};function Mre(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ka(r)}}let xre=(()=>{class n{constructor(t){et("angularfire",FI.full,"core"),et("angularfire",FI.full,"app"),et("angular",XA.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(F(Lh))},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({providers:[Sre,Are]}),n})();function Nre(n,...e){return{ngModule:xre,providers:[{provide:zI,useFactory:Mre(n),multi:!0,deps:[Le,dn,JL,...e]}]}}const kre=co(WF,!0);const Rre=function tV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nV=new zr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rV=new Ha("@firebase/auth");function vp(n,...e){rV.logLevel<=pe.ERROR&&rV.error(`Auth (${hp}): ${n}`,...e)}function xn(n,...e){throw WI(n,...e)}function Wr(n,...e){return WI(n,...e)}function iV(n,e,t){const r=Object.assign(Object.assign({},Rre()),{[e]:t});return new zr("auth","Firebase",r).create(e,{appName:n.name})}function WI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nV.create(n,...e)}function M(n,e,...t){if(!n)throw WI(e,...t)}function Kr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vp(e),new Error(e)}function os(n,e){n||Kr(e)}const sV=new Map;function Ni(n){os(n instanceof Function,"Expected a class definition");let e=sV.get(n);return e?(os(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sV.set(n,e),e)}function oV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,os(t>e,"Short delay should be less than long delay!"),this.isMobile=function hJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}()||function pJ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Fre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function KI(){return"http:"===oV()||"https:"===oV()}()||Hw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class aV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ure=new fc(3e4,6e4);function Dt(n,e,t,r){return YI.apply(this,arguments)}function YI(){return(YI=y(function*(n,e,t,r,i={}){return uV(n,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=UF(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),aV.fetch()(lV(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function uV(n,e,t){return ZI.apply(this,arguments)}function ZI(){return(ZI=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vre),e);try{const i=new Bre(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw pc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw pc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw pc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw pc(n,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw iV(n,c,l);xn(n,c)}}catch(i){if(i instanceof xr)throw i;xn(n,"network-request-failed")}})).apply(this,arguments)}function lV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function QI(n,e){os(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class Bre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),Ure.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Wr(n,e,r);return i.customData._tokenResponse=t,i}function JI(){return(JI=y(function*(n,e){return Dt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Hre(n,e){return tb.apply(this,arguments)}function tb(){return(tb=y(function*(n,e){return Dt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nb(){return(nb=y(function*(n,e=!1){const t=yn(n),r=yield t.getIdToken(e),i=wp(r);M(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:gc(rb(i.auth_time)),issuedAtTime:gc(rb(i.iat)),expirationTime:gc(rb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function rb(n){return 1e3*Number(n)}function wp(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return vp("JWT malformed, contained fewer than 3 sections"),null;try{const s=sp(r);return s?JSON.parse(s):(vp("Failed to decode base64 JWT payload"),null)}catch(s){return vp("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Ri(n,e){return ib.apply(this,arguments)}function ib(){return(ib=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof xr&&zre(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function zre({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Wre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class cV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mc(n){return sb.apply(this,arguments)}function sb(){return(sb=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ri(n,Hre(t,{idToken:r}));M(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Yre(s.providerUserInfo):[],a=Qre(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cV(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function ob(){return(ob=y(function*(n){const e=yn(n);yield mc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Qre(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yre(n){return n.map(e=>{var{providerId:t}=e,r=fS(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ab(){return(ab=y(function*(n,e){const t=yield uV(n,{},y(function*(){const r=UF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=lV(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function qre(n){const e=wp(n);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Zre(n,e){return ab.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new yc;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yc,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function as(n,e){M("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ho{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=fS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield Ri(t,t.stsTokenManager.getToken(t.auth,e));return M(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Gre(n){return nb.apply(this,arguments)}(this,e)}reload(){return function Kre(n){return ob.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield mc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield Ri(e,function $re(n,e){return JI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,I=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:C,isAnonymous:x,providerData:P,stsTokenManager:re}=t;M(_&&re,e,"internal-error");const it=yc.fromJSON(this.name,re);M("string"==typeof _,e,"internal-error"),as(d,e.name),as(h,e.name),M("boolean"==typeof C,e,"internal-error"),M("boolean"==typeof x,e,"internal-error"),as(f,e.name),as(p,e.name),as(g,e.name),as(m,e.name),as(v,e.name),as(I,e.name);const Ht=new ho({uid:_,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:it,createdAt:v,lastLoginAt:I});return P&&Array.isArray(P)&&(Ht.providerData=P.map(bn=>Object.assign({},bn))),m&&(Ht._redirectEventId=m),Ht}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new yc;i.updateFromServerResponse(t);const s=new ho({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield mc(s),s})()}}const dV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ep(n,e,t){return`firebase:${n}:${e}:${t}`}class Ya{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ep(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ep("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ho._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new Ya(Ni(dV),e,r);const i=(yield Promise.all(t.map(function(){var l=y(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Ni(dV);const o=Ep(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=ho._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=y(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return l.apply(this,arguments)}}())),new Ya(s,e,r)):new Ya(s,e,r)})()}}function hV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function gV(n=Yn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function fV(n=Yn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function yV(n=Yn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function _V(n=Yn()){return/webos/i.test(n)}(e))return"Webos";if(function ub(n=Yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function pV(n=Yn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function mV(n=Yn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function vV(n,e=[]){let t;switch(n){case"Browser":t=hV(Yn());break;case"Worker":t=`${hV(Yn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hp}/${r}`}class eie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return y(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class tie{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wV(this),this.idTokenSubscription=new wV(this),this.beforeStateQueue=new eie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nV,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ya.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return M(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){var r;try{yield mc(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Lre(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?yn(e):null;return r&&M(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return y(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(Ni(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&Ni(e)||t._popupRedirectResolver;M(r,t,"argument-error"),t.redirectPersistenceManager=yield Ya.create(t,[Ni(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class wV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function SJ(n,e){const t=new AJ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function UV(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new fc(3e4,6e4),new fc(2e3,1e4),new fc(3e4,6e4),new fc(5e3,15e3);var ZV="@firebase/auth",XV="0.20.11";class Wse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}qw(),function Qse(n){_n(new Zt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{M(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),M(!o?.includes(":"),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vV(n)},c=new tie(a,u,l);return function Ore(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ni);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_n(new Zt("auth-internal",e=>{const t=function Nn(n){return yn(n)}(e.getProvider("auth").getImmediate());return new Wse(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(ZV,XV,function Kse(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),et(ZV,XV,"esm2017")}("Browser");class tU{constructor(){return qI("auth")}}const GD=new Map,nU={activated:!1,tokenObservers:[]},noe={initialized:!1,enabled:!1};function Lt(n){return GD.get(n)||Object.assign({},nU)}function Rp(){return noe}class uoe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new op,yield function loe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new op,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vn=new zr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iU(n){if(!Lt(n).activated)throw vn.create("use-before-activation",{appName:n.name})}function WD(n,e){return KD.apply(this,arguments)}function KD(){return KD=y(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,l;try{u=yield fetch(n,a)}catch(f){throw vn.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw vn.create("fetch-status-error",{httpStatus:u.status});try{l=yield u.json()}catch(f){throw vn.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const c=l.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw vn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const d=1e3*Number(c[1]),h=Date.now();return{token:l.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}}),KD.apply(this,arguments)}function foe(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ic="firebase-app-check-store";let Fp=null;function oU(){return Fp||(Fp=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(vn.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ic,{keyPath:"compositeKey"})}}catch(r){e(vn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Fp)}function QD(){return QD=y(function*(n,e){const r=(yield oU()).transaction(Ic,"readwrite"),s=r.objectStore(Ic).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(vn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})}),QD.apply(this,arguments)}const bc=new Ha("@firebase/app-check");function XD(n,e){return eo()?function yoe(n,e){return function aU(n,e){return QD.apply(this,arguments)}(function lU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{bc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function cU(){return Rp().enabled}function dU(){return eT.apply(this,arguments)}function eT(){return eT=y(function*(){const n=Rp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),eT.apply(this,arguments)}const boe={error:"UNKNOWN_ERROR"};function Doe(n){return jw.encodeString(JSON.stringify(n),!1)}function Lp(n){return tT.apply(this,arguments)}function tT(){return tT=y(function*(n,e=!1){const t=n.app;iU(t);const r=Lt(t);let s,i=r.token;if(i&&!Za(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Za(u)?i=u:yield XD(t,void 0))}if(!e&&i&&Za(i))return{token:i.token};let a,o=!1;if(cU()){r.exchangeTokenPromise||(r.exchangeTokenPromise=WD(foe(t,yield dU()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield XD(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Lt(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?bc.warn(u.message):bc.error(u),s=u}return i?s?a=Za(i)?{token:i.token,internalError:s}:pU(s):(a={token:i.token},r.token=i,yield XD(t,i)):a=pU(s),o&&fU(t,a),a}),tT.apply(this,arguments)}function rT(n,e){const t=Lt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function hU(n){const{app:e}=n,t=Lt(e);let r=t.tokenRefresher;r||(r=function Toe(n){const{app:e}=n;return new uoe(y(function*(){let r;if(r=Lt(e).token?yield Lp(n,!0):yield Lp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Lt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function fU(n,e){const t=Lt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Za(n){return n.expireTimeMillis-Date.now()>0}function pU(n){return{token:Doe(boe),error:n}}class Coe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Lt(this.app);for(const t of e)rT(this.app,t.next);return Promise.resolve()}}const IU="app-check-internal";!function Boe(){_n(new Zt("app-check",n=>function Soe(n,e){return new Coe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(IU).initialize()})),_n(new Zt(IU,n=>function Aoe(n){return{getToken:e=>Lp(n,e),addTokenListener:e=>function nT(n,e,t,r){const{app:i}=n,s=Lt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Za(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),hU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>hU(n))}(n,"INTERNAL",e),removeTokenListener:e=>rT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),et("@firebase/app-check","0.5.17")}();class DU{constructor(){return qI("app-check")}}typeof window<"u"&&window;var U,qoe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oi={},uT=uT||{},J=qoe||self;function Up(){}function Bp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Dc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lT="closure_uid_"+(1e9*Math.random()>>>0),Woe=0;function Koe(n,e,t){return n.call.apply(n.bind,arguments)}function Qoe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xt(n,e,t){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Koe:Qoe).apply(null,arguments)}function $p(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vt(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function us(){this.s=this.s,this.o=this.o}us.prototype.s=!1,us.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function zoe(n){Object.prototype.hasOwnProperty.call(n,lT)&&n[lT]||(n[lT]=++Woe)}(this)},us.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function cT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function CU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Bp(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Jt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var Zoe=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{J.addEventListener("test",Up,e),J.removeEventListener("test",Up,e)}catch{}return n}();function jp(n){return/^[\s\xa0]*$/.test(n)}var SU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function dT(n,e){return n<e?-1:n>e?1:0}function Hp(){var n=J.navigator;return n&&(n=n.userAgent)?n:""}function Qr(n){return-1!=Hp().indexOf(n)}function hT(n){return hT[" "](n),n}hT[" "]=Up;var Gp,Joe=Qr("Opera"),Xa=Qr("Trident")||Qr("MSIE"),AU=Qr("Edge"),fT=AU||Xa,MU=Qr("Gecko")&&!(-1!=Hp().toLowerCase().indexOf("webkit")&&!Qr("Edge"))&&!(Qr("Trident")||Qr("MSIE"))&&!Qr("Edge"),eae=-1!=Hp().toLowerCase().indexOf("webkit")&&!Qr("Edge");function xU(){var n=J.document;return n?n.documentMode:void 0}e:{var pT="",gT=function(){var n=Hp();return MU?/rv:([^\);]+)(\)|;)/.exec(n):AU?/Edge\/([\d\.]+)/.exec(n):Xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):eae?/WebKit\/(\S+)/.exec(n):Joe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(gT&&(pT=gT?gT[1]:""),Xa){var mT=xU();if(null!=mT&&mT>parseFloat(pT)){Gp=String(mT);break e}}Gp=pT}var tae={};var rae=J.document&&Xa&&(xU()||parseInt(Gp,10))||void 0;function Tc(n,e){if(Jt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(MU){e:{try{hT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iae[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tc.X.h.call(this)}}Vt(Tc,Jt);var iae={2:"touch",3:"pen",4:"mouse"};Tc.prototype.h=function(){Tc.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),sae=0;function oae(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++sae,this.ba=this.ea=!1}function qp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function _T(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kU(n){const e={};for(const t in n)e[t]=n[t];return e}const RU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<RU.length;s++)t=RU[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function zp(n){this.src=n,this.g={},this.h=0}function vT(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=TU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function wT(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}zp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=wT(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new oae(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var ET="closure_lm_"+(1e6*Math.random()|0),IT={};function OU(n,e,t,r,i){if(r&&r.once)return LU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)OU(n,e[s],t,r,i);return null}return t=CT(t),n&&n[Cc]?n.N(e,t,Dc(r)?!!r.capture:!!r,i):FU(n,e,t,!1,r,i)}function FU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Dc(i)?!!i.capture:!!i,a=DT(n);if(a||(n[ET]=a=new zp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function aae(){const e=uae;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Zoe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(UU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function LU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)LU(n,e[s],t,r,i);return null}return t=CT(t),n&&n[Cc]?n.O(e,t,Dc(r)?!!r.capture:!!r,i):FU(n,e,t,!0,r,i)}function VU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)VU(n,e[s],t,r,i);else r=Dc(r)?!!r.capture:!!r,t=CT(t),n&&n[Cc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=wT(s=n.g[e],t,r,i))&&(qp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=DT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=wT(e,t,r,i)),(t=-1<n?e[n]:null)&&bT(t))}function bT(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Cc])vT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(UU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=DT(e))?(vT(t,n),0==t.h&&(t.src=null,e[ET]=null)):qp(n)}}}function UU(n){return n in IT?IT[n]:IT[n]="on"+n}function uae(n,e){if(n.ba)n=!0;else{e=new Tc(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&bT(n),n=t.call(r,e)}return n}function DT(n){return(n=n[ET])instanceof zp?n:null}var TT="__closure_events_fn_"+(1e9*Math.random()>>>0);function CT(n){return"function"==typeof n?n:(n[TT]||(n[TT]=function(e){return n.handleEvent(e)}),n[TT])}function Tt(){us.call(this),this.i=new zp(this),this.P=this,this.I=null}function Ut(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;PU(e=new Jt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Wp(o,r,!0,e)&&i}if(i=Wp(o=e.g=n,r,!0,e)&&i,i=Wp(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Wp(o=e.g=t[s],r,!1,e)&&i}function Wp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,u=o.ha||o.src;o.ea&&vT(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vt(Tt,us),Tt.prototype[Cc]=!0,Tt.prototype.removeEventListener=function(n,e,t,r){VU(this,n,e,t,r)},Tt.prototype.M=function(){if(Tt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)qp(t[r]);delete n.g[e],n.h--}}this.I=null},Tt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Tt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ST=J.JSON.stringify;function lae(){var n=jU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var AT,BU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new dae,n=>n.reset());class dae{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hae(n){J.setTimeout(()=>{throw n},0)}function $U(n,e){AT||function fae(){var n=J.Promise.resolve(void 0);AT=function(){n.then(pae)}}(),MT||(AT(),MT=!0),jU.add(n,e)}var MT=!1,jU=new class cae{constructor(){this.h=this.g=null}add(e,t){const r=BU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function pae(){for(var n;n=lae();){try{n.h.call(n.g)}catch(t){hae(t)}var e=BU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}MT=!1}function Kp(n,e){Tt.call(this),this.h=n||1,this.g=e||J,this.j=Xt(this.lb,this),this.l=Date.now()}function xT(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function NT(n,e,t){if("function"==typeof n)t&&(n=Xt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xt(n.handleEvent,n)}return 2147483647<Number(e)?-1:J.setTimeout(n,e||0)}function HU(n){n.g=NT(()=>{n.g=null,n.i&&(n.i=!1,HU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vt(Kp,Tt),(U=Kp.prototype).ca=!1,U.R=null,U.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ut(this,"tick"),this.ca&&(xT(this),this.start()))}},U.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},U.M=function(){Kp.X.M.call(this),xT(this),delete this.g};class gae extends us{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HU(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sc(n){us.call(this),this.h=n,this.g={}}Vt(Sc,us);var GU=[];function qU(n,e,t,r){Array.isArray(t)||(t&&(GU[0]=t.toString()),t=GU);for(var i=0;i<t.length;i++){var s=OU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function zU(n){_T(n.g,function(e,t){this.g.hasOwnProperty(t)&&bT(e)},n),n.g={}}function Qp(){this.g=!0}function Ja(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vae(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ST(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Sc.prototype.M=function(){Sc.X.M.call(this),zU(this)},Sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qp.prototype.Aa=function(){this.g=!1},Qp.prototype.info=function(){};var mo={},WU=null;function Yp(){return WU=WU||new Tt}function KU(n){Jt.call(this,mo.Pa,n)}function Ac(n){const e=Yp();Ut(e,new KU(e))}function QU(n,e){Jt.call(this,mo.STAT_EVENT,n),this.stat=e}function wn(n){const e=Yp();Ut(e,new QU(e,n))}function YU(n,e){Jt.call(this,mo.Qa,n),this.size=e}function Mc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){n()},e)}mo.Pa="serverreachability",Vt(KU,Jt),mo.STAT_EVENT="statevent",Vt(QU,Jt),mo.Qa="timingevent",Vt(YU,Jt);var Zp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ZU={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function kT(){}function JU(){}kT.prototype.h=null;var OT,xc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function RT(){Jt.call(this,"d")}function PT(){Jt.call(this,"c")}function Xp(){}function Nc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Sc(this),this.O=wae,this.T=new Kp(n=fT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new eB}function eB(){this.i=null,this.g="",this.h=!1}Vt(RT,Jt),Vt(PT,Jt),Vt(Xp,kT),Xp.prototype.g=function(){return new XMLHttpRequest},Xp.prototype.i=function(){return{}},OT=new Xp;var wae=45e3,FT={},Jp={};function LT(n,e,t){n.K=1,n.v=rg(Fi(e)),n.s=t,n.P=!0,tB(n,null)}function tB(n,e){n.F=Date.now(),kc(n),n.A=Fi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),dB(t.i,"t",r),n.C=0,t=n.l.H,n.h=new eB,n.g=OB(n.l,t?e:null,!n.s),0<n.N&&(n.L=new gae(Xt(n.La,n,n.g),n.N)),qU(n.S,n.g,"readystatechange",n.ib),e=n.H?kU(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Ac(),function mae(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function nB(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function rB(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Eae(n,t),i==Jp){4==e&&(n.o=4,wn(14),r=!1),Ja(n.j,n.m,null,"[Incomplete Response]");break}if(i==FT){n.o=4,wn(15),Ja(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ja(n.j,n.m,i,null),VT(n,i)}nB(n)&&i!=Jp&&i!=FT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,wn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),zT(e),e.K=!0,wn(11))):(Ja(n.j,n.m,t,"[Invalid Chunked Response]"),yo(n),Rc(n))}function Eae(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Jp:(t=Number(e.substring(t,r)),isNaN(t)?FT:(r+=1)+t>e.length?Jp:(e=e.substr(r,t),n.C=r+t,e))}function kc(n){n.V=Date.now()+n.O,iB(n,n.O)}function iB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mc(Xt(n.gb,n),e)}function eg(n){n.B&&(J.clearTimeout(n.B),n.B=null)}function Rc(n){0==n.l.G||n.I||NB(n.l,n)}function yo(n){eg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,xT(n.T),zU(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function VT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||UT(t.h,n)))if(!n.J&&UT(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;lg(t),ag(t)}qT(t),wn(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Mc(Xt(t.cb,t),6e3));if(1>=pB(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else vo(t,11)}else if((n.J||t.g==n)&&lg(t),!jp(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.T=l[0],l=l[1],2==t.G)if("c"==l[0]){t.I=l[1],t.ka=l[2];const c=l[3];null!=c&&(t.ma=c,t.j.info("VER="+t.ma));const d=l[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(BT(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Ve(r.F,r.D,g))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=PB(r,r.H?r.ka:null,r.V),o.J){gB(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(eg(a),kc(a)),r.g=o}else MB(r);0<t.i.length&&ug(t)}else"stop"!=l[0]&&"close"!=l[0]||vo(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?vo(t,7):GT(t):"noop"!=l[0]&&t.l&&t.l.wa(l),t.A=0)}Ac()}catch{}}function sB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Bp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function bae(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Bp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Iae(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Bp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(U=Nc.prototype).setTimeout=function(n){this.O=n},U.ib=function(n){n=n.target;const e=this.L;e&&3==Li(n)?e.l():this.La(n)},U.La=function(n){try{if(n==this.g)e:{const c=Li(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>c)&&(3!=c||fT||this.g&&(this.h.h||this.g.fa()||bB(this.g)))){this.I||4!=c||7==e||Ac(),eg(this);var t=this.g.aa();this.Y=t;t:if(nB(this)){var r=bB(this.g);n="";var i=r.length,s=4==Li(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yo(this),Rc(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function yae(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,c,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jp(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,wn(12),yo(this),Rc(this);break e}Ja(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,VT(this,t)}this.P?(rB(this,c,o),fT&&this.i&&3==c&&(qU(this.S,this.T,"tick",this.hb),this.T.start())):(Ja(this.j,this.m,o,null),VT(this,o)),4==c&&yo(this),this.i&&!this.I&&(4==c?NB(this.l,this):(this.i=!1,kc(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,wn(12)):(this.o=0,wn(13)),yo(this),Rc(this)}}}catch{}},U.hb=function(){if(this.g){var n=Li(this.g),e=this.g.fa();this.C<e.length&&(eg(this),rB(this,n,e),this.i&&4!=n&&kc(this))}},U.cancel=function(){this.I=!0,yo(this)},U.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function _ae(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ac(),wn(17)),yo(this),this.o=2,Rc(this)):iB(this,this.V-n)};var oB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof _o){this.h=void 0!==e?e:n.h,tg(this,n.j),this.s=n.s,this.g=n.g,ng(this,n.m),this.l=n.l,e=n.i;var t=new Fc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),aB(this,t),this.o=n.o}else n&&(t=String(n).match(oB))?(this.h=!!e,tg(this,t[1]||"",!0),this.s=Pc(t[2]||""),this.g=Pc(t[3]||"",!0),ng(this,t[4]),this.l=Pc(t[5]||"",!0),aB(this,t[6]||"",!0),this.o=Pc(t[7]||"")):(this.h=!!e,this.i=new Fc(null,this.h))}function Fi(n){return new _o(n)}function tg(n,e,t){n.j=t?Pc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ng(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function aB(n,e,t){e instanceof Fc?(n.i=e,function xae(n,e){e&&!n.j&&(ls(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(lB(this,r),dB(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Oc(e,Aae)),n.i=new Fc(e,n.h))}function Ve(n,e,t){n.i.set(e,t)}function rg(n){return Ve(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Oc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Tae),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Tae(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_o.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Oc(e,uB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Oc(e,uB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Oc(t,"/"==t.charAt(0)?Sae:Cae,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Oc(t,Mae)),n.join("")};var uB=/[#\/\?@]/g,Cae=/[#\?:]/g,Sae=/[#\?]/g,Aae=/[#\?@]/g,Mae=/#/g;function Fc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ls(n){n.g||(n.g=new Map,n.h=0,n.i&&function Dae(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function lB(n,e){ls(n),e=eu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function cB(n,e){return ls(n),e=eu(n,e),n.g.has(e)}function dB(n,e,t){lB(n,e),0<t.length&&(n.i=null,n.g.set(eu(n,e),cT(t)),n.h+=t.length)}function eu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function hB(n){this.l=n||kae,n=J.PerformanceNavigationTiming?0<(n=J.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(J.g&&J.g.Ga&&J.g.Ga()&&J.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(U=Fc.prototype).add=function(n,e){ls(this),this.i=null,n=eu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},U.forEach=function(n,e){ls(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},U.oa=function(){ls(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},U.W=function(n){ls(this);let e=[];if("string"==typeof n)cB(this,n)&&(e=e.concat(this.g.get(eu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},U.set=function(n,e){return ls(this),this.i=null,cB(this,n=eu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},U.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var kae=10;function fB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pB(n){return n.h?1:n.g?n.g.size:0}function UT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function BT(n,e){n.g?n.g.add(e):n.h=e}function gB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mB(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return cT(n.i)}function $T(){}function Rae(){this.g=new $T}function Pae(n,e,t){const r=t||"";try{sB(n,function(i,s){let o=i;Dc(i)&&(o=ST(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ig(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Lc(n){this.l=n.ac||null,this.j=n.jb||!1}function sg(n,e){Tt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=jT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hB.prototype.cancel=function(){if(this.i=mB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$T.prototype.stringify=function(n){return J.JSON.stringify(n,void 0)},$T.prototype.parse=function(n){return J.JSON.parse(n,void 0)},Vt(Lc,kT),Lc.prototype.g=function(){return new sg(this.l,this.j)},Lc.prototype.i=function(n){return function(){return n}}({}),Vt(sg,Tt);var jT=0;function yB(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Vc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Uc(n)}function Uc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(U=sg.prototype).open=function(n,e){if(this.readyState!=jT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Uc(this)},U.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||J).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vc(this)),this.readyState=jT},U.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yB(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},U.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vc(this):Uc(this),3==this.readyState&&yB(this)}},U.Va=function(n){this.g&&(this.response=this.responseText=n,Vc(this))},U.Ua=function(n){this.g&&(this.response=n,Vc(this))},U.ga=function(){this.g&&Vc(this)},U.setRequestHeader=function(n,e){this.v.append(n,e)},U.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},U.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Fae=J.JSON.parse;function Qe(n){Tt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_B,this.K=this.L=!1}Vt(Qe,Tt);var _B="",Lae=/^https?$/i,Vae=["POST","PUT"];function vB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,wB(n),og(n)}function wB(n){n.D||(n.D=!0,Ut(n,"complete"),Ut(n,"error"))}function EB(n){if(n.h&&typeof uT<"u"&&(!n.C[1]||4!=Li(n)||2!=n.aa()))if(n.v&&4==Li(n))NT(n.Ha,0,n);else if(Ut(n,"readystatechange"),4==Li(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(oB)[1]||null;if(!i&&J.self&&J.self.location){var s=J.self.location.protocol;i=s.substr(0,s.length-1)}r=!Lae.test(i?i.toLowerCase():"")}t=r}if(t)Ut(n,"complete"),Ut(n,"success");else{n.m=6;try{var o=2<Li(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",wB(n)}}finally{og(n)}}}function og(n,e){if(n.g){IB(n);const t=n.g,r=n.C[0]?Up:null;n.g=null,n.C=null,e||Ut(n,"ready");try{t.onreadystatechange=r}catch{}}}function IB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(J.clearTimeout(n.A),n.A=null)}function Li(n){return n.g?n.g.readyState:0}function bB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case _B:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function DB(n){let e="";return _T(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function HT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=DB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ve(n,e,t))}function Bc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function TB(n){this.Ca=0,this.i=[],this.j=new Qp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Bc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Bc("baseRetryDelayMs",5e3,n),this.bb=Bc("retryDelaySeedMs",1e4,n),this.$a=Bc("forwardChannelMaxRetries",2,n),this.ta=Bc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new hB(n&&n.concurrentRequestLimit),this.Fa=new Rae,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function GT(n){if(CB(n),3==n.G){var e=n.U++,t=Fi(n.F);Ve(t,"SID",n.I),Ve(t,"RID",e),Ve(t,"TYPE","terminate"),$c(n,t),(e=new Nc(n,n.j,e,void 0)).K=2,e.v=rg(Fi(t)),t=!1,J.navigator&&J.navigator.sendBeacon&&(t=J.navigator.sendBeacon(e.v.toString(),"")),!t&&J.Image&&((new Image).src=e.v,t=!0),t||(e.g=OB(e.l,null),e.g.da(e.v)),e.F=Date.now(),kc(e)}RB(n)}function ag(n){n.g&&(zT(n),n.g.cancel(),n.g=null)}function CB(n){ag(n),n.u&&(J.clearTimeout(n.u),n.u=null),lg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&J.clearTimeout(n.m),n.m=null)}function ug(n){fB(n.h)||n.m||(n.m=!0,$U(n.Ja,n),n.C=0)}function SB(n,e){var t;t=e?e.m:n.U++;const r=Fi(n.F);Ve(r,"SID",n.I),Ve(r,"RID",t),Ve(r,"AID",n.T),$c(n,r),n.o&&n.s&&HT(r,n.o,n.s),t=new Nc(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=AB(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),BT(n.h,t),LT(t,r,e)}function $c(n,e){n.ia&&_T(n.ia,function(t,r){Ve(e,r,t)}),n.l&&sB({},function(t,r){Ve(e,r,t)})}function AB(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Xt(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{Pae(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function MB(n){n.g||n.u||(n.Z=1,$U(n.Ia,n),n.A=0)}function qT(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Mc(Xt(n.Ia,n),kB(n,n.A)),n.A++,0))}function zT(n){null!=n.B&&(J.clearTimeout(n.B),n.B=null)}function xB(n){n.g=new Nc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Fi(n.sa);Ve(e,"RID","rpc"),Ve(e,"SID",n.I),Ve(e,"CI",n.L?"0":"1"),Ve(e,"AID",n.T),Ve(e,"TYPE","xmlhttp"),$c(n,e),n.o&&n.s&&HT(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=rg(Fi(e)),t.s=null,t.P=!0,tB(t,n)}function lg(n){null!=n.v&&(J.clearTimeout(n.v),n.v=null)}function NB(n,e){var t=null;if(n.g==e){lg(n),zT(n),n.g=null;var r=2}else{if(!UT(n.h,e))return;t=e.D,gB(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ut(r=Yp(),new YU(r,t)),ug(n)}else MB(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Bae(n,e){return!(pB(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Mc(Xt(n.Ja,n,e),kB(n,n.C)),n.C++,0)))}(n,e)||2==r&&qT(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:vo(n,5);break;case 4:vo(n,10);break;case 3:vo(n,6);break;default:vo(n,2)}}function kB(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function vo(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Xt(n.kb,n);t||(t=new _o("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||tg(t,"https"),rg(t)),function Oae(n,e){const t=new Qp;if(J.Image){const r=new Image;r.onload=$p(ig,t,r,"TestLoadImage: loaded",!0,e),r.onerror=$p(ig,t,r,"TestLoadImage: error",!1,e),r.onabort=$p(ig,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=$p(ig,t,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else wn(2);n.G=0,n.l&&n.l.va(e),RB(n),CB(n)}function RB(n){if(n.G=0,n.la=[],n.l){const e=mB(n.h);(0!=e.length||0!=n.i.length)&&(CU(n.la,e),CU(n.la,n.i),n.h.i.length=0,cT(n.i),n.i.length=0),n.l.ua()}}function PB(n,e,t){var r=t instanceof _o?Fi(t):new _o(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ng(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _o(null,void 0);r&&tg(s,r),e&&(s.g=e),i&&ng(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Ve(r,t,e),Ve(r,"VER",n.ma),$c(n,r),r}function OB(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qe(t&&n.Da&&!n.ra?new Lc({jb:!0}):n.ra)).Ka(n.H),e}function FB(){}function cg(){if(Xa&&!(10<=Number(rae)))throw Error("Environmental error: no available transport.")}function Xn(n,e){Tt.call(this),this.g=new TB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!jp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new tu(this)}function LB(n){RT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function VB(){PT.call(this),this.status=1}function tu(n){this.g=n}(U=Qe.prototype).Ka=function(n){this.L=n},U.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():OT.g(),this.C=function XU(n){return n.h||(n.h=n.i())}(this.u?this.u:OT),this.g.onreadystatechange=Xt(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void vB(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=J.FormData&&n instanceof J.FormData,!(0<=TU(Vae,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{IB(this),0<this.B&&((this.K=function Uae(n){return Xa&&function nae(){return function Xoe(n){var e=tae;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=SU(String(Gp)).split("."),t=SU("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=dT(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||dT(0==i[2].length,0==s[2].length)||dT(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.qa,this)):this.A=NT(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){vB(this,s)}},U.qa=function(){typeof uT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))},U.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ut(this,"complete"),Ut(this,"abort"),og(this))},U.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),og(this,!0)),Qe.X.M.call(this)},U.Ha=function(){this.s||(this.F||this.v||this.l?EB(this):this.fb())},U.fb=function(){EB(this)},U.aa=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}},U.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},U.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Fae(e)}},U.Ea=function(){return this.m},U.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(U=TB.prototype).ma=8,U.G=1,U.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Nc(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=kU(s),PU(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=AB(this,i,e),Ve(t=Fi(this.F),"RID",n),Ve(t,"CVER",22),this.D&&Ve(t,"X-HTTP-Session-Id",this.D),$c(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(DB(s)))+"&"+e:this.o&&HT(t,this.o,s)),BT(this.h,i),this.Ya&&Ve(t,"TYPE","init"),this.O?(Ve(t,"$req",e),Ve(t,"SID","null"),i.Z=!0,LT(i,t,null)):LT(i,t,e),this.G=2}}else 3==this.G&&(n?SB(this,n):0==this.i.length||fB(this.h)||SB(this))},U.Ia=function(){if(this.u=null,xB(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Mc(Xt(this.eb,this),n)}},U.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,wn(10),ag(this),xB(this))},U.cb=function(){null!=this.v&&(this.v=null,ag(this),qT(this),wn(19))},U.kb=function(n){n?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))},(U=FB.prototype).xa=function(){},U.wa=function(){},U.va=function(){},U.ua=function(){},U.Ra=function(){},cg.prototype.g=function(n,e){return new Xn(n,e)},Vt(Xn,Tt),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;wn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=PB(n,null,n.V),ug(n)},Xn.prototype.close=function(){GT(this.g)},Xn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ST(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&ug(e)},Xn.prototype.M=function(){this.g.l=null,delete this.j,GT(this.g),delete this.g,Xn.X.M.call(this)},Vt(LB,RT),Vt(VB,PT),Vt(tu,FB),tu.prototype.xa=function(){Ut(this.g,"a")},tu.prototype.wa=function(n){Ut(this.g,new LB(n))},tu.prototype.va=function(n){Ut(this.g,new VB)},tu.prototype.ua=function(){Ut(this.g,"b")},cg.prototype.createWebChannel=cg.prototype.g,Xn.prototype.send=Xn.prototype.u,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,Zp.NO_ERROR=0,Zp.TIMEOUT=8,Zp.HTTP_ERROR=6,ZU.COMPLETE="complete",JU.EventType=xc,xc.OPEN="a",xc.CLOSE="b",xc.ERROR="c",xc.MESSAGE="d",Tt.prototype.listen=Tt.prototype.N,Qe.prototype.listenOnce=Qe.prototype.O,Qe.prototype.getLastError=Qe.prototype.Oa,Qe.prototype.getLastErrorCode=Qe.prototype.Ea,Qe.prototype.getStatus=Qe.prototype.aa,Qe.prototype.getResponseJson=Qe.prototype.Sa,Qe.prototype.getResponseText=Qe.prototype.fa,Qe.prototype.send=Qe.prototype.da,Qe.prototype.setWithCredentials=Qe.prototype.Ka;var $ae=Oi.createWebChannelTransport=function(){return new cg},jae=Oi.getStatEventTarget=function(){return Yp()},WT=Oi.ErrorCode=Zp,Hae=Oi.EventType=ZU,Gae=Oi.Event=mo,UB=Oi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},qae=Oi.FetchXmlHttpFactory=Lc,dg=Oi.WebChannel=JU,zae=Oi.XhrIo=Qe;const BB="@firebase/firestore";class Ct{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");let nu="9.14.0";const cs=new Ha("@firebase/firestore");function KT(){return cs.logLevel}function A(n,...e){if(cs.logLevel<=pe.DEBUG){const t=e.map(QT);cs.debug(`Firestore (${nu}): ${n}`,...t)}}function tt(n,...e){if(cs.logLevel<=pe.ERROR){const t=e.map(QT);cs.error(`Firestore (${nu}): ${n}`,...t)}}function ru(n,...e){if(cs.logLevel<=pe.WARN){const t=e.map(QT);cs.warn(`Firestore (${nu}): ${n}`,...t)}}function QT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function V(n="Unexpected state"){const e=`FIRESTORE (${nu}) INTERNAL ASSERTION FAILED: `+n;throw tt(e),new Error(e)}function z(n,e){n||V()}function k(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $B{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ct.UNAUTHENTICATED))}shutdown(){}}class Kae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qae{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new vt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(z("string"==typeof r.accessToken),new $B(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return z(null===e||"string"==typeof e),new Ct(e)}}class Yae{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(z(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Zae{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Yae(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xae{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(z("string"==typeof t.token),this.A=t.token,new jB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jae(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class HB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Jae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ee(n,e){return n<e?-1:n>e?1:0}function iu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class He{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new He(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new He(0,0))}static max(){return new W(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jc{constructor(e,t,r){void 0===t?t=0:t>e.length&&V(),void 0===r?r=e.length-t:r>e.length-t&&V(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===jc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ge extends jc{construct(e,t,r){return new ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ge(t)}static emptyPath(){return new ge([])}}const eue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends jc{construct(e,t,r){return new nt(e,t,r)}static isValidIdentifier(e){return eue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(t)}static emptyPath(){return new nt([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(ge.fromString(e))}static fromName(e){return new N(ge.fromString(e).popFirst(5))}static empty(){return new N(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new ge(e.slice()))}}function zB(n){return new Jn(n.readTime,n.key,-1)}class Jn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Jn(W.min(),N.empty(),-1)}static max(){return new Jn(W.max(),N.empty(),-1)}}function ZT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:ee(n.largestBatchId,e.largestBatchId))}const WB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ds(n){return XT.apply(this,arguments)}function XT(){return XT=y(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==WB)throw n;A("LocalStore","Unexpectedly lost primary lease")}),XT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function hs(n){return"IndexedDbTransactionError"===n.name}class kn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function QB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Io(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}kn.at=-1;class Ye{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new Ye(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gg(this.root,e,this.comparator,!1)}getReverseIterator(){return new gg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gg(this.root,e,this.comparator,!0)}}class gg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=s??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Bt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1,Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Bt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class De{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZB(this.data.getIterator())}getIteratorFrom(e){return new ZB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new De(this.comparator);return t.data=e,t}}class ZB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class er{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new er([])}unionWith(e){let t=new De(nt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return iu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const uue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(n){if(z(!!n),"string"==typeof n){let e=0;const t=uue.exec(n);if(z(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bo(n){return"string"==typeof n?wt.fromBase64String(n):wt.fromUint8Array(n)}function eC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function XB(n){const e=n.mapValue.fields.__previous_value__;return eC(e)?XB(e):e}function qc(n){const e=fs(n.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}class lue{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Do{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Do("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}function zc(n){return null==n}function Wc(n){return 0===n&&1/n==-1/0}const ps_mapValue={fields:{__type__:{stringValue:"__max__"}}};function To(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eC(n)?4:r2(n)?9007199254740991:10:V()}function Yr(n,e){if(n===e)return!0;const t=To(n);if(t!==To(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=fs(r.timestampValue),o=fs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,bo(n.bytesValue).isEqual(bo(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?Wc(s)===Wc(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return iu(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(QB(s)!==QB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Yr(s[a],o[a])))return!1;return!0}(n,e);default:return V()}var i}function Kc(n,e){return void 0!==(n.values||[]).find(t=>Yr(t,e))}function gs(n,e){if(n===e)return 0;const t=To(n),r=To(e);if(t!==r)return ee(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ee(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return e2(n.timestampValue,e.timestampValue);case 4:return e2(qc(n),qc(e));case 5:return ee(n.stringValue,e.stringValue);case 6:return function(i,s){const o=bo(i),a=bo(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=ee(o[u],a[u]);if(0!==l)return l}return ee(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ee(Ze(i.latitude),Ze(s.latitude));return 0!==o?o:ee(Ze(i.longitude),Ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=gs(o[u],a[u]);if(l)return l}return ee(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ps_mapValue&&s===ps_mapValue)return 0;if(i===ps_mapValue)return 1;if(s===ps_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=ee(a[c],l[c]);if(0!==d)return d;const h=gs(o[a[c]],u[l[c]]);if(0!==h)return h}return ee(a.length,l.length)}(n.mapValue,e.mapValue);default:throw V()}}function e2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ee(n,e);const t=fs(n),r=fs(e),i=ee(t.seconds,r.seconds);return 0!==i?i:ee(t.nanos,r.nanos)}function ou(n){return tC(n)}function tC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=fs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bo(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=tC(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${tC(r.fields[a])}`;return s+"}"}(n.mapValue):V();var e}function nC(n){return!!n&&"integerValue"in n}function Qc(n){return!!n&&"arrayValue"in n}function t2(n){return!!n&&"nullValue"in n}function n2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yg(n){return!!n&&"mapValue"in n}function Yc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Io(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function r2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(t)}setAll(e){let t=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Yc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());yg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Io(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(Yc(this.value))}}function o2(n){const e=[];return Io(n.fields,(t,r)=>{const i=new nt([t]);if(yg(r)){const s=o2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new er(e)}class Re{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Re(e,0,W.min(),W.min(),$t.empty(),0)}static newFoundDocument(e,t,r){return new Re(e,1,t,W.min(),r,0)}static newNoDocument(e,t){return new Re(e,2,t,W.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new Re(e,3,t,W.min(),$t.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Re(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hue{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function a2(n,e=null,t=[],r=[],i=null,s=null,o=null){return new hue(n,e,t,r,i,s,o)}function So(n){const e=k(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ou(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),zc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ou(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ou(r)).join(",")),e.ht=t}return e.ht}function Zc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Eue(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Yr(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!h2(n.startAt,e.startAt)&&h2(n.endAt,e.endAt)}function _g(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class jt extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new pue(e,t,r):"array-contains"===t?new yue(e,r):"in"===t?new _ue(e,r):"not-in"===t?new vue(e,r):"array-contains-any"===t?new wue(e,r):new jt(e,t,r)}static lt(e,t,r){return"in"===t?new gue(e,r):new mue(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(gs(t,this.value)):null!==t&&To(this.value)===To(t)&&this.ft(gs(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pue extends jt{constructor(e,t,r){super(e,t,r),this.key=N.fromName(r.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.ft(t)}}class gue extends jt{constructor(e,t){super(e,"in",t),this.keys=c2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mue extends jt{constructor(e,t){super(e,"not-in",t),this.keys=c2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function c2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>N.fromName(r.referenceValue))}class yue extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qc(t)&&Kc(t.arrayValue,this.value)}}class _ue extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kc(this.value.arrayValue,t)}}class vue extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Kc(this.value.arrayValue,t)}}class wue extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Kc(this.value.arrayValue,r))}}class ms{constructor(e,t){this.position=e,this.inclusive=t}}class au{constructor(e,t="asc"){this.field=e,this.dir=t}}function Eue(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function d2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),t.key):gs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function h2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yr(n.position[t],e.position[t]))return!1;return!0}class Vi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this._t=null,this.wt=null}}function uu(n){return new Vi(n)}function p2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function lu(n){const e=k(n);if(null===e._t){e._t=[];const t=function iC(n){for(const e of n.filters)if(e.dt())return e.field;return null}(e),r=function rC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new au(t)),e._t.push(new au(nt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new au(nt.keyField(),s))}}}return e._t}function En(n){const e=k(n);if(!e.wt)if("F"===e.limitType)e.wt=a2(e.path,e.collectionGroup,lu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of lu(e))t.push(new au(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ms(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ms(e.startAt.position,e.startAt.inclusive):null;e.wt=a2(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function wg(n,e,t){return new Vi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xc(n,e){return Zc(En(n),En(e))&&n.limitType===e.limitType}function g2(n){return`${So(En(n))}|lt:${n.limitType}`}function oC(n){return`Query(target=${function fue(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ou(r.value)}`;var r}).join(", ")}]`),zc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ou(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ou(t)).join(",")),`Target(${e})`}(En(n))}; limitType=${n.limitType})`}function aC(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):N.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=d2(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,lu(t),r)||t.endAt&&!function(i,s,o){const a=d2(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,lu(t),r)));var t,r}function y2(n){return(e,t)=>{let r=!1;for(const i of lu(n)){const s=Iue(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Iue(n,e,t){const r=n.field.isKeyField()?N.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?gs(a,u):V()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}function _2(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function v2(n){return{integerValue:""+n}}function w2(n,e){return function JB(n){return"number"==typeof n&&Number.isInteger(n)&&!Wc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?v2(e):_2(n,e)}class Eg{constructor(){this._=void 0}}function bue(n,e,t){return n instanceof cu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ao?I2(n,e):n instanceof Mo?b2(n,e):function(r,i){const s=E2(r,i),o=D2(s)+D2(r.yt);return nC(s)&&nC(r.yt)?v2(o):_2(r.It,o)}(n,e)}function Due(n,e,t){return n instanceof Ao?I2(n,e):n instanceof Mo?b2(n,e):t}function E2(n,e){return n instanceof du?nC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class cu extends Eg{}class Ao extends Eg{constructor(e){super(),this.elements=e}}function I2(n,e){const t=T2(e);for(const r of n.elements)t.some(i=>Yr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Mo extends Eg{constructor(e){super(),this.elements=e}}function b2(n,e){let t=T2(e);for(const r of n.elements)t=t.filter(i=>!Yr(i,r));return{arrayValue:{values:t}}}class du extends Eg{constructor(e,t){super(),this.It=e,this.yt=t}}function D2(n){return Ze(n.integerValue||n.doubleValue)}function T2(n){return Qc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cue{constructor(e,t){this.version=e,this.transformResults=t}}class Ue{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ue}static exists(e){return new Ue(void 0,e)}static updateTime(e){return new Ue(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ig(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class bg{}function C2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fu(n.key,Ue.none()):new hu(n.key,n.data,Ue.none());{const t=n.data,r=$t.empty();let i=new De(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ui(n.key,r,new er(i.toArray()),Ue.none())}}function Sue(n,e,t){n instanceof hu?function(r,i,s){const o=r.value.clone(),a=M2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ui?function(r,i,s){if(!Ig(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=M2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(A2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ed(n,e,t,r){return n instanceof hu?function(i,s,o,a){if(!Ig(i.precondition,s))return o;const u=i.value.clone(),l=x2(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ui?function(i,s,o,a){if(!Ig(i.precondition,s))return o;const u=x2(i.fieldTransforms,a,s),l=s.data;return l.setAll(A2(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,Ig(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Aue(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=E2(r.transform,i||null);null!=s&&(null===t&&(t=$t.empty()),t.set(r.field,s))}return t||null}function S2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&iu(t,r,(i,s)=>function Tue(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ao&&r instanceof Ao||t instanceof Mo&&r instanceof Mo?iu(t.elements,r.elements,Yr):t instanceof du&&r instanceof du?Yr(t.yt,r.yt):t instanceof cu&&r instanceof cu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class hu extends bg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends bg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function A2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function M2(n,e,t){const r=new Map;z(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Due(o,a,t[i]))}return r}function x2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,bue(s,o,e))}return r}class fu extends bg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uC extends bg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mue{constructor(e){this.count=e}}var ct,me;function N2(n){switch(n){default:return V();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function k2(n){if(void 0===n)return tt("GRPC error has no .code"),E.UNKNOWN;switch(n){case ct.OK:return E.OK;case ct.CANCELLED:return E.CANCELLED;case ct.UNKNOWN:return E.UNKNOWN;case ct.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case ct.INTERNAL:return E.INTERNAL;case ct.UNAVAILABLE:return E.UNAVAILABLE;case ct.UNAUTHENTICATED:return E.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case ct.NOT_FOUND:return E.NOT_FOUND;case ct.ALREADY_EXISTS:return E.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return E.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case ct.ABORTED:return E.ABORTED;case ct.OUT_OF_RANGE:return E.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return E.UNIMPLEMENTED;case ct.DATA_LOSS:return E.DATA_LOSS;default:return V()}}(me=ct||(ct={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return YB(this.inner)}size(){return this.innerSize}}const xue=new Ye(N.comparator);function Rn(){return xue}const R2=new Ye(N.comparator);function td(...n){let e=R2;for(const t of n)e=e.insert(t.key,t);return e}function P2(n){let e=R2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zr(){return nd()}function O2(){return nd()}function nd(){return new ys(n=>n.toString(),(n,e)=>n.isEqual(e))}const Nue=new Ye(N.comparator),kue=new De(N.comparator);function se(...n){let e=kue;for(const t of n)e=e.add(t);return e}const Rue=new De(ee);function Dg(){return Rue}class rd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rd(W.min(),i,Dg(),Rn(),se())}}class id{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new id(r,t,se(),se(),se())}}class Tg{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class F2{constructor(e,t){this.targetId=e,this.At=t}}class L2{constructor(e,t,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class V2{constructor(){this.Rt=0,this.bt=B2(),this.Pt=wt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=se(),t=se(),r=se();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:V()}}),new id(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=B2()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Pue{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Rn(),this.qt=U2(),this.Kt=new De(ee)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:V()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(_g(s))if(0===r){const o=new N(s.path);this.jt(t,o,Re.newNoDocument(o,W.min()))}else z(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&_g(a.target)){const u=new N(a.target.path);null!==this.Ut.get(u)||this.ee(o,u)||this.jt(o,u,Re.newNoDocument(u,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let r=se();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Xt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new rd(e,t,this.Kt,this.Ut,r);return this.Ut=Rn(),this.qt=U2(),this.Kt=new De(ee),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new V2,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new De(ee),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||A("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new V2),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function U2(){return new Ye(N.comparator)}function B2(){return new Ye(N.comparator)}const Oue={asc:"ASCENDING",desc:"DESCENDING"},Fue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Lue{constructor(e,t){this.databaseId=e,this.gt=t}}function sd(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $2(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Vue(n,e){return sd(n,e.toTimestamp())}function St(n){return z(!!n),W.fromTimestamp(function(e){const t=fs(e);return new He(t.seconds,t.nanos)}(n))}function lC(n,e){return(t=n,new ge(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function j2(n){const e=ge.fromString(n);return z(Y2(e)),e}function od(n,e){return lC(n.databaseId,e.path)}function Xr(n,e){const t=j2(e);if(t.get(1)!==n.databaseId.projectId)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(G2(t))}function cC(n,e){return lC(n.databaseId,e)}function ad(n){return new ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function G2(n){return z(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function q2(n,e,t){return{name:od(n,e),fields:t.value.mapValue.fields}}function W2(n,e){return{documents:[cC(n,e.path)]}}function hC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=cC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(n2(d.value))return{unaryFilter:{field:pu(d.field),op:"IS_NAN"}};if(t2(d.value))return{unaryFilter:{field:pu(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(n2(d.value))return{unaryFilter:{field:pu(d.field),op:"IS_NOT_NAN"}};if(t2(d.value))return{unaryFilter:{field:pu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(d.field),op:Gue(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:pu((c=l).field),direction:Hue(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.gt||zc(l)?l:{value:l});var l,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function K2(n){let e=function H2(n){const e=j2(n);return 4===e.length?ge.emptyPath():G2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){z(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=Q2(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new au(gu((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,zc(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new ms((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new ms(c.values||[],!c.before)}(t.endAt)),function f2(n,e,t,r,i,s,o,a){return new Vi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function Q2(n){return n?void 0!==n.unaryFilter?[zue(n)]:void 0!==n.fieldFilter?[que(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Q2(e)).reduce((e,t)=>e.concat(t)):V():[]}function Hue(n){return Oue[n]}function Gue(n){return Fue[n]}function pu(n){return{fieldPath:n.canonicalString()}}function gu(n){return nt.fromServerFormat(n.fieldPath)}function que(n){return jt.create(gu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(n.fieldFilter.op),n.fieldFilter.value)}function zue(n){switch(n.unaryFilter.op){case"IS_NAN":const e=gu(n.unaryFilter.field);return jt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=gu(n.unaryFilter.field);return jt.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gu(n.unaryFilter.field);return jt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=gu(n.unaryFilter.field);return jt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return V()}}function Wue(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Y2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class pC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Sue(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ed(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ed(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=O2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=C2(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),se())}isEqual(e){return this.batchId===e.batchId&&iu(this.mutations,e.mutations,(t,r)=>S2(t,r))&&iu(this.baseMutations,e.baseMutations,(t,r)=>S2(t,r))}}class gC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){z(e.mutations.length===r.length);let i=Nue;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gC(e,t,r,i)}}class mC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _s{constructor(e,t,r,i,s=W.min(),o=W.min(),a=wt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class r${constructor(e){this.re=e}}function yC(n){const e=K2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wg(e,e.limit,"L"):e}class Ro{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Wc(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(bo(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?r2(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):V()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),N.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Ro.Te=new Ro;class vle{constructor(){this.Ye=new vC}addToCollectionParentIndex(e,t){return this.Ye.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Jn.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class vC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new De(ge.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(ge.comparator)).toArray()}}new Uint8Array(0);class Pn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class Fo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Fo(0)}static vn(){return new Fo(-1)}}class Mle{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D${constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&ed(r.mutation,i,er.empty(),He.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,t,r=se()){const i=Zr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=td();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Zr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,se()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Rn();const o=nd(),a=nd();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof Ui)?s=s.insert(l.key,l):void 0!==c&&(o.set(l.key,c.mutation.getFieldMask()),ed(c.mutation,l,c.mutation.getFieldMask(),He.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new Mle(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=nd();let i=new Ye((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||er.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=O2();c.forEach(h=>{if(!s.has(h)){const f=C2(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return N.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function sC(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(Zr());let a=-1,u=s;return o.next(l=>w.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?w.resolve():this.getBaseDocument(e,c,d).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,se())).next(c=>({batchId:a,changes:P2(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(r=>{let i=td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=td();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=t,c=a.child(i),new Vi(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();null===i.get(l)&&(i=i.insert(l,Re.newInvalidDocument(l)))});let o=td();return i.forEach((a,u)=>{const l=s.get(a);void 0!==l&&ed(l.mutation,u,er.empty(),He.now()),aC(t,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):w.resolve(Re.newInvalidDocument(t))}}class xle{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:St(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:yC(r.bundledQuery),readTime:St(r.readTime)}),w.resolve();var r}}class Nle{constructor(){this.overlays=new Ye(N.comparator),this.es=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zr();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=Zr(),s=t.length+1,o=new N(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ye((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=Zr(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mC(t,r));let s=this.es.get(t);void 0===s&&(s=se(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class wC{constructor(){this.ns=new De(Mt.ss),this.rs=new De(Mt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Mt(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Mt(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new N(new ge([])),r=new Mt(t,e),i=new Mt(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new N(new ge([])),r=new Mt(t,e),i=new Mt(t,e+1);let s=se();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Mt(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mt{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return N.comparator(e.key,t.key)||ee(e._s,t._s)}static os(e,t){return ee(e._s,t._s)||N.comparator(e.key,t.key)}}class kle{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new De(Mt.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new pC(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mt(t,0),i=new Mt(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new De(ee);return t.forEach(i=>{const s=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),w.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new Mt(new N(s),0);let a=new De(ee);return this.gs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u._s)),!0)},o),w.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){z(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return w.forEach(t.mutations,i=>{const s=new Mt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Mt(t,0),i=this.gs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rle{constructor(e){this.Es=e,this.docs=new Ye(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():Re.newInvalidDocument(t))}getEntries(e,t){let r=Rn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Re.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,t,r){let i=Rn();const s=new N(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||ZT(zB(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,t,r,i){V()}As(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ple(this)}getSize(e){return w.resolve(this.size)}}class Ple extends class Cle{constructor(){this.changes=new ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Re.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Ole{constructor(e){this.persistence=e,this.Rs=new ys(t=>So(t),Zc),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.bs=0,this.Ps=new wC,this.targetCount=0,this.vs=Fo.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),w.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Dn(t),w.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.Ps.containsKey(t))}}class T${constructor(e,t){this.Vs={},this.overlays={},this.Ss=new kn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Ole(this),this.indexManager=new vle,this.remoteDocumentCache=new Rle(r=>this.referenceDelegate.xs(r)),this.It=new r$(t),this.Ns=new xle(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nle,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new kle(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){A("MemoryPersistence","Starting transaction:",e);const i=new Fle(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return w.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Fle extends class rue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Fs=new wC,this.$s=null}static Bs(e){return new Pg(e)}get Ls(){if(this.$s)return this.$s;throw V()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),w.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,r=>{const i=N.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,W.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return w.or([()=>w.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class DC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=se(),i=se();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new DC(e,t.fromCache,r,i)}}class S${constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(p2(t))return w.resolve(null);let r=En(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=wg(t,null,"F"),r=En(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Fi(t,a);return this.$i(t,l,o,u.readTime)?this.ki(e,wg(t,null,"F")):this.Bi(e,l,t,u)}))})))}Oi(e,t,r,i){return p2(t)||i.isEqual(W.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(KT()<=pe.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oC(t)),this.Bi(e,o,t,function qB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new He(t+1,0):new He(t,r));return new Jn(i,N.empty(),e)}(i,-1)))})}Fi(e,t){let r=new De(y2(e));return t.forEach((i,s)=>{aC(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return KT()<=pe.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",oC(t)),this.Ni.getDocumentsMatchingQuery(e,t,Jn.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Vle{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Ye(ee),this.qi=new ys(s=>So(s),Zc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D$(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function M$(n,e){return TC.apply(this,arguments)}function TC(){return TC=y(function*(n,e){const t=k(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=se();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}),TC.apply(this,arguments)}function Ule(n,e){const t=k(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);z(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function x$(n){const e=k(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Ble(n,e){const t=k(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(wt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,m=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let u=Rn(),l=se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function N$(n,e,t){let r=se(),i=se();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Rn();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(c=>{u=c.Wi,l=c.zi})),!r.isEqual(W.min())){const c=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.Ui=i,s))}function $le(n,e){const t=k(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _u(n,e){const t=k(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new _s(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function vu(n,e,t){return CC.apply(this,arguments)}function CC(){return CC=y(function*(n,e,t){const r=k(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!hs(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),CC.apply(this,arguments)}function Fg(n,e,t){const r=k(n);let i=W.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=k(a),d=c.qi.get(l);return void 0!==d?w.resolve(c.Ui.get(d)):c.Cs.getTargetData(u,l)}(r,o,En(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:W.min(),t?s:se())).next(a=>(function P$(n,e,t){let r=n.Ki.get(e)||W.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function m2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class NC{constructor(){this.activeTargetIds=Dg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L${constructor(){this.Lr=new NC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new NC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gle{qr(e){}shutdown(){}}class V${constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zle{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Wle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);A("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(A("RestConnection","Received: ",u),u),u=>{throw ru("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+nu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${qle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new zae;a.setWithCredentials(!0),a.listenOnce(Hae.COMPLETE,()=>{var l;try{switch(a.getLastErrorCode()){case WT.NO_ERROR:const c=a.getResponseJson();A("Connection","XHR received:",JSON.stringify(c)),s(c);break;case WT.TIMEOUT:A("Connection",'RPC "'+e+'" timed out'),o(new S(E.DEADLINE_EXCEEDED,"Request time out"));break;case WT.HTTP_ERROR:const d=a.getStatus();if(A("Connection",'RPC "'+e+'" failed with status:',d,"response text:",a.getResponseText()),d>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null===(l=h)||void 0===l?void 0:l.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(m)>=0?m:E.UNKNOWN}(f.status);o(new S(p,f.message))}else o(new S(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new S(E.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{A("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$ae(),o=jae(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new qae({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const u=i.join("");A("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new zle({Hr:p=>{d?A("Connection","Not sending because WebChannel is closed:",p):(c||(A("Connection","Opening WebChannel transport."),l.open(),c=!0),A("Connection","WebChannel sending:",p),l.send(p))},Jr:()=>l.close()}),f=(p,g,m)=>{p.listen(g,v=>{try{m(v)}catch(I){setTimeout(()=>{throw I},0)}})};return f(l,dg.EventType.OPEN,()=>{d||A("Connection","WebChannel transport opened.")}),f(l,dg.EventType.CLOSE,()=>{d||(d=!0,A("Connection","WebChannel transport closed"),h.io())}),f(l,dg.EventType.ERROR,p=>{d||(d=!0,ru("Connection","WebChannel transport errored:",p),h.io(new S(E.UNAVAILABLE,"The operation could not be completed")))}),f(l,dg.EventType.MESSAGE,p=>{var g;if(!d){const m=p.data[0];z(!!m);const v=m,I=v.error||(null===(g=v[0])||void 0===g?void 0:g.error);if(I){A("Connection","WebChannel received error:",I);const _=I.status;let C=function(P){const re=ct[P];if(void 0!==re)return k2(re)}(_),x=I.message;void 0===C&&(C=E.INTERNAL,x="Unknown error status: "+_+" with message "+I.message),d=!0,h.io(new S(C,x)),l.close()}else A("Connection","WebChannel received:",m),h.ro(m)}}),f(o,Gae.STAT_EVENT,p=>{p.stat===UB.PROXY?A("Connection","Detected buffering proxy"):p.stat===UB.NOPROXY&&A("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Ug(){return typeof document<"u"?document:null}function yd(n){return new Lue(n,!0)}class RC{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class B${constructor(e,t,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new RC(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return y(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return y(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return y(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(tt(t.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new S(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(y(function*(){e.state=0,e.start()}))}Qo(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kle extends B${constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Bue(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],s=function(u,l){return u.gt?(z(void 0===l||"string"==typeof l),wt.fromBase64String(l||"")):(z(void 0===l||l instanceof Uint8Array),wt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?E.UNKNOWN:k2(u.code);return new S(l,u.message||"")}(o);t=new L2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Xr(n,r.document.name),s=St(r.document.updateTime),o=new $t({mapValue:{fields:r.document.fields}}),a=Re.newFoundDocument(i,s,o);t=new Tg(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Xr(n,r.document),s=r.readTime?St(r.readTime):W.min(),o=Re.newNoDocument(i,s);t=new Tg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Xr(n,r.document);t=new Tg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,s=new Mue(r.count||0);t=new F2(r.targetId,s)}}var u;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?St(s.readTime):W.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=ad(this.It),t.addTarget=function(i,s){let o;const a=s.target;return o=_g(a)?{documents:W2(i,a)}:{query:hC(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=$2(i,s.resumeToken):s.snapshotVersion.compareTo(W.min())>0&&(o.readTime=sd(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function jue(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return V()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=ad(this.It),t.removeTarget=e,this.Bo(t)}}class Qle extends B${constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function $ue(n,e){return n&&n.length>0?(z(void 0!==e),n.map(t=>function(r,i){let s=St(r.updateTime?r.updateTime:i);return s.isEqual(W.min())&&(s=St(i)),new Cue(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=St(e.commitTime);return this.listener.Zo(r,t)}return z(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ad(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function ud(n,e){let t;if(e instanceof hu)t={update:q2(n,e.key,e.value)};else if(e instanceof fu)t={delete:od(n,e.key)};else if(e instanceof Ui)t={update:q2(n,e.key,e.data),updateMask:Wue(e.fieldMask)};else{if(!(e instanceof uC))return V();t={verify:od(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof cu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof du)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw V()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Vue(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),t;var i}(this.It,r))};this.Bo(t)}}class Yle extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(E.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(E.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Xle{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(tt(t),this.ou=!1):A("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Jle{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(y(function*(){var u;Bi(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(l){const c=k(l);c._u.add(4),yield wu(c),c.gu.set("Unknown"),c._u.delete(4),yield _d(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.gu=new Xle(r,i)}}function _d(n){return OC.apply(this,arguments)}function OC(){return OC=y(function*(n){if(Bi(n))for(const e of n.wu)yield e(!0)}),OC.apply(this,arguments)}function wu(n){return FC.apply(this,arguments)}function FC(){return FC=y(function*(n){for(const e of n.wu)yield e(!1)}),FC.apply(this,arguments)}function Bg(n,e){const t=k(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),UC(t)?VC(t):Iu(t).ko()&&LC(t,e))}function vd(n,e){const t=k(n),r=Iu(t);t.du.delete(e),r.ko()&&$$(t,e),0===t.du.size&&(r.ko()?r.Fo():Bi(t)&&t.gu.set("Unknown"))}function LC(n,e){n.yu.Mt(e.targetId),Iu(n).zo(e)}function $$(n,e){n.yu.Mt(e),Iu(n).Ho(e)}function VC(n){n.yu=new Pue({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Iu(n).start(),n.gu.uu()}function UC(n){return Bi(n)&&!Iu(n).No()&&n.du.size>0}function Bi(n){return 0===k(n)._u.size}function j$(n){n.yu=void 0}function ece(n){return BC.apply(this,arguments)}function BC(){return BC=y(function*(n){n.du.forEach((e,t)=>{LC(n,e)})}),BC.apply(this,arguments)}function tce(n,e){return $C.apply(this,arguments)}function $C(){return $C=y(function*(n,e){j$(n),UC(n)?(n.gu.hu(e),VC(n)):n.gu.set("Unknown")}),$C.apply(this,arguments)}function nce(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=y(function*(n,e,t){if(n.gu.set("Online"),e instanceof L2&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $g(n,r)}else if(e instanceof Tg?n.yu.Gt(e):e instanceof F2?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(W.min()))try{const r=yield x$(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.du.get(u);l&&i.du.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(wt.EMPTY_BYTE_STRING,u.snapshotVersion)),$$(i,a);const l=new _s(u.target,a,1,u.sequenceNumber);LC(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield $g(n,r)}var r}),jC.apply(this,arguments)}function $g(n,e,t){return HC.apply(this,arguments)}function HC(){return HC=y(function*(n,e,t){if(!hs(e))throw e;n._u.add(1),yield wu(n),n.gu.set("Offline"),t||(t=()=>x$(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){A("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield _d(n)}))}),HC.apply(this,arguments)}function H$(n,e){return e().catch(t=>$g(n,t,e))}function Eu(n){return GC.apply(this,arguments)}function GC(){return GC=y(function*(n){const e=k(n),t=Es(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;rce(e);)try{const i=yield $le(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,ice(e,i)}catch(i){yield $g(e,i)}G$(e)&&q$(e)}),GC.apply(this,arguments)}function rce(n){return Bi(n)&&n.fu.length<10}function ice(n,e){n.fu.push(e);const t=Es(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function G$(n){return Bi(n)&&!Es(n).No()&&n.fu.length>0}function q$(n){Es(n).start()}function sce(n){return qC.apply(this,arguments)}function qC(){return qC=y(function*(n){Es(n).eu()}),qC.apply(this,arguments)}function oce(n){return zC.apply(this,arguments)}function zC(){return zC=y(function*(n){const e=Es(n);for(const t of n.fu)e.Xo(t.mutations)}),zC.apply(this,arguments)}function ace(n,e,t){return WC.apply(this,arguments)}function WC(){return WC=y(function*(n,e,t){const r=n.fu.shift(),i=gC.from(r,e,t);yield H$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Eu(n)}),WC.apply(this,arguments)}function uce(n,e){return KC.apply(this,arguments)}function KC(){return KC=y(function*(n,e){var t;e&&Es(n).Yo&&(yield(t=y(function*(r,i){if(N2(s=i.code)&&s!==E.ABORTED){const o=r.fu.shift();Es(r).Mo(),yield H$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Eu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),G$(n)&&q$(n)}),KC.apply(this,arguments)}function z$(n,e){return QC.apply(this,arguments)}function QC(){return QC=y(function*(n,e){const t=k(n);t.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Bi(t);t._u.add(3),yield wu(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield _d(t)}),QC.apply(this,arguments)}function ZC(){return ZC=y(function*(n,e){const t=k(n);e?(t._u.delete(2),yield _d(t)):e||(t._u.add(2),yield wu(t),t.gu.set("Unknown"))}),ZC.apply(this,arguments)}function Iu(n){return n.pu||(n.pu=function(e,t,r){const i=k(e);return i.su(),new Kle(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:ece.bind(null,n),Zr:tce.bind(null,n),Wo:nce.bind(null,n)}),n.wu.push(function(){var e=y(function*(t){t?(n.pu.Mo(),UC(n)?VC(n):n.gu.set("Unknown")):(yield n.pu.stop(),j$(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Es(n){return n.Iu||(n.Iu=function(e,t,r){const i=k(e);return i.su(),new Qle(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:sce.bind(null,n),Zr:uce.bind(null,n),tu:oce.bind(null,n),Zo:ace.bind(null,n)}),n.wu.push(function(){var e=y(function*(t){t?(n.Iu.Mo(),yield Eu(n)):(yield n.Iu.stop(),n.fu.length>0&&(A("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class XC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new XC(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bu(n,e){if(tt("AsyncQueue",`${e}: ${n}`),hs(n))return new S(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Du{constructor(e){this.comparator=e?(t,r)=>e(t,r)||N.comparator(t.key,r.key):(t,r)=>N.comparator(t.key,r.key),this.keyedMap=td(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Du(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Du)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class W${constructor(){this.Tu=new Ye(N.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):V():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Tu{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Tu(e,t,Du.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class lce{constructor(){this.Au=void 0,this.listeners=[]}}class cce{constructor(){this.queries=new ys(e=>g2(e),Xc),this.onlineState="Unknown",this.Ru=new Set}}function e0(){return e0=y(function*(n,e){const t=k(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new lce),i)try{s.Au=yield t.onListen(r)}catch(o){const a=bu(o,`Initialization of query '${oC(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&r0(t)}),e0.apply(this,arguments)}function n0(){return n0=y(function*(n,e){const t=k(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),n0.apply(this,arguments)}function dce(n,e){const t=k(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&r0(t)}function hce(n,e,t){const r=k(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function r0(n){n.Ru.forEach(e=>{e.next()})}class s0{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Y${constructor(e){this.key=e}}class Z${constructor(e){this.key=e}}class X${constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=se(),this.mutatedKeys=se(),this.Gu=y2(e),this.Qu=new Du(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new W$,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=aC(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.Gu(f,u)>0||l&&this.Gu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||l)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(l.type,c.type)||this.Gu(l.doc,c.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new Tu(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new W$,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=se(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Z$(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Y$(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=se();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Tu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class gce{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mce{constructor(e){this.key=e,this.nc=!1}}class yce{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ys(a=>g2(a),Xc),this.rc=new Map,this.oc=new Set,this.uc=new Ye(N.comparator),this.cc=new Map,this.ac=new wC,this.hc={},this.lc=new Map,this.fc=Fo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function _ce(n,e){return o0.apply(this,arguments)}function o0(){return o0=y(function*(n,e){const t=M0(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield _u(t.localStore,En(e));t.isPrimaryClient&&Bg(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield a0(t,e,r,"current"===a,o.resumeToken)}return i}),o0.apply(this,arguments)}function a0(n,e,t,r,i){return u0.apply(this,arguments)}function u0(){return u0=y(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=y(function*(g,m,v,I){let _=m.view.Wu(v);_.$i&&(_=yield Fg(g.localStore,m.query,!1).then(({documents:P})=>m.view.Wu(P,_)));const C=I&&I.targetChanges.get(m.targetId),x=m.view.applyChanges(_,g.isPrimaryClient,C);return _0(g,m.targetId,x.Xu),x.snapshot}),function(g,m,v,I){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Fg(n.localStore,e,!0),o=new X$(e,s.Hi),a=o.Wu(s.documents),u=id.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,u);_0(n,t,l.Xu);const c=new gce(e,t,o);return n.ic.set(e,c),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),l.snapshot}),u0.apply(this,arguments)}function vce(n,e){return l0.apply(this,arguments)}function l0(){return l0=y(function*(n,e){const t=k(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!Xc(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),vd(t.remoteStore,r.targetId),Cu(t,r.targetId)}).catch(ds))):(Cu(t,r.targetId),yield vu(t.localStore,r.targetId,!0))}),l0.apply(this,arguments)}function c0(){return c0=y(function*(n,e,t){const r=x0(n);try{const i=yield function(s,o){const a=k(s),u=He.now(),l=o.reduce((h,f)=>h.add(f.key),se());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Rn(),p=se();return a.Gi.getEntries(h,l).next(g=>{f=g,f.forEach((m,v)=>{v.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const m=[];for(const v of o){const I=Aue(v,c.get(v.key).overlayedDocument);null!=I&&m.push(new Ui(v.key,I,o2(I.value.mapValue),Ue.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:P2(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new Ye(ee)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield $i(r,i.changes),yield Eu(r.remoteStore)}catch(i){const s=bu(i,"Failed to persist write");t.reject(s)}}),c0.apply(this,arguments)}function J$(n,e){return d0.apply(this,arguments)}function d0(){return d0=y(function*(n,e){const t=k(n);try{const r=yield Ble(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?z(o.nc):i.removedDocuments.size>0&&(z(o.nc),o.nc=!1))}),yield $i(t,r,e)}catch(r){yield ds(r)}}),d0.apply(this,arguments)}function ej(n,e,t){const r=k(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=k(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.bu(o)&&(u=!0)}),u&&r0(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ece(n,e,t){return h0.apply(this,arguments)}function h0(){return h0=y(function*(n,e,t){const r=k(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Ye(N.comparator);o=o.insert(s,Re.newNoDocument(s,W.min()));const a=se().add(s),u=new rd(W.min(),new Map,new De(ee),o,a);yield J$(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),v0(r)}else yield vu(r.localStore,e,!1).then(()=>Cu(r,e,t)).catch(ds)}),h0.apply(this,arguments)}function Ice(n,e){return f0.apply(this,arguments)}function f0(){return f0=y(function*(n,e){const t=k(n),r=e.batch.batchId;try{const i=yield Ule(t.localStore,e);y0(t,r,null),m0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield $i(t,i)}catch(i){yield ds(i)}}),f0.apply(this,arguments)}function bce(n,e,t){return p0.apply(this,arguments)}function p0(){return p0=y(function*(n,e,t){const r=k(n);try{const i=yield function(s,o){const a=k(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(z(null!==c),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);y0(r,e,t),m0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield $i(r,i)}catch(i){yield ds(i)}}),p0.apply(this,arguments)}function m0(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function y0(n,e,t){const r=k(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Cu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||tj(n,r)})}function tj(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(vd(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),v0(n))}function _0(n,e,t){for(const r of t)r instanceof Y$?(n.ac.addReference(r.key,e),Tce(n,r)):r instanceof Z$?(A("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||tj(n,r.key)):V()}function Tce(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(A("SyncEngine","New document in limbo: "+t),n.oc.add(r),v0(n))}function v0(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new N(ge.fromString(e)),r=n.fc.next();n.cc.set(r,new mce(t)),n.uc=n.uc.insert(t,r),Bg(n.remoteStore,new _s(En(uu(t.path)),r,2,kn.at))}}function $i(n,e,t){return w0.apply(this,arguments)}function w0(){return w0=y(function*(n,e,t){const r=k(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const c=DC.Ci(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=y(function*(u,l){const c=k(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(l,h=>w.forEach(h.Si,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Di,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!hs(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.Ui=c.Ui.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),w0.apply(this,arguments)}function Cce(n,e){return E0.apply(this,arguments)}function E0(){return E0=y(function*(n,e){const t=k(n);if(!t.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield M$(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new S(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $i(t,r.ji)}var i}),E0.apply(this,arguments)}function Sce(n,e){const t=k(n),r=t.cc.get(e);if(r&&r.nc)return se().add(r.key);{let i=se();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function M0(n){const e=k(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=J$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ece.bind(null,e),e.sc.Wo=dce.bind(null,e.eventManager),e.sc.wc=hce.bind(null,e.eventManager),e}function x0(n){const e=k(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ice.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bce.bind(null,e),e}class Fce{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.It=yd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function A$(n,e,t,r){return new Vle(n,e,t,r)}(this.persistence,new S$,e.initialUser,this.It)}yc(e){return new T$(Pg.Bs,this.It)}gc(e){return new L$}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class N0{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>ej(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Cce.bind(null,r.syncEngine),yield function YC(n,e){return ZC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cce}createDatastore(e){const t=yd(e.databaseInfo.databaseId),r=new Wle(e.databaseInfo);return new Yle(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>ej(this.syncEngine,a,0),o=V$.C()?new V$:new Gle,new Jle(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new yce(r,i,s,o,a,u);return l&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=y(function*(t){const r=k(t);A("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield wu(r),r.mu.shutdown(),r.gu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}function k0(n,e,t){if(!t)throw new S(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ij(n){if(!N.isDocumentKey(n))throw new S(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sj(n){if(N.isDocumentKey(n))throw new S(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":V()}function he(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new S(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jg(n);throw new S(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const aj=new Map;class uj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new S(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Uce(n,e,t,r){if(!0===e&&!0===r)throw new S(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Wae;switch(t.type){case"gapi":return new Zae(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new S(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aj.get(e);t&&(A("ComponentProvider","Removing Datastore"),aj.delete(e),t.terminate())}(this),Promise.resolve()}}class rt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}}class en{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new en(this.firestore,e,this._query)}}class ei extends en{constructor(e,t,r){super(e,t,uu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new N(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function R0(n,e,...t){if(n=yn(n),k0("collection","path",e),n instanceof wd){const r=ge.fromString(e,...t);return sj(r),new ei(n,null,r)}{if(!(n instanceof rt||n instanceof ei))throw new S(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return sj(r),new ei(n.firestore,null,r)}}function lj(n,e,...t){if(n=yn(n),1===arguments.length&&(e=HB.R()),k0("doc","path",e),n instanceof wd){const r=ge.fromString(e,...t);return ij(r),new rt(n,null,new N(r))}{if(!(n instanceof rt||n instanceof ei))throw new S(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return ij(r),new rt(n.firestore,n instanceof ei?n.converter:null,new N(r))}}class Hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):tt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zce{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=HB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=bu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function hj(n,e){return P0.apply(this,arguments)}function P0(){return P0=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield M$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),P0.apply(this,arguments)}function fj(n,e){return O0.apply(this,arguments)}function O0(){return O0=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield F0(n);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>z$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>z$(e.remoteStore,s)),n.onlineComponents=e}),O0.apply(this,arguments)}function F0(n){return L0.apply(this,arguments)}function L0(){return L0=y(function*(n){return n.offlineComponents||(A("FirestoreClient","Using default OfflineComponentProvider"),yield hj(n,new Fce)),n.offlineComponents}),L0.apply(this,arguments)}function Gg(n){return V0.apply(this,arguments)}function V0(){return V0=y(function*(n){return n.onlineComponents||(A("FirestoreClient","Using default OnlineComponentProvider"),yield fj(n,new N0)),n.onlineComponents}),V0.apply(this,arguments)}function Su(n){return $0.apply(this,arguments)}function $0(){return $0=y(function*(n){const e=yield Gg(n),t=e.eventManager;return t.onListen=_ce.bind(null,e.syncEngine),t.onUnlisten=vce.bind(null,e.syncEngine),t}),$0.apply(this,arguments)}class ede{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new RC(this,"async_queue_retry"),this.Wc=()=>{const t=Ug();t&&A("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Ug();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Ug();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new vt;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return y(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!hs(t))throw t;A("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,tt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=XC.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&V()}verifyOperationInProgress(){}Xc(){var e=this;return y(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function j0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Pe extends wd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ede,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_j(this),this._firestoreClient.terminate()}}function nde(n,e){const r="string"==typeof n?n:e||"(default)",i=dp("object"==typeof n?n:KF(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=qw())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function Bce(n,e,t,r={}){var i;const s=(n=he(n,wd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&ru("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Ct.MOCK_USER;else{o=function bJ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ip(JSON.stringify({alg:"none",type:"JWT"})),ip(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ct(u)}n._authCredentials=new Kae(new $B(o,a))}}(i,...s)}return i}function dt(n){return n._firestoreClient||_j(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _j(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lue(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new zce(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(wt.fromBase64String(e))}catch(t){throw new S(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vo(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Au{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new S(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class H0{constructor(e){this._methodName=e}}class G0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new S(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const rde=/^__.*__$/;class ide{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ui(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class Ej{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ui(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ij(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class zg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Kg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Ij(this.sa)&&rde.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class sde{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||yd(e)}da(e,t,r,i=!1){return new zg({sa:e,methodName:t,fa:r,path:nt.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Mu(n){const e=n._freezeSettings(),t=yd(n._databaseId);return new sde(n._databaseId,!!e.ignoreUndefinedProperties,t)}function q0(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);W0("Data must be an object, but it was:",o,r);const a=Sj(r,o);let u,l;if(s.merge)u=new er(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=K0(e,d,t);if(!o.contains(h))throw new S(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Mj(c,h)||c.push(h)}u=new er(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new ide(new $t(a),u,l)}class Ed extends H0{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function Uo(n,e){if(Aj(n=yn(n)))return W0("Unsupported field value:",e,n),Sj(n,e);if(n instanceof H0)return function(t,r){if(!Ij(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Uo(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=yn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return w2(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=He.fromDate(t);return{timestampValue:sd(r.It,i)}}if(t instanceof He){const i=new He(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sd(r.It,i)}}if(t instanceof G0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vo)return{bytesValue:$2(r.It,t._byteString)};if(t instanceof rt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lC(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${jg(t)}`)}(n,e)}function Sj(n,e){const t={};return YB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(n,(r,i)=>{const s=Uo(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Aj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof He||n instanceof G0||n instanceof Vo||n instanceof rt||n instanceof H0)}function W0(n,e,t){if(!Aj(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=jg(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function K0(n,e,t){if((e=yn(e))instanceof Au)return e._internalPath;if("string"==typeof e)return Wg(n,e);throw Kg("Field path arguments must be of type string or ",n,!1,void 0,t)}const lde=new RegExp("[~\\*/\\[\\]]");function Wg(n,e,t){if(e.search(lde)>=0)throw Kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Au(...e.split("."))._internalPath}catch{throw Kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(E.INVALID_ARGUMENT,a+n+u)}function Mj(n,e){return n.some(t=>t.isEqual(e))}class Q0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cde extends Q0{data(){return super.data()}}function Qg(n,e){return"string"==typeof e?Wg(n,e):e instanceof Au?e._internalPath:e._delegate._internalPath}class Bo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xu extends Q0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Qg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Yg extends xu{data(e={}){return super.data(e)}}class Nu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Yg(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new S(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Yg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Yg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:pde(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pde(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class Is extends class fde{convertValue(e,t="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw V()}}convertObject(e,t){const r={};return Io(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new G0(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=XB(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=fs(e);return new He(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ge.fromString(e);z(Y2(r));const i=new Do(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(t)||tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,t)}}function gde(n,e,t,...r){n=he(n,rt);const i=he(n.firestore,Pe),s=Mu(i);let o;return o="string"==typeof(e=yn(e))||e instanceof Au?function Tj(n,e,t,r,i,s){const o=n.da(1,e,t),a=[K0(e,r,t)],u=[i];if(s.length%2!=0)throw new S(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(K0(e,s[h])),u.push(s[h+1]);const l=[],c=$t.empty();for(let h=a.length-1;h>=0;--h)if(!Mj(l,a[h])){const f=a[h];let p=u[h];p=yn(p);const g=o.ca(f);if(p instanceof Ed)l.push(f);else{const m=Uo(p,g);null!=m&&(l.push(f),c.set(f,m))}}const d=new er(l);return new Ej(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function Dj(n,e,t,r){const i=n.da(1,e,t);W0("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();Io(r,(u,l)=>{const c=Wg(e,u,t);l=yn(l);const d=i.ca(c);if(l instanceof Ed)s.push(c);else{const h=Uo(l,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new er(s);return new Ej(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Id(i,[o.toMutation(n._key,Ue.exists(!0))])}function mde(n){return Id(he(n.firestore,Pe),[new fu(n._key,Ue.none())])}function yde(n,e){const t=he(n.firestore,Pe),r=lj(n),i=function Y0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Id(t,[q0(Mu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ue.exists(!1))]).then(()=>r)}function Id(n,e){return function(t,r){const i=new vt;return t.asyncQueue.enqueueAndForget(y(function*(){return function wce(n,e,t){return c0.apply(this,arguments)}(yield function B0(n){return Gg(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(dt(n),e)}!function(n,e=!0){nu="9.14.0",_n(new Zt("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Pe(new Qae(t.getProvider("auth-internal")),new Xae(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),et(BB,"3.7.3",n),et(BB,"3.7.3","esm2017")}();var Ide={includeMetadataChanges:!1};function X0(n,e){return void 0===e&&(e=Ide),new Be(function(t){var r=function _de(n,...e){var t,r,i;n=yn(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||j0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(j0(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof rt)l=he(n.firestore,Pe),c=uu(n._key.path),u={next:d=>{e[o]&&e[o](function Z0(n,e,t){const r=t.docs.get(e._key),i=new Is(n);return new xu(n,i,e._key,r,new Bo(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=he(n,en);l=he(d.firestore,Pe),c=d._query;const h=new Is(l);u={next:f=>{e[o]&&e[o](new Nu(l,h,d,f))},error:e[o+1],complete:e[o+2]},function xj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new S(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new Hg(p),m=new s0(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function JC(n,e){return e0.apply(this,arguments)}(yield Su(d),m)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(y(function*(){return function t0(n,e){return n0.apply(this,arguments)}(yield Su(d),m)}))}}(dt(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Mde(n,e){return void 0===e&&(e={}),function Ade(n){return X0(n,{includeMetadataChanges:!0}).pipe(de(function(e){return e.docs}))}(n).pipe(de(function(t){return t.map(function(r){return function Uj(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Xg{constructor(e){return e}}const Hj="firestore",tS=new B("angularfire2.firestore-instances");function kde(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Xg(r)}}const Rde={provide:class xde{constructor(){return qI(Hj)}},deps:[[new ln,tS]]},Pde={provide:Xg,useFactory:function Nde(n,e){const t=function GI(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(Hj,n,e);return t&&new Xg(t)},deps:[[new ln,tS],Ka]};let Ode=(()=>{class n{constructor(){et("angularfire",FI.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n}),n.\u0275inj=nn({providers:[Pde,Rde]}),n})();function Fde(n,...e){return{ngModule:Ode,providers:[{provide:tS,useFactory:kde(n),multi:!0,deps:[Le,dn,JL,eV,[new ln,tU],[new ln,DU],...e]}]}}const Lde=co(Mde,!0),Vde=co(yde,!0),Ude=co(mde,!0),nS=co(lj,!0),Bde=co(nde,!0),$de=co(gde,!0);let jde=(()=>{class n{constructor(t){this.fs=t}addNote(t){return t.id=nS(R0(this.fs,"id")).id,Vde(R0(this.fs,"Notes"),t)}getNotes(){let t=R0(this.fs,"Notes");return Lde(t,{idField:"id"})}deleteNote(t){let r=nS(this.fs,`Notes/${t.id}`);return Ude(r)}updateNote(t,r){let i=nS(this.fs,`Notes/${t.id}`);return $de(i,r)}}return n.\u0275fac=function(t){return new(t||n)(F(Xg))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hde(n,e){if(1&n){const t=function kx(){return T()}();$e(0,"div",27)(1,"div",28)(2,"h5"),fn(3),be(),$e(4,"p",29),fn(5),be(),$e(6,"div",30)(7,"span",31)(8,"i",32),It("click",function(){const s=Tm(t).$implicit;return Cm(Aa().getAllDetails(s))}),be()(),$e(9,"span",31)(10,"i",33),It("click",function(){const s=Tm(t).$implicit;return Cm(Aa().deleteNote(s))}),be()()()()()}if(2&n){const t=e.$implicit;qn(3),Dh(t.note_title),qn(2),Dh(t.note_dec)}}let Gde=(()=>{class n{constructor(t,r,i){this.fb=t,this.noteService=r,this.spinner=i,this.notesData=[],this.noteObj={id:"",note_title:"",note_dec:""},this.noteForm=this.fb.group({title:["",zf.required],description:["",zf.required]}),this.editForm=this.fb.group({edit_title:["",zf.required],edit_description:["",zf.required]})}ngOnInit(){this.getAllNotes()}addNote(){const{value:t}=this.noteForm;console.log(t),this.noteObj.id="",this.noteObj.note_title=t.title,this.noteObj.note_dec=t.description,this.noteService.addNote(this.noteObj).then(r=>{r&&(alert("Note Added Successfully"),this.noteForm.reset())})}getAllNotes(){this.spinner.show(),this.noteService.getNotes().subscribe(t=>{console.log(t),this.notesData=t,this.spinner.hide()})}deleteNote(t){1==confirm("Are you sure you want to delete this Note?")&&this.noteService.deleteNote(t)}getAllDetails(t){this.noteDetails=t,console.log(this.noteDetails)}updateNote(t){const{value:r}=this.editForm;this.noteObj.id=t.id,this.noteObj.note_title=r.edit_title,this.noteObj.note_dec=r.edit_description,this.noteService.updateNote(t,this.noteObj).then(()=>{alert("Note Update Successfully")}),this.editForm.reset()}}return n.\u0275fac=function(t){return new(t||n)(D(oJ),D(jde),D(sP))},n.\u0275cmp=qo({type:n,selectors:[["app-note"]],decls:53,vars:7,consts:[["size","medium","color","#fff","type","ball-scale-multiple",3,"fullScreen"],[2,"font-size","20px","color","white"],[1,"container"],["type","button","data-bs-toggle","modal","data-bs-target","#addNoteModal",1,"btn","btn-primary"],[1,"bi","bi-file-plus"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],["id","addNoteModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","formControlName","title",1,"form-control"],["for","message-text",1,"col-form-label"],["id","message-text","formControlName","description",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","editNoteModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","id","recipient-name","formControlName","edit_title",1,"form-control",3,"value"],["id","message-text","formControlName","edit_description",1,"form-control",3,"value"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-4"],[1,"card","card-body"],[1,"text-muted"],[1,"d-flex","allign-items-center"],[1,"mx-3"],["data-bs-toggle","modal","data-bs-target","#editNoteModal",1,"bi","bi-pen",3,"click"],[1,"bi","bi-trash",3,"click"]],template:function(t,r){1&t&&($e(0,"ngx-spinner",0)(1,"p",1),fn(2,"Loading..."),be()(),$e(3,"div",2)(4,"button",3),fn(5,"Create Note"),Wn(6,"i",4),be(),$e(7,"div",5),Sa(8,Hde,11,2,"div",6),be(),$e(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"h1",11),fn(14,"Add Daily Notes"),be(),Wn(15,"button",12),be(),$e(16,"div",13)(17,"form",14)(18,"div",15)(19,"label",16),fn(20,"Note Title:"),be(),Wn(21,"input",17),be(),$e(22,"div",15)(23,"label",18),fn(24,"Note Description:"),be(),Wn(25,"textarea",19),be()()(),$e(26,"div",20)(27,"button",21),fn(28,"Close"),be(),$e(29,"button",22),It("click",function(){return r.addNote()}),fn(30,"Add Note"),be()()()()(),$e(31,"div",23)(32,"div",8)(33,"div",9)(34,"div",10)(35,"h1",11),fn(36,"Edit Notes"),be(),Wn(37,"button",12),be(),$e(38,"div",13)(39,"form",14)(40,"div",15)(41,"label",16),fn(42,"Note Title:"),be(),Wn(43,"input",24),be(),$e(44,"div",15)(45,"label",18),fn(46,"Note Description:"),be(),Wn(47,"textarea",25),be()()(),$e(48,"div",20)(49,"button",21),fn(50,"Close"),be(),$e(51,"button",26),It("click",function(){return r.updateNote(r.notesData)}),fn(52,"Update Note"),be()()()()()()),2&t&&(hn("fullScreen",!0),qn(8),hn("ngForOf",r.notesData),qn(9),hn("formGroup",r.noteForm),qn(12),hn("disabled",r.noteForm.invalid),qn(10),hn("formGroup",r.editForm),qn(4),hn("value",null==r.noteDetails?null:r.noteDetails.note_title),qn(4),hn("value",null==r.noteDetails?null:r.noteDetails.note_dec))},dependencies:[rv,fF,qf,QO,YO,rp,Lw,x9]}),n})(),qde=(()=>{class n{constructor(){this.title="NotesApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qo({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Wn(0,"app-note")},dependencies:[Gde]}),n})();const Gj_firebaseConfig={apiKey:"AIzaSyAMUNcUGFQ777vZwa6LSNsjPJH3y-xXj18",authDomain:"fire-crud-ca1fc.firebaseapp.com",projectId:"fire-crud-ca1fc",storageBucket:"fire-crud-ca1fc.appspot.com",messagingSenderId:"265865241022",appId:"1:265865241022:web:ffe658039dd91b219e59ef"};let zde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n,bootstrap:[qde]}),n.\u0275inj=nn({imports:[c1,NF,lX,w9,N9,Nre(()=>kre(Gj_firebaseConfig)),Fde(()=>Bde())]}),n})();(function k8(){dR=!1})(),l7().bootstrapModule(zde).catch(n=>console.error(n))}},Se=>{Se(Se.s=757)}]);